const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-B05_bWHf.js","assets/QBtn-BSaS3ZxL.js","assets/index-5aC6UX43.js","assets/index-CGJ55vnk.css","assets/render-CsgCk0l5.js","assets/_plugin-vue_export-helper-DlAUqK2U.js"])))=>i.map(i=>d[i]);
var Vv=Object.defineProperty;var fp=t=>{throw TypeError(t)};var jv=(t,e,n)=>e in t?Vv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Nu=(t,e,n)=>jv(t,typeof e!="symbol"?e+"":e,n),mh=(t,e,n)=>e.has(t)||fp("Cannot "+n);var Gt=(t,e,n)=>(mh(t,e,"read from private field"),n?n.call(t):e.get(t)),Bi=(t,e,n)=>e.has(t)?fp("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ks=(t,e,n,r)=>(mh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),pr=(t,e,n)=>(mh(t,e,"access private method"),n);import{v as Va,g as Bv,R as im,Q as mr,a as Yn}from"./QBtn-BSaS3ZxL.js";import{e as Mn,h as _e,f as ye,r as et,i as Fc,g as Yr,j as Cn,k as Ei,n as Vc,l as xi,m as sf,p as ol,q as zi,s as Hf,w as Jt,t as qv,u as zv,v as Uv,x as $v,y as Hv,z as om,A as ja,B as Zi,C as Ba,D as bs,E as qa,F as Ja,G as sm,H as jc,T as Hr,K as am,I as gh,J as Dl,L as Bc,M as qc,N as lm,O as Wf,Q as Wv,R as um,S as cm,U as Gv,_ as vh,c as Dn,o as wt,V as se,W as dp,X as Xt,Y as hm,Z as Ss,$ as xt,a0 as Yv,a1 as Kv,a2 as rn,a3 as qn,a4 as wo,a5 as Wr,a6 as Qv,a as af,a7 as xs,a8 as Ts,a9 as Xv,aa as Jv,ab as wr,ac as fm,ad as Zv,ae as e5,af as Js,ag as Fl,ah as t5,ai as n5,aj as r5,ak as dm,al as i5,am as o5,an as pm,ao as pp,ap as mp,aq as gp}from"./index-5aC6UX43.js";import{h as gr,a as s5,b as mm,c as Gf}from"./render-CsgCk0l5.js";import{_ as Rr}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Lu=Mn({name:"QSpace",setup(){const t=_e("div",{class:"q-space"});return()=>t}}),vp=Mn({name:"QToolbar",props:{inset:Boolean},setup(t,{slots:e}){const n=ye(()=>"q-toolbar row no-wrap items-center"+(t.inset===!0?" q-toolbar--inset":""));return()=>_e("div",{class:n.value,role:"toolbar"},gr(e.default))}});function a5(){const t=et(!Fc.value);return t.value===!1&&Yr(()=>{t.value=!0}),{isHydrated:t}}const gm=typeof ResizeObserver<"u",yp=gm===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},hc=Mn({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(t,{emit:e}){let n=null,r,i={width:-1,height:-1};function o(c){c===!0||t.debounce===0||t.debounce==="0"?s():n===null&&(n=setTimeout(s,t.debounce))}function s(){if(n!==null&&(clearTimeout(n),n=null),r){const{offsetWidth:c,offsetHeight:h}=r;(c!==i.width||h!==i.height)&&(i={width:c,height:h},e("resize",i))}}const{proxy:a}=Cn();if(a.trigger=o,gm===!0){let c;const h=d=>{r=a.$el.parentNode,r?(c=new ResizeObserver(o),c.observe(r),s()):d!==!0&&xi(()=>{h(!0)})};return Yr(()=>{h()}),Ei(()=>{n!==null&&clearTimeout(n),c!==void 0&&(c.disconnect!==void 0?c.disconnect():r&&c.unobserve(r))}),Vc}else{let c=function(){n!==null&&(clearTimeout(n),n=null),y!==void 0&&(y.removeEventListener!==void 0&&y.removeEventListener("resize",o,sf.passive),y=void 0)},h=function(){c(),r?.contentDocument&&(y=r.contentDocument.defaultView,y.addEventListener("resize",o,sf.passive),s())};const{isHydrated:d}=a5();let y;return Yr(()=>{xi(()=>{r=a.$el,r&&h()})}),Ei(c),()=>{if(d.value===!0)return _e("object",{class:"q--avoid-card-border",style:yp.style,tabindex:-1,type:"text/html",data:yp.url,"aria-hidden":"true",onLoad:h})}}}}),_p=Mn({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:e,emit:n}){const{proxy:{$q:r}}=Cn(),i=ol(Hf,zi);if(i===zi)return console.error("QHeader needs to be child of QLayout"),zi;const o=et(parseInt(t.heightHint,10)),s=et(!0),a=ye(()=>t.reveal===!0||i.view.value.indexOf("H")!==-1||r.platform.is.ios&&i.isContainer.value===!0),c=ye(()=>{if(t.modelValue!==!0)return 0;if(a.value===!0)return s.value===!0?o.value:0;const F=o.value-i.scroll.value.position;return F>0?F:0}),h=ye(()=>t.modelValue!==!0||a.value===!0&&s.value!==!0),d=ye(()=>t.modelValue===!0&&h.value===!0&&t.reveal===!0),y=ye(()=>"q-header q-layout__section--marginal "+(a.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(h.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),S=ye(()=>{const F=i.rows.value.top,B={};return F[0]==="l"&&i.left.space===!0&&(B[r.lang.rtl===!0?"right":"left"]=`${i.left.size}px`),F[2]==="r"&&i.right.space===!0&&(B[r.lang.rtl===!0?"left":"right"]=`${i.right.size}px`),B});function p(F,B){i.update("header",F,B)}function N(F,B){F.value!==B&&(F.value=B)}function R({height:F}){N(o,F),p("size",F)}function L(F){d.value===!0&&N(s,!0),n("focusin",F)}Jt(()=>t.modelValue,F=>{p("space",F),N(s,!0),i.animate()}),Jt(c,F=>{p("offset",F)}),Jt(()=>t.reveal,F=>{F===!1&&N(s,t.modelValue)}),Jt(s,F=>{i.animate(),n("reveal",F)}),Jt(i.scroll,F=>{t.reveal===!0&&N(s,F.direction==="up"||F.position<=t.revealOffset||F.position-F.inflectionPoint<100)});const C={};return i.instances.header=C,t.modelValue===!0&&p("size",o.value),p("space",t.modelValue),p("offset",c.value),Ei(()=>{i.instances.header===C&&(i.instances.header=void 0,p("size",0),p("offset",0),p("space",!1))}),()=>{const F=s5(e.default,[]);return t.elevated===!0&&F.push(_e("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),F.push(_e(hc,{debounce:0,onResize:R})),_e("header",{class:y.value,style:S.value,onFocusin:L},F)}}}),{passive:bp}=sf,l5=["both","horizontal","vertical"],lf=Mn({name:"QScrollObserver",props:{axis:{type:String,validator:t=>l5.includes(t),default:"vertical"},debounce:[String,Number],scrollTarget:qv},emits:["scroll"],setup(t,{emit:e}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let r=null,i,o;Jt(()=>t.scrollTarget,()=>{c(),a()});function s(){r?.();const y=Math.max(0,Uv(i)),S=$v(i),p={top:y-n.position.top,left:S-n.position.left};if(t.axis==="vertical"&&p.top===0||t.axis==="horizontal"&&p.left===0)return;const N=Math.abs(p.top)>=Math.abs(p.left)?p.top<0?"up":"down":p.left<0?"left":"right";n.position={top:y,left:S},n.directionChanged=n.direction!==N,n.delta=p,n.directionChanged===!0&&(n.direction=N,n.inflectionPoint=n.position),e("scroll",{...n})}function a(){i=zv(o,t.scrollTarget),i.addEventListener("scroll",h,bp),h(!0)}function c(){i!==void 0&&(i.removeEventListener("scroll",h,bp),i=void 0)}function h(y){if(y===!0||t.debounce===0||t.debounce==="0")s();else if(r===null){const[S,p]=t.debounce?[setTimeout(s,t.debounce),clearTimeout]:[requestAnimationFrame(s),cancelAnimationFrame];r=()=>{p(S),r=null}}}const{proxy:d}=Cn();return Jt(()=>d.$q.lang.rtl,s),Yr(()=>{o=d.$el.parentNode,a()}),Ei(()=>{r?.(),c()}),Object.assign(d,{trigger:h,getPosition:()=>n}),Vc}}),Yf={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},u5=Object.keys(Yf);Yf.all=!0;function fc(t){const e={};for(const n of u5)t[n]===!0&&(e[n]=!0);return Object.keys(e).length===0?Yf:(e.horizontal===!0?e.left=e.right=!0:e.left===!0&&e.right===!0&&(e.horizontal=!0),e.vertical===!0?e.up=e.down=!0:e.up===!0&&e.down===!0&&(e.vertical=!0),e.horizontal===!0&&e.vertical===!0&&(e.all=!0),e)}const c5=["INPUT","TEXTAREA"];function dc(t,e){return e.event===void 0&&t.target!==void 0&&t.target.draggable!==!0&&typeof e.handler=="function"&&c5.includes(t.target.nodeName.toUpperCase())===!1&&(t.qClonedBy===void 0||t.qClonedBy.indexOf(e.uid)===-1)}function vm(){if(window.getSelection!==void 0){const t=window.getSelection();t.empty!==void 0?t.empty():t.removeAllRanges!==void 0&&(t.removeAllRanges(),Hv.is.mobile!==!0&&t.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function h5(t){const e=[.06,6,50];return typeof t=="string"&&t.length&&t.split(":").forEach((n,r)=>{const i=parseFloat(n);i&&(e[r]=i)}),e}const f5=om({name:"touch-swipe",beforeMount(t,{value:e,arg:n,modifiers:r}){if(r.mouse!==!0&&Zi.has.touch!==!0)return;const i=r.mouseCapture===!0?"Capture":"",o={handler:e,sensitivity:h5(n),direction:fc(r),noop:Vc,mouseStart(s){dc(s,o)&&sm(s)&&(bs(o,"temp",[[document,"mousemove","move",`notPassive${i}`],[document,"mouseup","end","notPassiveCapture"]]),o.start(s,!0))},touchStart(s){if(dc(s,o)){const a=s.target;bs(o,"temp",[[a,"touchmove","move","notPassiveCapture"],[a,"touchcancel","end","notPassiveCapture"],[a,"touchend","end","notPassiveCapture"]]),o.start(s)}},start(s,a){Zi.is.firefox===!0&&Ba(t,!0);const c=Ja(s);o.event={x:c.left,y:c.top,time:Date.now(),mouse:a===!0,dir:!1}},move(s){if(o.event===void 0)return;if(o.event.dir!==!1){qa(s);return}const a=Date.now()-o.event.time;if(a===0)return;const c=Ja(s),h=c.left-o.event.x,d=Math.abs(h),y=c.top-o.event.y,S=Math.abs(y);if(o.event.mouse!==!0){if(d<o.sensitivity[1]&&S<o.sensitivity[1]){o.end(s);return}}else if(window.getSelection().toString()!==""){o.end(s);return}else if(d<o.sensitivity[2]&&S<o.sensitivity[2])return;const p=d/a,N=S/a;o.direction.vertical===!0&&d<S&&d<100&&N>o.sensitivity[0]&&(o.event.dir=y<0?"up":"down"),o.direction.horizontal===!0&&d>S&&S<100&&p>o.sensitivity[0]&&(o.event.dir=h<0?"left":"right"),o.direction.up===!0&&d<S&&y<0&&d<100&&N>o.sensitivity[0]&&(o.event.dir="up"),o.direction.down===!0&&d<S&&y>0&&d<100&&N>o.sensitivity[0]&&(o.event.dir="down"),o.direction.left===!0&&d>S&&h<0&&S<100&&p>o.sensitivity[0]&&(o.event.dir="left"),o.direction.right===!0&&d>S&&h>0&&S<100&&p>o.sensitivity[0]&&(o.event.dir="right"),o.event.dir!==!1?(qa(s),o.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),vm(),o.styleCleanup=R=>{o.styleCleanup=void 0,document.body.classList.remove("non-selectable");const L=()=>{document.body.classList.remove("no-pointer-events--children")};R===!0?setTimeout(L,50):L()}),o.handler({evt:s,touch:o.event.mouse!==!0,mouse:o.event.mouse,direction:o.event.dir,duration:a,distance:{x:d,y:S}})):o.end(s)},end(s){o.event!==void 0&&(ja(o,"temp"),Zi.is.firefox===!0&&Ba(t,!1),o.styleCleanup?.(!0),s!==void 0&&o.event.dir!==!1&&qa(s),o.event=void 0)}};if(t.__qtouchswipe=o,r.mouse===!0){const s=r.mouseCapture===!0||r.mousecapture===!0?"Capture":"";bs(o,"main",[[t,"mousedown","mouseStart",`passive${s}`]])}Zi.has.touch===!0&&bs(o,"main",[[t,"touchstart","touchStart",`passive${r.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,e){const n=t.__qtouchswipe;n!==void 0&&(e.oldValue!==e.value&&(typeof e.value!="function"&&n.end(),n.handler=e.value),n.direction=fc(e.modifiers))},beforeUnmount(t){const e=t.__qtouchswipe;e!==void 0&&(ja(e,"main"),ja(e,"temp"),Zi.is.firefox===!0&&Ba(t,!1),e.styleCleanup?.(),delete t.__qtouchswipe)}});function Kf(){let t=Object.create(null);return{getCache:(e,n)=>t[e]===void 0?t[e]=typeof n=="function"?n():n:t[e],setCache(e,n){t[e]=n},hasCache(e){return Object.hasOwnProperty.call(t,e)},clearCache(e){e!==void 0?delete t[e]:t=Object.create(null)}}}function Wl(){let t=null;const e=Cn();function n(){t!==null&&(clearTimeout(t),t=null)}return jc(n),Ei(n),{removeTimeout:n,registerTimeout(r,i){n(),Va(e)===!1&&(t=setTimeout(()=>{t=null,r()},i))}}}const ym={name:{required:!0},disable:Boolean},wp={setup(t,{slots:e}){return()=>_e("div",{class:"q-panel scroll",role:"tabpanel"},gr(e.default))}},_m={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},bm=["update:modelValue","beforeTransition","transition"];function wm(){const{props:t,emit:e,proxy:n}=Cn(),{getCache:r}=Kf(),{registerTimeout:i}=Wl();let o,s;const a=et(null),c={value:null};function h(U){const re=t.vertical===!0?"up":"left";E((n.$q.lang.rtl===!0?-1:1)*(U.direction===re?1:-1))}const d=ye(()=>[[f5,h,void 0,{horizontal:t.vertical!==!0,vertical:t.vertical,mouse:!0}]]),y=ye(()=>t.transitionPrev||`slide-${t.vertical===!0?"down":"right"}`),S=ye(()=>t.transitionNext||`slide-${t.vertical===!0?"up":"left"}`),p=ye(()=>`--q-transition-duration: ${t.transitionDuration}ms`),N=ye(()=>typeof t.modelValue=="string"||typeof t.modelValue=="number"?t.modelValue:String(t.modelValue)),R=ye(()=>({include:t.keepAliveInclude,exclude:t.keepAliveExclude,max:t.keepAliveMax})),L=ye(()=>t.keepAliveInclude!==void 0||t.keepAliveExclude!==void 0);Jt(()=>t.modelValue,(U,re)=>{const le=M(U)===!0?Z(U):-1;s!==!0&&V(le===-1?0:le<Z(re)?-1:1),c.value!==le&&(c.value=le,e("beforeTransition",U,re),i(()=>{e("transition",U,re)},t.transitionDuration))});function C(){E(1)}function F(){E(-1)}function B(U){e("update:modelValue",U)}function M(U){return U!=null&&U!==""}function Z(U){return o.findIndex(re=>re.props.name===U&&re.props.disable!==""&&re.props.disable!==!0)}function ue(){return o.filter(U=>U.props.disable!==""&&U.props.disable!==!0)}function V(U){const re=U!==0&&t.animated===!0&&c.value!==-1?"q-transition--"+(U===-1?y.value:S.value):null;a.value!==re&&(a.value=re)}function E(U,re=c.value){let le=re+U;for(;le!==-1&&le<o.length;){const ae=o[le];if(ae!==void 0&&ae.props.disable!==""&&ae.props.disable!==!0){V(U),s=!0,e("update:modelValue",ae.props.name),setTimeout(()=>{s=!1});return}le+=U}t.infinite===!0&&o.length!==0&&re!==-1&&re!==o.length&&E(U,U===-1?o.length:-1)}function b(){const U=Z(t.modelValue);return c.value!==U&&(c.value=U),!0}function I(){const U=M(t.modelValue)===!0&&b()&&o[c.value];return t.keepAlive===!0?[_e(am,R.value,[_e(L.value===!0?r(N.value,()=>({...wp,name:N.value})):wp,{key:N.value,style:p.value},()=>U)])]:[_e("div",{class:"q-panel scroll",style:p.value,key:N.value,role:"tabpanel"},[U])]}function _(){if(o.length!==0)return t.animated===!0?[_e(Hr,{name:a.value},I)]:I()}function w(U){return o=Bv(gr(U.default,[])).filter(re=>re.props!==null&&re.props.slot===void 0&&M(re.props.name)===!0),o.length}function x(){return o}return Object.assign(n,{next:C,previous:F,goTo:B}),{panelIndex:c,panelDirectives:d,updatePanelsList:w,updatePanelIndex:b,getPanelContent:_,getEnabledPanels:ue,getPanels:x,isValidPanelName:M,keepAliveProps:R,needsUniqueKeepAliveWrapper:L,goToPanelByOffset:E,goToPanel:B,nextPanel:C,previousPanel:F}}const Ap=Mn({name:"QTabPanel",props:ym,setup(t,{slots:e}){return()=>_e("div",{class:"q-tab-panel",role:"tabpanel"},gr(e.default))}}),ca={dark:{type:Boolean,default:null}};function ha(t,e){return ye(()=>t.dark===null?e.dark.isActive:t.dark)}const Sp=Mn({name:"QTabPanels",props:{..._m,...ca},emits:bm,setup(t,{slots:e}){const n=Cn(),r=ha(t,n.proxy.$q),{updatePanelsList:i,getPanelContent:o,panelDirectives:s}=wm(),a=ye(()=>"q-tab-panels q-panel-parent"+(r.value===!0?" q-tab-panels--dark q-dark":""));return()=>(i(e),mm("div",{class:a.value},o(),"pan",t.swipeable,()=>s.value))}}),xp=Mn({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:e,emit:n}){const{proxy:{$q:r}}=Cn(),i=et(null),o=et(r.screen.height),s=et(t.container===!0?0:r.screen.width),a=et({position:0,direction:"down",inflectionPoint:0}),c=et(0),h=et(Fc.value===!0?0:gh()),d=ye(()=>"q-layout q-layout--"+(t.container===!0?"containerized":"standard")),y=ye(()=>t.container===!1?{minHeight:r.screen.height+"px"}:null),S=ye(()=>h.value!==0?{[r.lang.rtl===!0?"left":"right"]:`${h.value}px`}:null),p=ye(()=>h.value!==0?{[r.lang.rtl===!0?"right":"left"]:0,[r.lang.rtl===!0?"left":"right"]:`-${h.value}px`,width:`calc(100% + ${h.value}px)`}:null);function N(M){if(t.container===!0||document.qScrollPrevented!==!0){const Z={position:M.position.top,direction:M.direction,directionChanged:M.directionChanged,inflectionPoint:M.inflectionPoint.top,delta:M.delta.top};a.value=Z,t.onScroll!==void 0&&n("scroll",Z)}}function R(M){const{height:Z,width:ue}=M;let V=!1;o.value!==Z&&(V=!0,o.value=Z,t.onScrollHeight!==void 0&&n("scrollHeight",Z),C()),s.value!==ue&&(V=!0,s.value=ue),V===!0&&t.onResize!==void 0&&n("resize",M)}function L({height:M}){c.value!==M&&(c.value=M,C())}function C(){if(t.container===!0){const M=o.value>c.value?gh():0;h.value!==M&&(h.value=M)}}let F=null;const B={instances:{},view:ye(()=>t.view),isContainer:ye(()=>t.container),rootRef:i,height:o,containerHeight:c,scrollbarWidth:h,totalWidth:ye(()=>s.value+h.value),rows:ye(()=>{const M=t.view.toLowerCase().split(" ");return{top:M[0].split(""),middle:M[1].split(""),bottom:M[2].split("")}}),header:Dl({size:0,offset:0,space:!1}),right:Dl({size:300,offset:0,space:!1}),footer:Dl({size:0,offset:0,space:!1}),left:Dl({size:300,offset:0,space:!1}),scroll:a,animate(){F!==null?clearTimeout(F):document.body.classList.add("q-body--layout-animate"),F=setTimeout(()=>{F=null,document.body.classList.remove("q-body--layout-animate")},155)},update(M,Z,ue){B[M][Z]=ue}};if(qc(Hf,B),gh()>0){let M=function(){V=null,E.classList.remove("hide-scrollbar")},Z=function(){if(V===null){if(E.scrollHeight>r.screen.height)return;E.classList.add("hide-scrollbar")}else clearTimeout(V);V=setTimeout(M,300)},ue=function(b){V!==null&&b==="remove"&&(clearTimeout(V),M()),window[`${b}EventListener`]("resize",Z)},V=null;const E=document.body;Jt(()=>t.container!==!0?"add":"remove",ue),t.container!==!0&&ue("add"),Bc(()=>{ue("remove")})}return()=>{const M=Gf(e.default,[_e(lf,{onScroll:N}),_e(hc,{onResize:R})]),Z=_e("div",{class:d.value,style:y.value,ref:t.container===!0?void 0:i,tabindex:-1},M);return t.container===!0?_e("div",{class:"q-layout-container overflow-hidden",ref:i},[_e(hc,{onResize:L}),_e("div",{class:"absolute-full",style:S.value},[_e("div",{class:"scroll",style:p.value},[Z])])]):Z}}});let yh,Pu=0;const Ir=new Array(256);for(let t=0;t<256;t++)Ir[t]=(t+256).toString(16).substring(1);const d5=(()=>{const t=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(t!==void 0){if(t.randomBytes!==void 0)return t.randomBytes;if(t.getRandomValues!==void 0)return e=>{const n=new Uint8Array(e);return t.getRandomValues(n),n}}return e=>{const n=[];for(let r=e;r>0;r--)n.push(Math.floor(Math.random()*256));return n}})(),Tp=4096;function uf(){(yh===void 0||Pu+16>Tp)&&(Pu=0,yh=d5(Tp));const t=Array.prototype.slice.call(yh,Pu,Pu+=16);return t[6]=t[6]&15|64,t[8]=t[8]&63|128,Ir[t[0]]+Ir[t[1]]+Ir[t[2]]+Ir[t[3]]+"-"+Ir[t[4]]+Ir[t[5]]+"-"+Ir[t[6]]+Ir[t[7]]+"-"+Ir[t[8]]+Ir[t[9]]+"-"+Ir[t[10]]+Ir[t[11]]+Ir[t[12]]+Ir[t[13]]+Ir[t[14]]+Ir[t[15]]}let p5=0;const m5=["click","keydown"],g5={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${p5++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function v5(t,e,n,r){const i=ol(lm,zi);if(i===zi)return console.error("QTab/QRouteTab component needs to be child of QTabs"),zi;const{proxy:o}=Cn(),s=et(null),a=et(null),c=et(null),h=ye(()=>t.disable===!0||t.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},t.ripple===!0?{}:t.ripple)),d=ye(()=>i.currentModel.value===t.name),y=ye(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(d.value===!0?" q-tab--active"+(i.tabProps.value.activeClass?" "+i.tabProps.value.activeClass:"")+(i.tabProps.value.activeColor?` text-${i.tabProps.value.activeColor}`:"")+(i.tabProps.value.activeBgColor?` bg-${i.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(t.icon&&t.label&&i.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(t.noCaps===!0||i.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(t.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),S=ye(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(i.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(t.contentClass!==void 0?` ${t.contentClass}`:"")),p=ye(()=>t.disable===!0||i.hasFocus.value===!0||d.value===!1&&i.hasActiveTab.value===!0?-1:t.tabindex||0);function N(B,M){if(M!==!0&&B?.qAvoidFocus!==!0&&s.value?.focus(),t.disable!==!0){i.updateModel({name:t.name}),n("click",B);return}}function R(B){Wv(B,[13,32])?N(B,!0):um(B)!==!0&&B.keyCode>=35&&B.keyCode<=40&&B.altKey!==!0&&B.metaKey!==!0&&i.onKbdNavigate(B.keyCode,o.$el)===!0&&qa(B),n("keydown",B)}function L(){const B=i.tabProps.value.narrowIndicator,M=[],Z=_e("div",{ref:c,class:["q-tab__indicator",i.tabProps.value.indicatorClass]});t.icon!==void 0&&M.push(_e(mr,{class:"q-tab__icon",name:t.icon})),t.label!==void 0&&M.push(_e("div",{class:"q-tab__label"},t.label)),t.alert!==!1&&M.push(t.alertIcon!==void 0?_e(mr,{class:"q-tab__alert-icon",color:t.alert!==!0?t.alert:void 0,name:t.alertIcon}):_e("div",{class:"q-tab__alert"+(t.alert!==!0?` text-${t.alert}`:"")})),B===!0&&M.push(Z);const ue=[_e("div",{class:"q-focus-helper",tabindex:-1,ref:s}),_e("div",{class:S.value},Gf(e.default,M))];return B===!1&&ue.push(Z),ue}const C={name:ye(()=>t.name),rootRef:a,tabIndicatorRef:c,routeData:r};Ei(()=>{i.unregisterTab(C)}),Yr(()=>{i.registerTab(C)});function F(B,M){const Z={ref:a,class:y.value,tabindex:p.value,role:"tab","aria-selected":d.value===!0?"true":"false","aria-disabled":t.disable===!0?"true":void 0,onClick:N,onKeydown:R,...M};return Wf(_e(B,Z,L()),[[im,h.value]])}return{renderTab:F,$tabs:i}}const y5=Mn({name:"QTab",props:g5,emits:m5,setup(t,{slots:e,emit:n}){const{renderTab:r}=v5(t,e,n);return()=>r("div")}});function _h(){let t;const e=Cn();function n(){t=void 0}return jc(n),Ei(n),{removeTick:n,registerTick(r){t=r,xi(()=>{t===r&&(Va(e)===!1&&t(),t=void 0)})}}}let Am=!1;{const t=document.createElement("div");t.setAttribute("dir","rtl"),Object.assign(t.style,{width:"1px",height:"1px",overflow:"auto"});const e=document.createElement("div");Object.assign(e.style,{width:"1000px",height:"1px"}),document.body.appendChild(t),t.appendChild(e),t.scrollLeft=-1e3,Am=t.scrollLeft>=0,t.remove()}function _5(t,e,n){const r=n===!0?["left","right"]:["top","bottom"];return`absolute-${e===!0?r[0]:r[1]}${t?` text-${t}`:""}`}const b5=["left","center","right","justify"],w5=Mn({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:t=>b5.includes(t)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(t,{slots:e,emit:n}){const{proxy:r}=Cn(),{$q:i}=r,{registerTick:o}=_h(),{registerTick:s}=_h(),{registerTick:a}=_h(),{registerTimeout:c,removeTimeout:h}=Wl(),{registerTimeout:d,removeTimeout:y}=Wl(),S=et(null),p=et(null),N=et(t.modelValue),R=et(!1),L=et(!0),C=et(!1),F=et(!1),B=[],M=et(0),Z=et(!1);let ue=null,V=null,E;const b=ye(()=>({activeClass:t.activeClass,activeColor:t.activeColor,activeBgColor:t.activeBgColor,indicatorClass:_5(t.indicatorColor,t.switchIndicator,t.vertical),narrowIndicator:t.narrowIndicator,inlineLabel:t.inlineLabel,noCaps:t.noCaps})),I=ye(()=>{const Ee=M.value,De=N.value;for(let rt=0;rt<Ee;rt++)if(B[rt].name.value===De)return!0;return!1}),_=ye(()=>`q-tabs__content--align-${R.value===!0?"left":F.value===!0?"justify":t.align}`),w=ye(()=>`q-tabs row no-wrap items-center q-tabs--${R.value===!0?"":"not-"}scrollable q-tabs--${t.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${t.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${t.mobileArrows===!0?"":"out"}-arrows`+(t.dense===!0?" q-tabs--dense":"")+(t.shrink===!0?" col-shrink":"")+(t.stretch===!0?" self-stretch":"")),x=ye(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+_.value+(t.contentClass!==void 0?` ${t.contentClass}`:"")),U=ye(()=>t.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),re=ye(()=>t.vertical!==!0&&i.lang.rtl===!0),le=ye(()=>Am===!1&&re.value===!0);Jt(re,T),Jt(()=>t.modelValue,Ee=>{ae({name:Ee,setCurrent:!0,skipEmit:!0})}),Jt(()=>t.outsideArrows,J);function ae({name:Ee,setCurrent:De,skipEmit:rt}){N.value!==Ee&&(rt!==!0&&t["onUpdate:modelValue"]!==void 0&&n("update:modelValue",Ee),(De===!0||t["onUpdate:modelValue"]===void 0)&&(be(N.value,Ee),N.value=Ee))}function J(){o(()=>{S.value&&fe({width:S.value.offsetWidth,height:S.value.offsetHeight})})}function fe(Ee){if(U.value===void 0||p.value===null)return;const De=Ee[U.value.container],rt=Math.min(p.value[U.value.scroll],Array.prototype.reduce.call(p.value.children,(Ye,We)=>Ye+(We[U.value.content]||0),0)),ct=De>0&&rt>De;R.value=ct,ct===!0&&s(T),F.value=De<parseInt(t.breakpoint,10)}function be(Ee,De){const rt=Ee!=null&&Ee!==""?B.find(Ye=>Ye.name.value===Ee):null,ct=De!=null&&De!==""?B.find(Ye=>Ye.name.value===De):null;if(tt===!0)tt=!1;else if(rt&&ct){const Ye=rt.tabIndicatorRef.value,We=ct.tabIndicatorRef.value;ue!==null&&(clearTimeout(ue),ue=null),Ye.style.transition="none",Ye.style.transform="none",We.style.transition="none",We.style.transform="none";const it=Ye.getBoundingClientRect(),Je=We.getBoundingClientRect();We.style.transform=t.vertical===!0?`translate3d(0,${it.top-Je.top}px,0) scale3d(1,${Je.height?it.height/Je.height:1},1)`:`translate3d(${it.left-Je.left}px,0,0) scale3d(${Je.width?it.width/Je.width:1},1,1)`,a(()=>{ue=setTimeout(()=>{ue=null,We.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",We.style.transform="none"},70)})}ct&&R.value===!0&&ge(ct.rootRef.value)}function ge(Ee){const{left:De,width:rt,top:ct,height:Ye}=p.value.getBoundingClientRect(),We=Ee.getBoundingClientRect();let it=t.vertical===!0?We.top-ct:We.left-De;if(it<0){p.value[t.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(it),T();return}it+=t.vertical===!0?We.height-Ye:We.width-rt,it>0&&(p.value[t.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(it),T())}function T(){const Ee=p.value;if(Ee===null)return;const De=Ee.getBoundingClientRect(),rt=t.vertical===!0?Ee.scrollTop:Math.abs(Ee.scrollLeft);re.value===!0?(L.value=Math.ceil(rt+De.width)<Ee.scrollWidth-1,C.value=rt>0):(L.value=rt>0,C.value=t.vertical===!0?Math.ceil(rt+De.height)<Ee.scrollHeight:Math.ceil(rt+De.width)<Ee.scrollWidth)}function H(Ee){V!==null&&clearInterval(V),V=setInterval(()=>{Te(Ee)===!0&&ne()},5)}function X(){H(le.value===!0?Number.MAX_SAFE_INTEGER:0)}function ee(){H(le.value===!0?0:Number.MAX_SAFE_INTEGER)}function ne(){V!==null&&(clearInterval(V),V=null)}function he(Ee,De){const rt=Array.prototype.filter.call(p.value.children,Je=>Je===De||Je.matches&&Je.matches(".q-tab.q-focusable")===!0),ct=rt.length;if(ct===0)return;if(Ee===36)return ge(rt[0]),rt[0].focus(),!0;if(Ee===35)return ge(rt[ct-1]),rt[ct-1].focus(),!0;const Ye=Ee===(t.vertical===!0?38:37),We=Ee===(t.vertical===!0?40:39),it=Ye===!0?-1:We===!0?1:void 0;if(it!==void 0){const Je=re.value===!0?-1:1,gt=rt.indexOf(De)+it*Je;return gt>=0&&gt<ct&&(ge(rt[gt]),rt[gt].focus({preventScroll:!0})),!0}}const ke=ye(()=>le.value===!0?{get:Ee=>Math.abs(Ee.scrollLeft),set:(Ee,De)=>{Ee.scrollLeft=-De}}:t.vertical===!0?{get:Ee=>Ee.scrollTop,set:(Ee,De)=>{Ee.scrollTop=De}}:{get:Ee=>Ee.scrollLeft,set:(Ee,De)=>{Ee.scrollLeft=De}});function Te(Ee){const De=p.value,{get:rt,set:ct}=ke.value;let Ye=!1,We=rt(De);const it=Ee<We?-1:1;return We+=it*5,We<0?(Ye=!0,We=0):(it===-1&&We<=Ee||it===1&&We>=Ee)&&(Ye=!0,We=Ee),ct(De,We),T(),Ye}function Ie(Ee,De){for(const rt in Ee)if(Ee[rt]!==De[rt])return!1;return!0}function Pe(){let Ee=null,De={matchedLen:0,queryDiff:9999,hrefLen:0};const rt=B.filter(it=>it.routeData?.hasRouterLink.value===!0),{hash:ct,query:Ye}=r.$route,We=Object.keys(Ye).length;for(const it of rt){const Je=it.routeData.exact.value===!0;if(it.routeData[Je===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:gt,query:pe,matched:Me,href:Ke}=it.routeData.resolvedLink.value,Ze=Object.keys(pe).length;if(Je===!0){if(gt!==ct||Ze!==We||Ie(Ye,pe)===!1)continue;Ee=it.name.value;break}if(gt!==""&&gt!==ct||Ze!==0&&Ie(pe,Ye)===!1)continue;const ot={matchedLen:Me.length,queryDiff:We-Ze,hrefLen:Ke.length-gt.length};if(ot.matchedLen>De.matchedLen){Ee=it.name.value,De=ot;continue}else if(ot.matchedLen!==De.matchedLen)continue;if(ot.queryDiff<De.queryDiff)Ee=it.name.value,De=ot;else if(ot.queryDiff!==De.queryDiff)continue;ot.hrefLen>De.hrefLen&&(Ee=it.name.value,De=ot)}if(Ee===null&&B.some(it=>it.routeData===void 0&&it.name.value===N.value)===!0){tt=!1;return}ae({name:Ee,setCurrent:!0})}function qe(Ee){if(h(),Z.value!==!0&&S.value!==null&&Ee.target&&typeof Ee.target.closest=="function"){const De=Ee.target.closest(".q-tab");De&&S.value.contains(De)===!0&&(Z.value=!0,R.value===!0&&ge(De))}}function Xe(){c(()=>{Z.value=!1},30)}function st(){bt.avoidRouteWatcher===!1?d(Pe):y()}function W(){if(E===void 0){const Ee=Jt(()=>r.$route.fullPath,st);E=()=>{Ee(),E=void 0}}}function Qe(Ee){B.push(Ee),M.value++,J(),Ee.routeData===void 0||r.$route===void 0?d(()=>{if(R.value===!0){const De=N.value,rt=De!=null&&De!==""?B.find(ct=>ct.name.value===De):null;rt&&ge(rt.rootRef.value)}}):(W(),Ee.routeData.hasRouterLink.value===!0&&st())}function At(Ee){B.splice(B.indexOf(Ee),1),M.value--,J(),E!==void 0&&Ee.routeData!==void 0&&(B.every(De=>De.routeData===void 0)===!0&&E(),st())}const bt={currentModel:N,tabProps:b,hasFocus:Z,hasActiveTab:I,registerTab:Qe,unregisterTab:At,verifyRouteModel:st,updateModel:ae,onKbdNavigate:he,avoidRouteWatcher:!1};qc(lm,bt);function Oe(){ue!==null&&clearTimeout(ue),ne(),E?.()}let ht,tt;return Ei(Oe),jc(()=>{ht=E!==void 0,Oe()}),cm(()=>{ht===!0&&(W(),tt=!0,st()),J()}),()=>_e("div",{ref:S,class:w.value,role:"tablist",onFocusin:qe,onFocusout:Xe},[_e(hc,{onResize:fe}),_e("div",{ref:p,class:x.value,onScroll:T},gr(e.default)),_e(mr,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(L.value===!0?"":" q-tabs__arrow--faded"),name:t.leftIcon||i.iconSet.tabs[t.vertical===!0?"up":"left"],onMousedownPassive:X,onTouchstartPassive:X,onMouseupPassive:ne,onMouseleavePassive:ne,onTouchendPassive:ne}),_e(mr,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(C.value===!0?"":" q-tabs__arrow--faded"),name:t.rightIcon||i.iconSet.tabs[t.vertical===!0?"down":"right"],onMousedownPassive:ee,onTouchstartPassive:ee,onMouseupPassive:ne,onMouseleavePassive:ne,onTouchendPassive:ne})])}});function Sm(){return ol(Gv)}function gn(t){"@babel/helpers - typeof";return gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gn(t)}var ro=Uint8Array,ki=Uint16Array,Qf=Int32Array,Xf=new ro([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Jf=new ro([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),kp=new ro([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xm=function(t,e){for(var n=new ki(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new Qf(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},Tm=xm(Xf,2),A5=Tm.b,cf=Tm.r;A5[28]=258,cf[258]=28;var S5=xm(Jf,0),Ep=S5.r,hf=new ki(32768);for(var In=0;In<32768;++In){var gs=(In&43690)>>1|(In&21845)<<1;gs=(gs&52428)>>2|(gs&13107)<<2,gs=(gs&61680)>>4|(gs&3855)<<4,hf[In]=((gs&65280)>>8|(gs&255)<<8)>>1}var Vl=function(t,e,n){for(var r=t.length,i=0,o=new ki(e);i<r;++i)t[i]&&++o[t[i]-1];var s=new ki(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(n){a=new ki(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var h=i<<4|t[i],d=e-t[i],y=s[t[i]-1]++<<d,S=y|(1<<d)-1;y<=S;++y)a[hf[y]>>c]=h}else for(a=new ki(r),i=0;i<r;++i)t[i]&&(a[i]=hf[s[t[i]-1]++]>>15-t[i]);return a},ia=new ro(288);for(var In=0;In<144;++In)ia[In]=8;for(var In=144;In<256;++In)ia[In]=9;for(var In=256;In<280;++In)ia[In]=7;for(var In=280;In<288;++In)ia[In]=8;var pc=new ro(32);for(var In=0;In<32;++In)pc[In]=5;var x5=Vl(ia,9,0),T5=Vl(pc,5,0),km=function(t){return(t+7)/8|0},k5=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new ro(t.subarray(e,n))},jo=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Ll=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},bh=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,o=n.slice();if(!i)return{t:Im,l:0};if(i==1){var s=new ro(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(Z,ue){return Z.f-ue.f}),n.push({s:-1,f:25001});var a=n[0],c=n[1],h=0,d=1,y=2;for(n[0]={s:-1,f:a.f+c.f,l:a,r:c};d!=i-1;)a=n[n[h].f<n[y].f?h++:y++],c=n[h!=d&&n[h].f<n[y].f?h++:y++],n[d++]={s:-1,f:a.f+c.f,l:a,r:c};for(var S=o[0].s,r=1;r<i;++r)o[r].s>S&&(S=o[r].s);var p=new ki(S+1),N=ff(n[d-1],p,0);if(N>e){var r=0,R=0,L=N-e,C=1<<L;for(o.sort(function(ue,V){return p[V.s]-p[ue.s]||ue.f-V.f});r<i;++r){var F=o[r].s;if(p[F]>e)R+=C-(1<<N-p[F]),p[F]=e;else break}for(R>>=L;R>0;){var B=o[r].s;p[B]<e?R-=1<<e-p[B]++-1:++r}for(;r>=0&&R;--r){var M=o[r].s;p[M]==e&&(--p[M],++R)}N=e}return{t:new ro(p),l:N}},ff=function(t,e,n){return t.s==-1?Math.max(ff(t.l,e,n+1),ff(t.r,e,n+1)):e[t.s]=n},Ip=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ki(++e),r=0,i=t[0],o=1,s=function(c){n[r++]=c},a=1;a<=e;++a)if(t[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Pl=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},Em=function(t,e,n){var r=n.length,i=km(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<r;++o)t[i+o+4]=n[o];return(i+4+r)*8},Cp=function(t,e,n,r,i,o,s,a,c,h,d){jo(e,d++,n),++i[256];for(var y=bh(i,15),S=y.t,p=y.l,N=bh(o,15),R=N.t,L=N.l,C=Ip(S),F=C.c,B=C.n,M=Ip(R),Z=M.c,ue=M.n,V=new ki(19),E=0;E<F.length;++E)++V[F[E]&31];for(var E=0;E<Z.length;++E)++V[Z[E]&31];for(var b=bh(V,7),I=b.t,_=b.l,w=19;w>4&&!I[kp[w-1]];--w);var x=h+5<<3,U=Pl(i,ia)+Pl(o,pc)+s,re=Pl(i,S)+Pl(o,R)+s+14+3*w+Pl(V,I)+2*V[16]+3*V[17]+7*V[18];if(c>=0&&x<=U&&x<=re)return Em(e,d,t.subarray(c,c+h));var le,ae,J,fe;if(jo(e,d,1+(re<U)),d+=2,re<U){le=Vl(S,p,0),ae=S,J=Vl(R,L,0),fe=R;var be=Vl(I,_,0);jo(e,d,B-257),jo(e,d+5,ue-1),jo(e,d+10,w-4),d+=14;for(var E=0;E<w;++E)jo(e,d+3*E,I[kp[E]]);d+=3*w;for(var ge=[F,Z],T=0;T<2;++T)for(var H=ge[T],E=0;E<H.length;++E){var X=H[E]&31;jo(e,d,be[X]),d+=I[X],X>15&&(jo(e,d,H[E]>>5&127),d+=H[E]>>12)}}else le=x5,ae=ia,J=T5,fe=pc;for(var E=0;E<a;++E){var ee=r[E];if(ee>255){var X=ee>>18&31;Ll(e,d,le[X+257]),d+=ae[X+257],X>7&&(jo(e,d,ee>>23&31),d+=Xf[X]);var ne=ee&31;Ll(e,d,J[ne]),d+=fe[ne],ne>3&&(Ll(e,d,ee>>5&8191),d+=Jf[ne])}else Ll(e,d,le[ee]),d+=ae[ee]}return Ll(e,d,le[256]),d+ae[256]},E5=new Qf([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Im=new ro(0),I5=function(t,e,n,r,i,o){var s=o.z||t.length,a=new ro(r+s+5*(1+Math.ceil(s/7e3))+i),c=a.subarray(r,a.length-i),h=o.l,d=(o.r||0)&7;if(e){d&&(c[0]=o.r>>3);for(var y=E5[e-1],S=y>>13,p=y&8191,N=(1<<n)-1,R=o.p||new ki(32768),L=o.h||new ki(N+1),C=Math.ceil(n/3),F=2*C,B=function(st){return(t[st]^t[st+1]<<C^t[st+2]<<F)&N},M=new Qf(25e3),Z=new ki(288),ue=new ki(32),V=0,E=0,b=o.i||0,I=0,_=o.w||0,w=0;b+2<s;++b){var x=B(b),U=b&32767,re=L[x];if(R[U]=re,L[x]=U,_<=b){var le=s-b;if((V>7e3||I>24576)&&(le>423||!h)){d=Cp(t,c,0,M,Z,ue,E,I,w,b-w,d),I=V=E=0,w=b;for(var ae=0;ae<286;++ae)Z[ae]=0;for(var ae=0;ae<30;++ae)ue[ae]=0}var J=2,fe=0,be=p,ge=U-re&32767;if(le>2&&x==B(b-ge))for(var T=Math.min(S,le)-1,H=Math.min(32767,b),X=Math.min(258,le);ge<=H&&--be&&U!=re;){if(t[b+J]==t[b+J-ge]){for(var ee=0;ee<X&&t[b+ee]==t[b+ee-ge];++ee);if(ee>J){if(J=ee,fe=ge,ee>T)break;for(var ne=Math.min(ge,ee-2),he=0,ae=0;ae<ne;++ae){var ke=b-ge+ae&32767,Te=R[ke],Ie=ke-Te&32767;Ie>he&&(he=Ie,re=ke)}}}U=re,re=R[U],ge+=U-re&32767}if(fe){M[I++]=268435456|cf[J]<<18|Ep[fe];var Pe=cf[J]&31,qe=Ep[fe]&31;E+=Xf[Pe]+Jf[qe],++Z[257+Pe],++ue[qe],_=b+J,++V}else M[I++]=t[b],++Z[t[b]]}}for(b=Math.max(b,_);b<s;++b)M[I++]=t[b],++Z[t[b]];d=Cp(t,c,h,M,Z,ue,E,I,w,b-w,d),h||(o.r=d&7|c[d/8|0]<<3,d-=7,o.h=L,o.p=R,o.i=b,o.w=_)}else{for(var b=o.w||0;b<s+h;b+=65535){var Xe=b+65535;Xe>=s&&(c[d/8|0]=h,Xe=s),d=Em(c,d+1,t.subarray(b,Xe))}o.i=s}return k5(a,0,r+km(d)+i)},Cm=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,o=n.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},C5=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new ro(o.length+t.length);s.set(o),s.set(t,o.length),t=s,i.w=o.length}return I5(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},Nm=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},N5=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Cm();i.p(e.dictionary),Nm(t,2,i.d())}};function df(t,e){e||(e={});var n=Cm();n.p(t);var r=C5(t,e,e.dictionary?6:2,4);return N5(r,e),Nm(r,r.length-4,n.d()),r}var L5=typeof TextDecoder<"u"&&new TextDecoder,P5=0;try{L5.decode(Im,{stream:!0}),P5=1}catch{}function R5(t){if(Array.isArray(t))return t}function D5(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(d){h=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function Np(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function M5(t,e){if(t){if(typeof t=="string")return Np(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Np(t,e):void 0}}function O5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lp(t,e){return R5(t)||D5(t,e)||M5(t,e)||O5()}function Pp(t,e="utf8"){return new TextDecoder(e).decode(t)}const F5=new TextEncoder;function V5(t){return F5.encode(t)}const j5=1024*8,B5=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),wh={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Zf{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=j5,n={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,o=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof Zf)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=wh[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+r);if(this.littleEndian===B5&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const c=new wh[n](a.buffer);return this.offset+=r,c.reverse(),c}const s=new wh[n](o);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return Pp(this.readBytes(e))}decodeText(e=1,n="utf8"){return Pp(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(V5(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function sl(t){let e=t.length;for(;--e>=0;)t[e]=0}const q5=3,z5=258,Lm=29,U5=256,$5=U5+1+Lm,Pm=30,H5=512,W5=new Array(($5+2)*2);sl(W5);const G5=new Array(Pm*2);sl(G5);const Y5=new Array(H5);sl(Y5);const K5=new Array(z5-q5+1);sl(K5);const Q5=new Array(Lm);sl(Q5);const X5=new Array(Pm);sl(X5);const J5=(t,e,n,r)=>{let i=t&65535|0,o=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0};var pf=J5;const Z5=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},ey=new Uint32Array(Z5()),ty=(t,e,n,r)=>{const i=ey,o=r+n;t^=-1;for(let s=r;s<o;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var yo=ty,mf={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Rm={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const ny=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var ry=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)ny(n,r)&&(t[r]=n[r])}}return t},iy=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,o=t.length;r<o;r++){let s=t[r];n.set(s,i),i+=s.length}return n},Dm={assign:ry,flattenChunks:iy};let Mm=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Mm=!1}const Gl=new Uint8Array(256);for(let t=0;t<256;t++)Gl[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Gl[254]=Gl[254]=1;var oy=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e};const sy=(t,e)=>{if(e<65534&&t.subarray&&Mm)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var ay=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const o=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){o[i++]=s;continue}let a=Gl[s];if(a>4){o[i++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|t[r++]&63,a--;if(a>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return sy(o,i)},ly=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Gl[t[n]]>e?n:e},gf={string2buf:oy,buf2string:ay,utf8border:ly};function uy(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var cy=uy;const Ru=16209,hy=16191;var fy=function(e,n){let r,i,o,s,a,c,h,d,y,S,p,N,R,L,C,F,B,M,Z,ue,V,E,b,I;const _=e.state;r=e.next_in,b=e.input,i=r+(e.avail_in-5),o=e.next_out,I=e.output,s=o-(n-e.avail_out),a=o+(e.avail_out-257),c=_.dmax,h=_.wsize,d=_.whave,y=_.wnext,S=_.window,p=_.hold,N=_.bits,R=_.lencode,L=_.distcode,C=(1<<_.lenbits)-1,F=(1<<_.distbits)-1;e:do{N<15&&(p+=b[r++]<<N,N+=8,p+=b[r++]<<N,N+=8),B=R[p&C];t:for(;;){if(M=B>>>24,p>>>=M,N-=M,M=B>>>16&255,M===0)I[o++]=B&65535;else if(M&16){Z=B&65535,M&=15,M&&(N<M&&(p+=b[r++]<<N,N+=8),Z+=p&(1<<M)-1,p>>>=M,N-=M),N<15&&(p+=b[r++]<<N,N+=8,p+=b[r++]<<N,N+=8),B=L[p&F];n:for(;;){if(M=B>>>24,p>>>=M,N-=M,M=B>>>16&255,M&16){if(ue=B&65535,M&=15,N<M&&(p+=b[r++]<<N,N+=8,N<M&&(p+=b[r++]<<N,N+=8)),ue+=p&(1<<M)-1,ue>c){e.msg="invalid distance too far back",_.mode=Ru;break e}if(p>>>=M,N-=M,M=o-s,ue>M){if(M=ue-M,M>d&&_.sane){e.msg="invalid distance too far back",_.mode=Ru;break e}if(V=0,E=S,y===0){if(V+=h-M,M<Z){Z-=M;do I[o++]=S[V++];while(--M);V=o-ue,E=I}}else if(y<M){if(V+=h+y-M,M-=y,M<Z){Z-=M;do I[o++]=S[V++];while(--M);if(V=0,y<Z){M=y,Z-=M;do I[o++]=S[V++];while(--M);V=o-ue,E=I}}}else if(V+=y-M,M<Z){Z-=M;do I[o++]=S[V++];while(--M);V=o-ue,E=I}for(;Z>2;)I[o++]=E[V++],I[o++]=E[V++],I[o++]=E[V++],Z-=3;Z&&(I[o++]=E[V++],Z>1&&(I[o++]=E[V++]))}else{V=o-ue;do I[o++]=I[V++],I[o++]=I[V++],I[o++]=I[V++],Z-=3;while(Z>2);Z&&(I[o++]=I[V++],Z>1&&(I[o++]=I[V++]))}}else if((M&64)===0){B=L[(B&65535)+(p&(1<<M)-1)];continue n}else{e.msg="invalid distance code",_.mode=Ru;break e}break}}else if((M&64)===0){B=R[(B&65535)+(p&(1<<M)-1)];continue t}else if(M&32){_.mode=hy;break e}else{e.msg="invalid literal/length code",_.mode=Ru;break e}break}}while(r<i&&o<a);Z=N>>3,r-=Z,N-=Z<<3,p&=(1<<N)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=o<a?257+(a-o):257-(o-a),_.hold=p,_.bits=N};const Ea=15,Rp=852,Dp=592,Mp=0,Ah=1,Op=2,dy=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),py=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),my=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),gy=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),vy=(t,e,n,r,i,o,s,a)=>{const c=a.bits;let h=0,d=0,y=0,S=0,p=0,N=0,R=0,L=0,C=0,F=0,B,M,Z,ue,V,E=null,b;const I=new Uint16Array(Ea+1),_=new Uint16Array(Ea+1);let w=null,x,U,re;for(h=0;h<=Ea;h++)I[h]=0;for(d=0;d<r;d++)I[e[n+d]]++;for(p=c,S=Ea;S>=1&&I[S]===0;S--);if(p>S&&(p=S),S===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(y=1;y<S&&I[y]===0;y++);for(p<y&&(p=y),L=1,h=1;h<=Ea;h++)if(L<<=1,L-=I[h],L<0)return-1;if(L>0&&(t===Mp||S!==1))return-1;for(_[1]=0,h=1;h<Ea;h++)_[h+1]=_[h]+I[h];for(d=0;d<r;d++)e[n+d]!==0&&(s[_[e[n+d]]++]=d);if(t===Mp?(E=w=s,b=20):t===Ah?(E=dy,w=py,b=257):(E=my,w=gy,b=0),F=0,d=0,h=y,V=o,N=p,R=0,Z=-1,C=1<<p,ue=C-1,t===Ah&&C>Rp||t===Op&&C>Dp)return 1;for(;;){x=h-R,s[d]+1<b?(U=0,re=s[d]):s[d]>=b?(U=w[s[d]-b],re=E[s[d]-b]):(U=96,re=0),B=1<<h-R,M=1<<N,y=M;do M-=B,i[V+(F>>R)+M]=x<<24|U<<16|re|0;while(M!==0);for(B=1<<h-1;F&B;)B>>=1;if(B!==0?(F&=B-1,F+=B):F=0,d++,--I[h]===0){if(h===S)break;h=e[n+s[d]]}if(h>p&&(F&ue)!==Z){for(R===0&&(R=p),V+=y,N=h-R,L=1<<N;N+R<S&&(L-=I[N+R],!(L<=0));)N++,L<<=1;if(C+=1<<N,t===Ah&&C>Rp||t===Op&&C>Dp)return 1;Z=F&ue,i[Z]=p<<24|N<<16|V-o|0}}return F!==0&&(i[V+F]=h-R<<24|64<<16|0),a.bits=p,0};var jl=vy;const yy=0,Om=1,Fm=2,{Z_FINISH:Fp,Z_BLOCK:_y,Z_TREES:Du,Z_OK:oa,Z_STREAM_END:by,Z_NEED_DICT:wy,Z_STREAM_ERROR:Ui,Z_DATA_ERROR:Vm,Z_MEM_ERROR:jm,Z_BUF_ERROR:Ay,Z_DEFLATED:Vp}=Rm,zc=16180,jp=16181,Bp=16182,qp=16183,zp=16184,Up=16185,$p=16186,Hp=16187,Wp=16188,Gp=16189,mc=16190,Bo=16191,Sh=16192,Yp=16193,xh=16194,Kp=16195,Qp=16196,Xp=16197,Jp=16198,Mu=16199,Ou=16200,Zp=16201,e1=16202,t1=16203,n1=16204,r1=16205,Th=16206,i1=16207,o1=16208,Ln=16209,Bm=16210,qm=16211,Sy=852,xy=592,Ty=15,ky=Ty,s1=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Ey(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const fa=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<zc||e.mode>qm?1:0},zm=t=>{if(fa(t))return Ui;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=zc,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Sy),e.distcode=e.distdyn=new Int32Array(xy),e.sane=1,e.back=-1,oa},Um=t=>{if(fa(t))return Ui;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,zm(t)},$m=(t,e)=>{let n;if(fa(t))return Ui;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ui:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,Um(t))},Hm=(t,e)=>{if(!t)return Ui;const n=new Ey;t.state=n,n.strm=t,n.window=null,n.mode=zc;const r=$m(t,e);return r!==oa&&(t.state=null),r},Iy=t=>Hm(t,ky);let a1=!0,kh,Eh;const Cy=t=>{if(a1){kh=new Int32Array(512),Eh=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(jl(Om,t.lens,0,288,kh,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;jl(Fm,t.lens,0,32,Eh,0,t.work,{bits:5}),a1=!1}t.lencode=kh,t.lenbits=9,t.distcode=Eh,t.distbits=5},Wm=(t,e,n,r)=>{let i;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),r-=i,r?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},Ny=(t,e)=>{let n,r,i,o,s,a,c,h,d,y,S,p,N,R,L=0,C,F,B,M,Z,ue,V,E;const b=new Uint8Array(4);let I,_;const w=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(fa(t)||!t.output||!t.input&&t.avail_in!==0)return Ui;n=t.state,n.mode===Bo&&(n.mode=Sh),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,h=n.hold,d=n.bits,y=a,S=c,E=oa;e:for(;;)switch(n.mode){case zc:if(n.wrap===0){n.mode=Sh;break}for(;d<16;){if(a===0)break e;a--,h+=r[o++]<<d,d+=8}if(n.wrap&2&&h===35615){n.wbits===0&&(n.wbits=15),n.check=0,b[0]=h&255,b[1]=h>>>8&255,n.check=yo(n.check,b,2,0),h=0,d=0,n.mode=jp;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((h&255)<<8)+(h>>8))%31){t.msg="incorrect header check",n.mode=Ln;break}if((h&15)!==Vp){t.msg="unknown compression method",n.mode=Ln;break}if(h>>>=4,d-=4,V=(h&15)+8,n.wbits===0&&(n.wbits=V),V>15||V>n.wbits){t.msg="invalid window size",n.mode=Ln;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=h&512?Gp:Bo,h=0,d=0;break;case jp:for(;d<16;){if(a===0)break e;a--,h+=r[o++]<<d,d+=8}if(n.flags=h,(n.flags&255)!==Vp){t.msg="unknown compression method",n.mode=Ln;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Ln;break}n.head&&(n.head.text=h>>8&1),n.flags&512&&n.wrap&4&&(b[0]=h&255,b[1]=h>>>8&255,n.check=yo(n.check,b,2,0)),h=0,d=0,n.mode=Bp;case Bp:for(;d<32;){if(a===0)break e;a--,h+=r[o++]<<d,d+=8}n.head&&(n.head.time=h),n.flags&512&&n.wrap&4&&(b[0]=h&255,b[1]=h>>>8&255,b[2]=h>>>16&255,b[3]=h>>>24&255,n.check=yo(n.check,b,4,0)),h=0,d=0,n.mode=qp;case qp:for(;d<16;){if(a===0)break e;a--,h+=r[o++]<<d,d+=8}n.head&&(n.head.xflags=h&255,n.head.os=h>>8),n.flags&512&&n.wrap&4&&(b[0]=h&255,b[1]=h>>>8&255,n.check=yo(n.check,b,2,0)),h=0,d=0,n.mode=zp;case zp:if(n.flags&1024){for(;d<16;){if(a===0)break e;a--,h+=r[o++]<<d,d+=8}n.length=h,n.head&&(n.head.extra_len=h),n.flags&512&&n.wrap&4&&(b[0]=h&255,b[1]=h>>>8&255,n.check=yo(n.check,b,2,0)),h=0,d=0}else n.head&&(n.head.extra=null);n.mode=Up;case Up:if(n.flags&1024&&(p=n.length,p>a&&(p=a),p&&(n.head&&(V=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+p),V)),n.flags&512&&n.wrap&4&&(n.check=yo(n.check,r,p,o)),a-=p,o+=p,n.length-=p),n.length))break e;n.length=0,n.mode=$p;case $p:if(n.flags&2048){if(a===0)break e;p=0;do V=r[o+p++],n.head&&V&&n.length<65536&&(n.head.name+=String.fromCharCode(V));while(V&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=yo(n.check,r,p,o)),a-=p,o+=p,V)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Hp;case Hp:if(n.flags&4096){if(a===0)break e;p=0;do V=r[o+p++],n.head&&V&&n.length<65536&&(n.head.comment+=String.fromCharCode(V));while(V&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=yo(n.check,r,p,o)),a-=p,o+=p,V)break e}else n.head&&(n.head.comment=null);n.mode=Wp;case Wp:if(n.flags&512){for(;d<16;){if(a===0)break e;a--,h+=r[o++]<<d,d+=8}if(n.wrap&4&&h!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Ln;break}h=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Bo;break;case Gp:for(;d<32;){if(a===0)break e;a--,h+=r[o++]<<d,d+=8}t.adler=n.check=s1(h),h=0,d=0,n.mode=mc;case mc:if(n.havedict===0)return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=h,n.bits=d,wy;t.adler=n.check=1,n.mode=Bo;case Bo:if(e===_y||e===Du)break e;case Sh:if(n.last){h>>>=d&7,d-=d&7,n.mode=Th;break}for(;d<3;){if(a===0)break e;a--,h+=r[o++]<<d,d+=8}switch(n.last=h&1,h>>>=1,d-=1,h&3){case 0:n.mode=Yp;break;case 1:if(Cy(n),n.mode=Mu,e===Du){h>>>=2,d-=2;break e}break;case 2:n.mode=Qp;break;case 3:t.msg="invalid block type",n.mode=Ln}h>>>=2,d-=2;break;case Yp:for(h>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,h+=r[o++]<<d,d+=8}if((h&65535)!==(h>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Ln;break}if(n.length=h&65535,h=0,d=0,n.mode=xh,e===Du)break e;case xh:n.mode=Kp;case Kp:if(p=n.length,p){if(p>a&&(p=a),p>c&&(p=c),p===0)break e;i.set(r.subarray(o,o+p),s),a-=p,o+=p,c-=p,s+=p,n.length-=p;break}n.mode=Bo;break;case Qp:for(;d<14;){if(a===0)break e;a--,h+=r[o++]<<d,d+=8}if(n.nlen=(h&31)+257,h>>>=5,d-=5,n.ndist=(h&31)+1,h>>>=5,d-=5,n.ncode=(h&15)+4,h>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Ln;break}n.have=0,n.mode=Xp;case Xp:for(;n.have<n.ncode;){for(;d<3;){if(a===0)break e;a--,h+=r[o++]<<d,d+=8}n.lens[w[n.have++]]=h&7,h>>>=3,d-=3}for(;n.have<19;)n.lens[w[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I={bits:n.lenbits},E=jl(yy,n.lens,0,19,n.lencode,0,n.work,I),n.lenbits=I.bits,E){t.msg="invalid code lengths set",n.mode=Ln;break}n.have=0,n.mode=Jp;case Jp:for(;n.have<n.nlen+n.ndist;){for(;L=n.lencode[h&(1<<n.lenbits)-1],C=L>>>24,F=L>>>16&255,B=L&65535,!(C<=d);){if(a===0)break e;a--,h+=r[o++]<<d,d+=8}if(B<16)h>>>=C,d-=C,n.lens[n.have++]=B;else{if(B===16){for(_=C+2;d<_;){if(a===0)break e;a--,h+=r[o++]<<d,d+=8}if(h>>>=C,d-=C,n.have===0){t.msg="invalid bit length repeat",n.mode=Ln;break}V=n.lens[n.have-1],p=3+(h&3),h>>>=2,d-=2}else if(B===17){for(_=C+3;d<_;){if(a===0)break e;a--,h+=r[o++]<<d,d+=8}h>>>=C,d-=C,V=0,p=3+(h&7),h>>>=3,d-=3}else{for(_=C+7;d<_;){if(a===0)break e;a--,h+=r[o++]<<d,d+=8}h>>>=C,d-=C,V=0,p=11+(h&127),h>>>=7,d-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Ln;break}for(;p--;)n.lens[n.have++]=V}}if(n.mode===Ln)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Ln;break}if(n.lenbits=9,I={bits:n.lenbits},E=jl(Om,n.lens,0,n.nlen,n.lencode,0,n.work,I),n.lenbits=I.bits,E){t.msg="invalid literal/lengths set",n.mode=Ln;break}if(n.distbits=6,n.distcode=n.distdyn,I={bits:n.distbits},E=jl(Fm,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,I),n.distbits=I.bits,E){t.msg="invalid distances set",n.mode=Ln;break}if(n.mode=Mu,e===Du)break e;case Mu:n.mode=Ou;case Ou:if(a>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=h,n.bits=d,fy(t,S),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,h=n.hold,d=n.bits,n.mode===Bo&&(n.back=-1);break}for(n.back=0;L=n.lencode[h&(1<<n.lenbits)-1],C=L>>>24,F=L>>>16&255,B=L&65535,!(C<=d);){if(a===0)break e;a--,h+=r[o++]<<d,d+=8}if(F&&(F&240)===0){for(M=C,Z=F,ue=B;L=n.lencode[ue+((h&(1<<M+Z)-1)>>M)],C=L>>>24,F=L>>>16&255,B=L&65535,!(M+C<=d);){if(a===0)break e;a--,h+=r[o++]<<d,d+=8}h>>>=M,d-=M,n.back+=M}if(h>>>=C,d-=C,n.back+=C,n.length=B,F===0){n.mode=r1;break}if(F&32){n.back=-1,n.mode=Bo;break}if(F&64){t.msg="invalid literal/length code",n.mode=Ln;break}n.extra=F&15,n.mode=Zp;case Zp:if(n.extra){for(_=n.extra;d<_;){if(a===0)break e;a--,h+=r[o++]<<d,d+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=e1;case e1:for(;L=n.distcode[h&(1<<n.distbits)-1],C=L>>>24,F=L>>>16&255,B=L&65535,!(C<=d);){if(a===0)break e;a--,h+=r[o++]<<d,d+=8}if((F&240)===0){for(M=C,Z=F,ue=B;L=n.distcode[ue+((h&(1<<M+Z)-1)>>M)],C=L>>>24,F=L>>>16&255,B=L&65535,!(M+C<=d);){if(a===0)break e;a--,h+=r[o++]<<d,d+=8}h>>>=M,d-=M,n.back+=M}if(h>>>=C,d-=C,n.back+=C,F&64){t.msg="invalid distance code",n.mode=Ln;break}n.offset=B,n.extra=F&15,n.mode=t1;case t1:if(n.extra){for(_=n.extra;d<_;){if(a===0)break e;a--,h+=r[o++]<<d,d+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Ln;break}n.mode=n1;case n1:if(c===0)break e;if(p=S-c,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Ln;break}p>n.wnext?(p-=n.wnext,N=n.wsize-p):N=n.wnext-p,p>n.length&&(p=n.length),R=n.window}else R=i,N=s-n.offset,p=n.length;p>c&&(p=c),c-=p,n.length-=p;do i[s++]=R[N++];while(--p);n.length===0&&(n.mode=Ou);break;case r1:if(c===0)break e;i[s++]=n.length,c--,n.mode=Ou;break;case Th:if(n.wrap){for(;d<32;){if(a===0)break e;a--,h|=r[o++]<<d,d+=8}if(S-=c,t.total_out+=S,n.total+=S,n.wrap&4&&S&&(t.adler=n.check=n.flags?yo(n.check,i,S,s-S):pf(n.check,i,S,s-S)),S=c,n.wrap&4&&(n.flags?h:s1(h))!==n.check){t.msg="incorrect data check",n.mode=Ln;break}h=0,d=0}n.mode=i1;case i1:if(n.wrap&&n.flags){for(;d<32;){if(a===0)break e;a--,h+=r[o++]<<d,d+=8}if(n.wrap&4&&h!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Ln;break}h=0,d=0}n.mode=o1;case o1:E=by;break e;case Ln:E=Vm;break e;case Bm:return jm;case qm:default:return Ui}return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=h,n.bits=d,(n.wsize||S!==t.avail_out&&n.mode<Ln&&(n.mode<Th||e!==Fp))&&Wm(t,t.output,t.next_out,S-t.avail_out),y-=t.avail_in,S-=t.avail_out,t.total_in+=y,t.total_out+=S,n.total+=S,n.wrap&4&&S&&(t.adler=n.check=n.flags?yo(n.check,i,S,t.next_out-S):pf(n.check,i,S,t.next_out-S)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Bo?128:0)+(n.mode===Mu||n.mode===xh?256:0),(y===0&&S===0||e===Fp)&&E===oa&&(E=Ay),E},Ly=t=>{if(fa(t))return Ui;let e=t.state;return e.window&&(e.window=null),t.state=null,oa},Py=(t,e)=>{if(fa(t))return Ui;const n=t.state;return(n.wrap&2)===0?Ui:(n.head=e,e.done=!1,oa)},Ry=(t,e)=>{const n=e.length;let r,i,o;return fa(t)||(r=t.state,r.wrap!==0&&r.mode!==mc)?Ui:r.mode===mc&&(i=1,i=pf(i,e,n,0),i!==r.check)?Vm:(o=Wm(t,e,n,n),o?(r.mode=Bm,jm):(r.havedict=1,oa))};var Dy=Um,My=$m,Oy=zm,Fy=Iy,Vy=Hm,jy=Ny,By=Ly,qy=Py,zy=Ry,Uy="pako inflate (from Nodeca project)",$o={inflateReset:Dy,inflateReset2:My,inflateResetKeep:Oy,inflateInit:Fy,inflateInit2:Vy,inflate:jy,inflateEnd:By,inflateGetHeader:qy,inflateSetDictionary:zy,inflateInfo:Uy};function $y(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Hy=$y;const Gm=Object.prototype.toString,{Z_NO_FLUSH:Wy,Z_FINISH:Gy,Z_OK:Yl,Z_STREAM_END:Ih,Z_NEED_DICT:Ch,Z_STREAM_ERROR:Yy,Z_DATA_ERROR:l1,Z_MEM_ERROR:Ky}=Rm;function ou(t){this.options=Dm.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cy,this.strm.avail_out=0;let n=$o.inflateInit2(this.strm,e.windowBits);if(n!==Yl)throw new Error(mf[n]);if(this.header=new Hy,$o.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=gf.string2buf(e.dictionary):Gm.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=$o.inflateSetDictionary(this.strm,e.dictionary),n!==Yl)))throw new Error(mf[n])}ou.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Gy:Wy,Gm.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=$o.inflate(n,s),o===Ch&&i&&(o=$o.inflateSetDictionary(n,i),o===Yl?o=$o.inflate(n,s):o===l1&&(o=Ch));n.avail_in>0&&o===Ih&&n.state.wrap>0&&t[n.next_in]!==0;)$o.inflateReset(n),o=$o.inflate(n,s);switch(o){case Yy:case l1:case Ch:case Ky:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||o===Ih))if(this.options.to==="string"){let c=gf.utf8border(n.output,n.next_out),h=n.next_out-c,d=gf.buf2string(n.output,c);n.next_out=h,n.avail_out=r-h,h&&n.output.set(n.output.subarray(c,c+h),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===Yl&&a===0)){if(o===Ih)return o=$o.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};ou.prototype.onData=function(t){this.chunks.push(t)};ou.prototype.onEnd=function(t){t===Yl&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Dm.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Qy(t,e){const n=new ou(e);if(n.push(t),n.err)throw n.msg||mf[n.err];return n.result}var Xy=ou,Jy=Qy,Zy={Inflate:Xy,inflate:Jy};const{Inflate:e_,inflate:t_}=Zy;var u1=e_,n_=t_;const Ym=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;Ym[t]=e}const c1=4294967295;function r_(t,e,n){let r=t;for(let i=0;i<n;i++)r=Ym[(r^e[i])&255]^r>>>8;return r}function i_(t,e){return(r_(c1,t,e)^c1)>>>0}function h1(t,e,n){const r=t.readUint32(),i=i_(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function Km(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function Qm(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function Xm(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function Jm(t,e,n,r,i){let o=0;if(n.length===0){for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=t[o]+(n[o]>>1)&255;for(;o<r;o++)e[o]=t[o]+(e[o-i]+n[o]>>1)&255}}function Zm(t,e,n,r,i){let o=0;if(n.length===0){for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=t[o]+n[o]&255;for(;o<r;o++)e[o]=t[o]+o_(e[o-i],n[o],n[o-i])&255}}function o_(t,e,n){const r=t+e-n,i=Math.abs(r-t),o=Math.abs(r-e),s=Math.abs(r-n);return i<=o&&i<=s?t:o<=s?e:n}function s_(t,e,n,r,i,o){switch(t){case 0:Km(e,n,i);break;case 1:Qm(e,n,i,o);break;case 2:Xm(e,n,r,i);break;case 3:Jm(e,n,r,i,o);break;case 4:Zm(e,n,r,i,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const a_=new Uint16Array([255]),l_=new Uint8Array(a_.buffer),u_=l_[0]===255;function c_(t){const{data:e,width:n,height:r,channels:i,depth:o}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*i,c=new Uint8Array(r*n*a);let h=0;for(let d=0;d<7;d++){const y=s[d],S=Math.ceil((n-y.x)/y.xStep),p=Math.ceil((r-y.y)/y.yStep);if(S<=0||p<=0)continue;const N=S*a,R=new Uint8Array(N);for(let L=0;L<p;L++){const C=e[h++],F=e.subarray(h,h+N);h+=N;const B=new Uint8Array(N);s_(C,F,B,R,N,a),R.set(B);for(let M=0;M<S;M++){const Z=y.x+M*y.xStep,ue=y.y+L*y.yStep;if(!(Z>=n||ue>=r))for(let V=0;V<a;V++)c[(ue*n+Z)*a+V]=B[M*a+V]}}}if(o===16){const d=new Uint16Array(c.buffer);if(u_)for(let y=0;y<d.length;y++)d[y]=h_(d[y]);return d}else return c}function h_(t){return(t&255)<<8|t>>8&255}const f_=new Uint16Array([255]),d_=new Uint8Array(f_.buffer),p_=d_[0]===255,m_=new Uint8Array(0);function f1(t){const{data:e,width:n,height:r,channels:i,depth:o}=t,s=Math.ceil(o/8)*i,a=Math.ceil(o/8*i*n),c=new Uint8Array(r*a);let h=m_,d=0,y,S;for(let p=0;p<r;p++){switch(y=e.subarray(d+1,d+1+a),S=c.subarray(p*a,(p+1)*a),e[d]){case 0:Km(y,S,a);break;case 1:Qm(y,S,a,s);break;case 2:Xm(y,S,h,a);break;case 3:Jm(y,S,h,a,s);break;case 4:Zm(y,S,h,a,s);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}h=S,d+=a+1}if(o===16){const p=new Uint16Array(c.buffer);if(p_)for(let N=0;N<p.length;N++)p[N]=g_(p[N]);return p}else return c}function g_(t){return(t&255)<<8|t>>8&255}const Xu=Uint8Array.of(137,80,78,71,13,10,26,10);function d1(t){if(!v_(t.readBytes(Xu.length)))throw new Error("wrong PNG signature")}function v_(t){if(t.length<Xu.length)return!1;for(let e=0;e<Xu.length;e++)if(t[e]!==Xu[e])return!1;return!0}const y_="tEXt",__=0,e2=new TextDecoder("latin1");function b_(t){if(A_(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const w_=/^[\u0000-\u00FF]*$/;function A_(t){if(!w_.test(t))throw new Error("invalid latin1 text")}function S_(t,e,n){const r=t2(e);t[r]=x_(e,n-r.length-1)}function t2(t){for(t.mark();t.readByte()!==__;);const e=t.offset;t.reset();const n=e2.decode(t.readBytes(e-t.offset-1));return t.skip(1),b_(n),n}function x_(t,e){return e2.decode(t.readBytes(e))}const Si={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Nh={UNKNOWN:-1,DEFLATE:0},p1={UNKNOWN:-1,ADAPTIVE:0},Lh={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Fu={NONE:0,BACKGROUND:1,PREVIOUS:2},Ph={SOURCE:0,OVER:1};class T_ extends Zf{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new u1,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Nh.UNKNOWN,this._filterMethod=p1.UNKNOWN,this._interlaceMethod=Lh.UNKNOWN,this._colorType=Si.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(d1(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(d1(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case y_:S_(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?h1(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?h1(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=k_(this.readUint8());const n=this.readUint8();this._colorType=n;let r;switch(n){case Si.GREYSCALE:r=1;break;case Si.TRUECOLOUR:r=3;break;case Si.INDEXED_COLOUR:r=1;break;case Si.GREYSCALE_ALPHA:r=2;break;case Si.TRUECOLOUR_ALPHA:r=4;break;case Si.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Nh.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Si.GREYSCALE:case Si.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case Si.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Si.UNKNOWN:case Si.GREYSCALE_ALPHA:case Si.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=t2(this),r=this.readUint8();if(r!==Nh.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:n_(i)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=f1({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,r){switch(e.disposeOp){case Fu.NONE:break;case Fu.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const s=(i*e.width+o)*this._png.channels;for(let a=0;a<this._png.channels;a++)r.data[s+a]=0}break;case Fu.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const r=1<<this._png.depth,i=(o,s)=>{const a=((o+n.yOffset)*this._png.width+n.xOffset+s)*this._png.channels,c=(o*n.width+s)*this._png.channels;return{index:a,frameIndex:c}};switch(n.blendOp){case Ph.SOURCE:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){const{index:a,frameIndex:c}=i(o,s);for(let h=0;h<this._png.channels;h++)e.data[a+h]=n.data[c+h]}break;case Ph.OVER:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){const{index:a,frameIndex:c}=i(o,s);for(let h=0;h<this._png.channels;h++){const d=n.data[c+this._png.channels-1]/r,y=h%(this._png.channels-1)===0?1:n.data[c+h],S=Math.floor(d*y+(1-d)*e.data[a+h]);e.data[a+h]+=S}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==p1.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Lh.NO_INTERLACE)this._png.data=f1({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Lh.ADAM7)this._png.data=c_({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Fu.NONE,blendOp:Ph.SOURCE,data:e}),this._inflator=new u1,this._writingDataChunks=!1}}function k_(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var m1;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(m1||(m1={}));function E_(t,e){return new T_(t,e).decode()}var Dt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Rh(){Dt.console&&typeof Dt.console.log=="function"&&Dt.console.log.apply(Dt.console,arguments)}var An={log:Rh,warn:function(t){Dt.console&&(typeof Dt.console.warn=="function"?Dt.console.warn.apply(Dt.console,arguments):Rh.call(null,arguments))},error:function(t){Dt.console&&(typeof Dt.console.error=="function"?Dt.console.error.apply(Dt.console,arguments):Rh(t))}};function Dh(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Qs(r.response,e,n)},r.onerror=function(){An.error("could not download file")},r.send()}function g1(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Vu(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Qs=Dt.saveAs||((typeof window>"u"?"undefined":gn(window))!=="object"||window!==Dt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Dt.URL||Dt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?g1(i.href)?Dh(t,e,n):Vu(i,i.target="_blank"):Vu(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Vu(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(g1(t))Dh(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Vu(r)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:gn(o)!=="object"&&(An.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Dh(t,e,n);var i=t.type==="application/octet-stream",o=/constructor/i.test(Dt.HTMLElement)||Dt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&(typeof FileReader>"u"?"undefined":gn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},a.readAsDataURL(t)}else{var c=Dt.URL||Dt.webkitURL,h=c.createObjectURL(t);r?r.location=h:location.href=h,r=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function n2(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,s=i.exec(t);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return a.length==1&&(a="0"+a),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+a+c+h}}var Ju=Dt.atob.bind(Dt),v1=Dt.btoa.bind(Dt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Mh(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];n=Fr(n,r,i,o,e[0],7,-680876936),o=Fr(o,n,r,i,e[1],12,-389564586),i=Fr(i,o,n,r,e[2],17,606105819),r=Fr(r,i,o,n,e[3],22,-1044525330),n=Fr(n,r,i,o,e[4],7,-176418897),o=Fr(o,n,r,i,e[5],12,1200080426),i=Fr(i,o,n,r,e[6],17,-1473231341),r=Fr(r,i,o,n,e[7],22,-45705983),n=Fr(n,r,i,o,e[8],7,1770035416),o=Fr(o,n,r,i,e[9],12,-1958414417),i=Fr(i,o,n,r,e[10],17,-42063),r=Fr(r,i,o,n,e[11],22,-1990404162),n=Fr(n,r,i,o,e[12],7,1804603682),o=Fr(o,n,r,i,e[13],12,-40341101),i=Fr(i,o,n,r,e[14],17,-1502002290),n=Vr(n,r=Fr(r,i,o,n,e[15],22,1236535329),i,o,e[1],5,-165796510),o=Vr(o,n,r,i,e[6],9,-1069501632),i=Vr(i,o,n,r,e[11],14,643717713),r=Vr(r,i,o,n,e[0],20,-373897302),n=Vr(n,r,i,o,e[5],5,-701558691),o=Vr(o,n,r,i,e[10],9,38016083),i=Vr(i,o,n,r,e[15],14,-660478335),r=Vr(r,i,o,n,e[4],20,-405537848),n=Vr(n,r,i,o,e[9],5,568446438),o=Vr(o,n,r,i,e[14],9,-1019803690),i=Vr(i,o,n,r,e[3],14,-187363961),r=Vr(r,i,o,n,e[8],20,1163531501),n=Vr(n,r,i,o,e[13],5,-1444681467),o=Vr(o,n,r,i,e[2],9,-51403784),i=Vr(i,o,n,r,e[7],14,1735328473),n=jr(n,r=Vr(r,i,o,n,e[12],20,-1926607734),i,o,e[5],4,-378558),o=jr(o,n,r,i,e[8],11,-2022574463),i=jr(i,o,n,r,e[11],16,1839030562),r=jr(r,i,o,n,e[14],23,-35309556),n=jr(n,r,i,o,e[1],4,-1530992060),o=jr(o,n,r,i,e[4],11,1272893353),i=jr(i,o,n,r,e[7],16,-155497632),r=jr(r,i,o,n,e[10],23,-1094730640),n=jr(n,r,i,o,e[13],4,681279174),o=jr(o,n,r,i,e[0],11,-358537222),i=jr(i,o,n,r,e[3],16,-722521979),r=jr(r,i,o,n,e[6],23,76029189),n=jr(n,r,i,o,e[9],4,-640364487),o=jr(o,n,r,i,e[12],11,-421815835),i=jr(i,o,n,r,e[15],16,530742520),n=Br(n,r=jr(r,i,o,n,e[2],23,-995338651),i,o,e[0],6,-198630844),o=Br(o,n,r,i,e[7],10,1126891415),i=Br(i,o,n,r,e[14],15,-1416354905),r=Br(r,i,o,n,e[5],21,-57434055),n=Br(n,r,i,o,e[12],6,1700485571),o=Br(o,n,r,i,e[3],10,-1894986606),i=Br(i,o,n,r,e[10],15,-1051523),r=Br(r,i,o,n,e[1],21,-2054922799),n=Br(n,r,i,o,e[8],6,1873313359),o=Br(o,n,r,i,e[15],10,-30611744),i=Br(i,o,n,r,e[6],15,-1560198380),r=Br(r,i,o,n,e[13],21,1309151649),n=Br(n,r,i,o,e[4],6,-145523070),o=Br(o,n,r,i,e[11],10,-1120210379),i=Br(i,o,n,r,e[2],15,718787259),r=Br(r,i,o,n,e[9],21,-343485551),t[0]=ws(n,t[0]),t[1]=ws(r,t[1]),t[2]=ws(i,t[2]),t[3]=ws(o,t[3])}function Uc(t,e,n,r,i,o){return e=ws(ws(e,t),ws(r,o)),ws(e<<i|e>>>32-i,n)}function Fr(t,e,n,r,i,o,s){return Uc(e&n|~e&r,t,e,i,o,s)}function Vr(t,e,n,r,i,o,s){return Uc(e&r|n&~r,t,e,i,o,s)}function jr(t,e,n,r,i,o,s){return Uc(e^n^r,t,e,i,o,s)}function Br(t,e,n,r,i,o,s){return Uc(n^(e|~r),t,e,i,o,s)}function r2(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Mh(r,I_(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Mh(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Mh(r,i),r}function I_(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var y1="0123456789abcdef".split("");function C_(t){for(var e="",n=0;n<4;n++)e+=y1[t>>8*n+4&15]+y1[t>>8*n&15];return e}function N_(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function vf(t){return r2(t).map(N_).join("")}var L_=function(t){for(var e=0;e<t.length;e++)t[e]=C_(t[e]);return t.join("")}(r2("hello"))!="5d41402abc4b2a76b9719d911017c592";function ws(t,e){if(L_){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function yf(t,e){var n,r,i,o;if(t!==n){for(var s=(i=t,o=1+(256/t.length|0),new Array(o+1).join(i)),a=[],c=0;c<256;c++)a[c]=c;var h=0;for(c=0;c<256;c++){var d=a[c];h=(h+d+s.charCodeAt(c))%256,a[c]=a[h],a[h]=d}n=t,r=a}else a=r;var y=e.length,S=0,p=0,N="";for(c=0;c<y;c++)p=(p+(d=a[S=(S+1)%256]))%256,a[S]=a[p],a[p]=d,s=a[(a[S]+a[p])%256],N+=String.fromCharCode(e.charCodeAt(c)^s);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var _1={print:4,modify:8,copy:16,"annot-forms":32};function Ra(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(_1.perm!==void 0)throw new Error("Invalid permission: "+a);i+=_1[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=vf(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=yf(this.encryptionKey,this.padding)}function Da(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function b1(t){if(gn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var o=Math.random().toString(35);return e[n][o]=[r,!!i],o},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[n]){var s=e[n][o];try{s[0].apply(t,r)}catch(a){Dt.console&&An.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function gc(t){if(!(this instanceof gc))return new gc(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function i2(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Zs(t,e,n,r,i){if(!(this instanceof Zs))return new Zs(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,i2.call(this,r,i)}function Fa(t,e,n,r,i){if(!(this instanceof Fa))return new Fa(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,i2.call(this,r,i)}function St(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,c=16,h="S",d=null;gn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,o=t.compress||t.compressPdf||o,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),h=t.defaultPathOperation||"S"),s=t.filters||(o===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var y=t.putOnlyUsedFonts||!1,S={},p={internal:{},__private__:{}};p.__private__.PubSub=b1;var N="1.3",R=p.__private__.getPdfVersion=function(){return N};p.__private__.setPdfVersion=function(m){N=m};var L={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return L};var C=p.__private__.getPageFormat=function(m){return L[m]};i=i||"a4";var F="compat",B="advanced",M=F;function Z(){this.saveGraphicsState(),W(new Et(gt,0,0,-gt,0,Di()*gt).toString()+" cm"),this.setFontSize(this.getFontSize()/gt),h="n",M=B}function ue(){this.restoreGraphicsState(),h="S",M=F}var V=p.__private__.combineFontStyleAndFontWeight=function(m,P){if(m=="bold"&&P=="normal"||m=="bold"&&P==400||m=="normal"&&P=="italic"||m=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(m=P==400||P==="normal"?m==="italic"?"italic":"normal":P!=700&&P!=="bold"||m!=="normal"?(P==700?"bold":P)+""+m:"bold"),m};p.advancedAPI=function(m){var P=M===F;return P&&Z.call(this),typeof m!="function"||(m(this),P&&ue.call(this)),this},p.compatAPI=function(m){var P=M===B;return P&&ue.call(this),typeof m!="function"||(m(this),P&&Z.call(this)),this},p.isAdvancedAPI=function(){return M===B};var E,b=function(m){if(M!==B)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=p.roundToPrecision=p.__private__.roundToPrecision=function(m,P){var G=e||P;if(isNaN(m)||isNaN(G))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(G).replace(/0+$/,"")};E=p.hpf=p.__private__.hpf=typeof c=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return I(m,c)}:c==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return I(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return I(m,16)};var _=p.f2=p.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return I(m,2)},w=p.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return I(m,3)},x=p.scale=p.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return M===F?m*gt:M===B?m:void 0},U=function(m){return x(function(P){return M===F?Di()-P:M===B?P:void 0}(m))};p.__private__.setPrecision=p.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(e=parseInt(m,10))};var re,le="00000000000000000000000000000000",ae=p.__private__.getFileId=function(){return le},J=p.__private__.setFileId=function(m){return le=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(_n=new Ra(d.userPermissions,d.userPassword,d.ownerPassword,le)),le};p.setFileId=function(m){return J(m),this},p.getFileId=function(){return ae()};var fe=p.__private__.convertDateToPDFDate=function(m){var P=m.getTimezoneOffset(),G=P<0?"+":"-",te=Math.floor(Math.abs(P/60)),de=Math.abs(P%60),Ne=[G,X(te),"'",X(de),"'"].join("");return["D:",m.getFullYear(),X(m.getMonth()+1),X(m.getDate()),X(m.getHours()),X(m.getMinutes()),X(m.getSeconds()),Ne].join("")},be=p.__private__.convertPDFDateToDate=function(m){var P=parseInt(m.substr(2,4),10),G=parseInt(m.substr(6,2),10)-1,te=parseInt(m.substr(8,2),10),de=parseInt(m.substr(10,2),10),Ne=parseInt(m.substr(12,2),10),Fe=parseInt(m.substr(14,2),10);return new Date(P,G,te,de,Ne,Fe,0)},ge=p.__private__.setCreationDate=function(m){var P;if(m===void 0&&(m=new Date),m instanceof Date)P=fe(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=m}return re=P},T=p.__private__.getCreationDate=function(m){var P=re;return m==="jsDate"&&(P=be(re)),P};p.setCreationDate=function(m){return ge(m),this},p.getCreationDate=function(m){return T(m)};var H,X=p.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},ee=p.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},ne=0,he=[],ke=[],Te=0,Ie=[],Pe=[],qe=!1,Xe=ke;p.__private__.setCustomOutputDestination=function(m){qe=!0,Xe=m};var st=function(m){qe||(Xe=m)};p.__private__.resetCustomOutputDestination=function(){qe=!1,Xe=ke};var W=p.__private__.out=function(m){return m=m.toString(),Te+=m.length+1,Xe.push(m),Xe},Qe=p.__private__.write=function(m){return W(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},At=p.__private__.getArrayBuffer=function(m){for(var P=m.length,G=new ArrayBuffer(P),te=new Uint8Array(G);P--;)te[P]=m.charCodeAt(P);return G},bt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return bt};var Oe=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(m){return Oe=M===B?m/gt:m,this};var ht,tt=p.__private__.getFontSize=p.getFontSize=function(){return M===F?Oe:Oe*gt},Ee=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(m){return Ee=m,this},p.__private__.getR2L=p.getR2L=function(){return Ee};var De,rt=p.__private__.setZoomMode=function(m){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))ht=m;else if(isNaN(m)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');ht=m}else ht=parseInt(m,10)};p.__private__.getZoomMode=function(){return ht};var ct,Ye=p.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');De=m};p.__private__.getPageMode=function(){return De};var We=p.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');ct=m};p.__private__.getLayoutMode=function(){return ct},p.__private__.setDisplayMode=p.setDisplayMode=function(m,P,G){return rt(m),We(P),Ye(G),this};var it={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(m){if(Object.keys(it).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return it[m]},p.__private__.getDocumentProperties=function(){return it},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(m){for(var P in it)it.hasOwnProperty(P)&&m[P]&&(it[P]=m[P]);return this},p.__private__.setDocumentProperty=function(m,P){if(Object.keys(it).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return it[m]=P};var Je,gt,pe,Me,Ke,Ze={},ot={},Ut=[],He={},Ct={},lt={},Lt={},Yt=null,Mt=0,vt=[],jt=new b1(p),ei=t.hotfixes||[],Nn={},ti={},or=[],Et=function m(P,G,te,de,Ne,Fe){if(!(this instanceof m))return new m(P,G,te,de,Ne,Fe);isNaN(P)&&(P=1),isNaN(G)&&(G=0),isNaN(te)&&(te=0),isNaN(de)&&(de=1),isNaN(Ne)&&(Ne=0),isNaN(Fe)&&(Fe=0),this._matrix=[P,G,te,de,Ne,Fe]};Object.defineProperty(Et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(Et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(Et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(Et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(Et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(Et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(Et.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(Et.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(Et.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(Et.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(Et.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(Et.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(Et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Et.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(m)},Et.prototype.multiply=function(m){var P=m.sx*this.sx+m.shy*this.shx,G=m.sx*this.shy+m.shy*this.sy,te=m.shx*this.sx+m.sy*this.shx,de=m.shx*this.shy+m.sy*this.sy,Ne=m.tx*this.sx+m.ty*this.shx+this.tx,Fe=m.tx*this.shy+m.ty*this.sy+this.ty;return new Et(P,G,te,de,Ne,Fe)},Et.prototype.decompose=function(){var m=this.sx,P=this.shy,G=this.shx,te=this.sy,de=this.tx,Ne=this.ty,Fe=Math.sqrt(m*m+P*P),ut=(m/=Fe)*G+(P/=Fe)*te;G-=m*ut,te-=P*ut;var pt=Math.sqrt(G*G+te*te);return ut/=pt,m*(te/=pt)<P*(G/=pt)&&(m=-m,P=-P,ut=-ut,Fe=-Fe),{scale:new Et(Fe,0,0,pt,0,0),translate:new Et(1,0,0,1,de,Ne),rotate:new Et(m,P,-P,m,0,0),skew:new Et(1,0,ut,1,0,0)}},Et.prototype.toString=function(m){return this.join(" ")},Et.prototype.inversed=function(){var m=this.sx,P=this.shy,G=this.shx,te=this.sy,de=this.tx,Ne=this.ty,Fe=1/(m*te-P*G),ut=te*Fe,pt=-P*Fe,Pt=-G*Fe,Ot=m*Fe;return new Et(ut,pt,Pt,Ot,-ut*de-Pt*Ne,-pt*de-Ot*Ne)},Et.prototype.applyToPoint=function(m){var P=m.x*this.sx+m.y*this.shx+this.tx,G=m.x*this.shy+m.y*this.sy+this.ty;return new Pi(P,G)},Et.prototype.applyToRectangle=function(m){var P=this.applyToPoint(m),G=this.applyToPoint(new Pi(m.x+m.w,m.y+m.h));return new ts(P.x,P.y,G.x-P.x,G.y-P.y)},Et.prototype.clone=function(){var m=this.sx,P=this.shy,G=this.shx,te=this.sy,de=this.tx,Ne=this.ty;return new Et(m,P,G,te,de,Ne)},p.Matrix=Et;var yn=p.matrixMult=function(m,P){return P.multiply(m)},ni=new Et(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=ni;var Q=function(m,P){if(!Ct[m]){var G=(P instanceof Zs?"Sh":"P")+(Object.keys(He).length+1).toString(10);P.id=G,Ct[m]=G,He[G]=P,jt.publish("addPattern",P)}};p.ShadingPattern=Zs,p.TilingPattern=Fa,p.addShadingPattern=function(m,P){return b("addShadingPattern()"),Q(m,P),this},p.beginTilingPattern=function(m){b("beginTilingPattern()"),fo(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},p.endTilingPattern=function(m,P){b("endTilingPattern()"),P.stream=Pe[H].join(`
`),Q(m,P),jt.publish("endTilingPattern",P),or.pop().restore()};var oe,xe=p.__private__.newObject=function(){var m=Ue();return $e(m,!0),m},Ue=p.__private__.newObjectDeferred=function(){return ne++,he[ne]=function(){return Te},ne},$e=function(m,P){return P=typeof P=="boolean"&&P,he[m]=Te,P&&W(m+" 0 obj"),m},Rt=p.__private__.newAdditionalObject=function(){var m={objId:Ue(),content:""};return Ie.push(m),m},at=Ue(),kt=Ue(),$t=p.__private__.decodeColorString=function(m){var P=m.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length!==5||P[4]!=="k"&&P[4]!=="K"||(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var G=parseFloat(P[0]);P=[G,G,G,"r"]}for(var te="#",de=0;de<3;de++)te+=("0"+Math.floor(255*parseFloat(P[de])).toString(16)).slice(-2);return te},Qn=p.__private__.encodeColorString=function(m){var P;typeof m=="string"&&(m={ch1:m});var G=m.ch1,te=m.ch2,de=m.ch3,Ne=m.ch4,Fe=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof G=="string"&&G.charAt(0)!=="#"){var ut=new n2(G);if(ut.ok)G=ut.toHex();else if(!/^\d*\.?\d*$/.test(G))throw new Error('Invalid color "'+G+'" passed to jsPDF.encodeColorString.')}if(typeof G=="string"&&/^#[0-9A-Fa-f]{3}$/.test(G)&&(G="#"+G[1]+G[1]+G[2]+G[2]+G[3]+G[3]),typeof G=="string"&&/^#[0-9A-Fa-f]{6}$/.test(G)){var pt=parseInt(G.substr(1),16);G=pt>>16&255,te=pt>>8&255,de=255&pt}if(te===void 0||Ne===void 0&&G===te&&te===de)P=typeof G=="string"?G+" "+Fe[0]:m.precision===2?_(G/255)+" "+Fe[0]:w(G/255)+" "+Fe[0];else if(Ne===void 0||gn(Ne)==="object"){if(Ne&&!isNaN(Ne.a)&&Ne.a===0)return["1.","1.","1.",Fe[1]].join(" ");P=typeof G=="string"?[G,te,de,Fe[1]].join(" "):m.precision===2?[_(G/255),_(te/255),_(de/255),Fe[1]].join(" "):[w(G/255),w(te/255),w(de/255),Fe[1]].join(" ")}else P=typeof G=="string"?[G,te,de,Ne,Fe[2]].join(" "):m.precision===2?[_(G),_(te),_(de),_(Ne),Fe[2]].join(" "):[w(G),w(te),w(de),w(Ne),Fe[2]].join(" ");return P},Dr=p.__private__.getFilters=function(){return s},Xn=p.__private__.putStream=function(m){var P=(m=m||{}).data||"",G=m.filters||Dr(),te=m.alreadyAppliedFilters||[],de=m.addLength1||!1,Ne=P.length,Fe=m.objectId,ut=function(Un){return Un};if(d!==null&&Fe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(ut=_n.encryptor(Fe,0));var pt={};G===!0&&(G=["FlateEncode"]);var Pt=m.additionalKeyValues||[],Ot=(pt=St.API.processDataByFilters!==void 0?St.API.processDataByFilters(P,G):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(te)?te.join(" "):te.toString());if(pt.data.length!==0&&(Pt.push({key:"Length",value:pt.data.length}),de===!0&&Pt.push({key:"Length1",value:Ne})),Ot.length!=0)if(Ot.split("/").length-1==1)Pt.push({key:"Filter",value:Ot});else{Pt.push({key:"Filter",value:"["+Ot+"]"});for(var Qt=0;Qt<Pt.length;Qt+=1)if(Pt[Qt].key==="DecodeParms"){for(var cn=[],Fn=0;Fn<pt.reverseChain.split("/").length-1;Fn+=1)cn.push("null");cn.push(Pt[Qt].value),Pt[Qt].value="["+cn.join(" ")+"]"}}W("<<");for(var dn=0;dn<Pt.length;dn++)W("/"+Pt[dn].key+" "+Pt[dn].value);W(">>"),pt.data.length!==0&&(W("stream"),W(ut(pt.data)),W("endstream"))},so=p.__private__.putPage=function(m){var P=m.number,G=m.data,te=m.objId,de=m.contentsObjId;$e(te,!0),W("<</Type /Page"),W("/Parent "+m.rootDictionaryObjId+" 0 R"),W("/Resources "+m.resourceDictionaryObjId+" 0 R"),W("/MediaBox ["+parseFloat(E(m.mediaBox.bottomLeftX))+" "+parseFloat(E(m.mediaBox.bottomLeftY))+" "+E(m.mediaBox.topRightX)+" "+E(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&W("/CropBox ["+E(m.cropBox.bottomLeftX)+" "+E(m.cropBox.bottomLeftY)+" "+E(m.cropBox.topRightX)+" "+E(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&W("/BleedBox ["+E(m.bleedBox.bottomLeftX)+" "+E(m.bleedBox.bottomLeftY)+" "+E(m.bleedBox.topRightX)+" "+E(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&W("/TrimBox ["+E(m.trimBox.bottomLeftX)+" "+E(m.trimBox.bottomLeftY)+" "+E(m.trimBox.topRightX)+" "+E(m.trimBox.topRightY)+"]"),m.artBox!==null&&W("/ArtBox ["+E(m.artBox.bottomLeftX)+" "+E(m.artBox.bottomLeftY)+" "+E(m.artBox.topRightX)+" "+E(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&W("/UserUnit "+m.userUnit),jt.publish("putPage",{objId:te,pageContext:vt[P],pageNumber:P,page:G}),W("/Contents "+de+" 0 R"),W(">>"),W("endobj");var Ne=G.join(`
`);return M===B&&(Ne+=`
Q`),$e(de,!0),Xn({data:Ne,filters:Dr(),objectId:de}),W("endobj"),te},hi=p.__private__.putPages=function(){var m,P,G=[];for(m=1;m<=Mt;m++)vt[m].objId=Ue(),vt[m].contentsObjId=Ue();for(m=1;m<=Mt;m++)G.push(so({number:m,data:Pe[m],objId:vt[m].objId,contentsObjId:vt[m].contentsObjId,mediaBox:vt[m].mediaBox,cropBox:vt[m].cropBox,bleedBox:vt[m].bleedBox,trimBox:vt[m].trimBox,artBox:vt[m].artBox,userUnit:vt[m].userUnit,rootDictionaryObjId:at,resourceDictionaryObjId:kt}));$e(at,!0),W("<</Type /Pages");var te="/Kids [";for(P=0;P<Mt;P++)te+=G[P]+" 0 R ";W(te+"]"),W("/Count "+Mt),W(">>"),W("endobj"),jt.publish("postPutPages")},$i=function(m){jt.publish("putFont",{font:m,out:W,newObject:xe,putStream:Xn}),m.isAlreadyPutted!==!0&&(m.objectNumber=xe(),W("<<"),W("/Type /Font"),W("/BaseFont /"+Da(m.postScriptName)),W("/Subtype /Type1"),typeof m.encoding=="string"&&W("/Encoding /"+m.encoding),W("/FirstChar 32"),W("/LastChar 255"),W(">>"),W("endobj"))},ao=function(m){m.objectNumber=xe();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[E(m.x),E(m.y),E(m.x+m.width),E(m.y+m.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var G=m.pages[1].join(`
`);Xn({data:G,additionalKeyValues:P,objectId:m.objectNumber}),W("endobj")},ko=function(m,P){P||(P=21);var G=xe(),te=function(Fe,ut){var pt,Pt=[],Ot=1/(ut-1);for(pt=0;pt<1;pt+=Ot)Pt.push(pt);if(Pt.push(1),Fe[0].offset!=0){var Qt={offset:0,color:Fe[0].color};Fe.unshift(Qt)}if(Fe[Fe.length-1].offset!=1){var cn={offset:1,color:Fe[Fe.length-1].color};Fe.push(cn)}for(var Fn="",dn=0,Un=0;Un<Pt.length;Un++){for(pt=Pt[Un];pt>Fe[dn+1].offset;)dn++;var Vn=Fe[dn].offset,$n=(pt-Vn)/(Fe[dn+1].offset-Vn),jn=Fe[dn].color,oi=Fe[dn+1].color;Fn+=ee(Math.round((1-$n)*jn[0]+$n*oi[0]).toString(16))+ee(Math.round((1-$n)*jn[1]+$n*oi[1]).toString(16))+ee(Math.round((1-$n)*jn[2]+$n*oi[2]).toString(16))}return Fn.trim()}(m.colors,P),de=[];de.push({key:"FunctionType",value:"0"}),de.push({key:"Domain",value:"[0.0 1.0]"}),de.push({key:"Size",value:"["+P+"]"}),de.push({key:"BitsPerSample",value:"8"}),de.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),de.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xn({data:te,additionalKeyValues:de,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:G}),W("endobj"),m.objectNumber=xe(),W("<< /ShadingType "+m.type),W("/ColorSpace /DeviceRGB");var Ne="/Coords ["+E(parseFloat(m.coords[0]))+" "+E(parseFloat(m.coords[1]))+" ";m.type===2?Ne+=E(parseFloat(m.coords[2]))+" "+E(parseFloat(m.coords[3])):Ne+=E(parseFloat(m.coords[2]))+" "+E(parseFloat(m.coords[3]))+" "+E(parseFloat(m.coords[4]))+" "+E(parseFloat(m.coords[5])),W(Ne+="]"),m.matrix&&W("/Matrix ["+m.matrix.toString()+"]"),W("/Function "+G+" 0 R"),W("/Extend [true true]"),W(">>"),W("endobj")},Eo=function(m,P){var G=Ue(),te=xe();P.push({resourcesOid:G,objectOid:te}),m.objectNumber=te;var de=[];de.push({key:"Type",value:"/Pattern"}),de.push({key:"PatternType",value:"1"}),de.push({key:"PaintType",value:"1"}),de.push({key:"TilingType",value:"1"}),de.push({key:"BBox",value:"["+m.boundingBox.map(E).join(" ")+"]"}),de.push({key:"XStep",value:E(m.xStep)}),de.push({key:"YStep",value:E(m.yStep)}),de.push({key:"Resources",value:G+" 0 R"}),m.matrix&&de.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),Xn({data:m.stream,additionalKeyValues:de,objectId:m.objectNumber}),W("endobj")},cl=function(m){for(var P in m.objectNumber=xe(),W("<<"),m)switch(P){case"opacity":W("/ca "+_(m[P]));break;case"stroke-opacity":W("/CA "+_(m[P]))}W(">>"),W("endobj")},lo=function(m){$e(m.resourcesOid,!0),W("<<"),W("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var P in W("/Font <<"),Ze)Ze.hasOwnProperty(P)&&(y===!1||y===!0&&S.hasOwnProperty(P))&&W("/"+P+" "+Ze[P].objectNumber+" 0 R");W(">>")}(),function(){if(Object.keys(He).length>0){for(var P in W("/Shading <<"),He)He.hasOwnProperty(P)&&He[P]instanceof Zs&&He[P].objectNumber>=0&&W("/"+P+" "+He[P].objectNumber+" 0 R");jt.publish("putShadingPatternDict"),W(">>")}}(),function(P){if(Object.keys(He).length>0){for(var G in W("/Pattern <<"),He)He.hasOwnProperty(G)&&He[G]instanceof p.TilingPattern&&He[G].objectNumber>=0&&He[G].objectNumber<P&&W("/"+G+" "+He[G].objectNumber+" 0 R");jt.publish("putTilingPatternDict"),W(">>")}}(m.objectOid),function(){if(Object.keys(lt).length>0){var P;for(P in W("/ExtGState <<"),lt)lt.hasOwnProperty(P)&&lt[P].objectNumber>=0&&W("/"+P+" "+lt[P].objectNumber+" 0 R");jt.publish("putGStateDict"),W(">>")}}(),function(){for(var P in W("/XObject <<"),Nn)Nn.hasOwnProperty(P)&&Nn[P].objectNumber>=0&&W("/"+P+" "+Nn[P].objectNumber+" 0 R");jt.publish("putXobjectDict"),W(">>")}(),W(">>"),W("endobj")},Ds=function(m){ot[m.fontName]=ot[m.fontName]||{},ot[m.fontName][m.fontStyle]=m.id},Ko=function(m,P,G,te,de){var Ne={id:"F"+(Object.keys(Ze).length+1).toString(10),postScriptName:m,fontName:P,fontStyle:G,encoding:te,isStandardFont:de||!1,metadata:{}};return jt.publish("addFont",{font:Ne,instance:this}),Ze[Ne.id]=Ne,Ds(Ne),Ne.id},vr=p.__private__.pdfEscape=p.pdfEscape=function(m,P){return function(G,te){var de,Ne,Fe,ut,pt,Pt,Ot,Qt,cn;if(Fe=(te=te||{}).sourceEncoding||"Unicode",pt=te.outputEncoding,(te.autoencode||pt)&&Ze[Je].metadata&&Ze[Je].metadata[Fe]&&Ze[Je].metadata[Fe].encoding&&(ut=Ze[Je].metadata[Fe].encoding,!pt&&Ze[Je].encoding&&(pt=Ze[Je].encoding),!pt&&ut.codePages&&(pt=ut.codePages[0]),typeof pt=="string"&&(pt=ut[pt]),pt)){for(Ot=!1,Pt=[],de=0,Ne=G.length;de<Ne;de++)(Qt=pt[G.charCodeAt(de)])?Pt.push(String.fromCharCode(Qt)):Pt.push(G[de]),Pt[de].charCodeAt(0)>>8&&(Ot=!0);G=Pt.join("")}for(de=G.length;Ot===void 0&&de!==0;)G.charCodeAt(de-1)>>8&&(Ot=!0),de--;if(!Ot)return G;for(Pt=te.noBOM?[]:[254,255],de=0,Ne=G.length;de<Ne;de++){if((cn=(Qt=G.charCodeAt(de))>>8)>>8)throw new Error("Character at position "+de+" of string '"+G+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Pt.push(cn),Pt.push(Qt-(cn<<8))}return String.fromCharCode.apply(void 0,Pt)}(m,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fi=p.__private__.beginPage=function(m){Pe[++Mt]=[],vt[Mt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},Os(Mt),st(Pe[H])},Qo=function(m,P){var G,te,de;switch(n=P||n,typeof m=="string"&&(G=C(m.toLowerCase()),Array.isArray(G)&&(te=G[0],de=G[1])),Array.isArray(m)&&(te=m[0]*gt,de=m[1]*gt),isNaN(te)&&(te=i[0],de=i[1]),(te>14400||de>14400)&&(An.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),te=Math.min(14400,te),de=Math.min(14400,de)),i=[te,de],n.substr(0,1)){case"l":de>te&&(i=[de,te]);break;case"p":te>de&&(i=[de,te])}fi(i),Nt(Jo),W(Wi),vn!==0&&W(vn+" J"),zs!==0&&W(zs+" j"),jt.publish("addPage",{pageNumber:Mt})},Ms=function(m){m>0&&m<=Mt&&(Pe.splice(m,1),vt.splice(m,1),Mt--,H>Mt&&(H=Mt),this.setPage(H))},Os=function(m){m>0&&m<=Mt&&(H=m)},Fs=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Pe.length-1},Vs=function(m,P,G){var te,de=void 0;return G=G||{},m=m!==void 0?m:Ze[Je].fontName,P=P!==void 0?P:Ze[Je].fontStyle,te=m.toLowerCase(),ot[te]!==void 0&&ot[te][P]!==void 0?de=ot[te][P]:ot[m]!==void 0&&ot[m][P]!==void 0?de=ot[m][P]:G.disableWarning===!1&&An.warn("Unable to look up font label for font '"+m+"', '"+P+"'. Refer to getFontList() for available fonts."),de||G.noFallback||(de=ot.times[P])==null&&(de=ot.times.normal),de},ri=p.__private__.putInfo=function(){var m=xe(),P=function(te){return te};for(var G in d!==null&&(P=_n.encryptor(m,0)),W("<<"),W("/Producer ("+vr(P("jsPDF "+St.version))+")"),it)it.hasOwnProperty(G)&&it[G]&&W("/"+G.substr(0,1).toUpperCase()+G.substr(1)+" ("+vr(P(it[G]))+")");W("/CreationDate ("+vr(P(re))+")"),W(">>"),W("endobj")},uo=p.__private__.putCatalog=function(m){var P=(m=m||{}).rootDictionaryObjId||at;switch(xe(),W("<<"),W("/Type /Catalog"),W("/Pages "+P+" 0 R"),ht||(ht="fullwidth"),ht){case"fullwidth":W("/OpenAction [3 0 R /FitH null]");break;case"fullheight":W("/OpenAction [3 0 R /FitV null]");break;case"fullpage":W("/OpenAction [3 0 R /Fit]");break;case"original":W("/OpenAction [3 0 R /XYZ null null 1]");break;default:var G=""+ht;G.substr(G.length-1)==="%"&&(ht=parseInt(ht)/100),typeof ht=="number"&&W("/OpenAction [3 0 R /XYZ null null "+_(ht)+"]")}switch(ct||(ct="continuous"),ct){case"continuous":W("/PageLayout /OneColumn");break;case"single":W("/PageLayout /SinglePage");break;case"two":case"twoleft":W("/PageLayout /TwoColumnLeft");break;case"tworight":W("/PageLayout /TwoColumnRight")}De&&W("/PageMode /"+De),jt.publish("putCatalog"),W(">>"),W("endobj")},ga=p.__private__.putTrailer=function(){W("trailer"),W("<<"),W("/Size "+(ne+1)),W("/Root "+ne+" 0 R"),W("/Info "+(ne-1)+" 0 R"),d!==null&&W("/Encrypt "+_n.oid+" 0 R"),W("/ID [ <"+le+"> <"+le+"> ]"),W(">>")},On=p.__private__.putHeader=function(){W("%PDF-"+N),W("%")},va=p.__private__.putXRef=function(){var m="0000000000";W("xref"),W("0 "+(ne+1)),W("0000000000 65535 f ");for(var P=1;P<=ne;P++)typeof he[P]=="function"?W((m+he[P]()).slice(-10)+" 00000 n "):he[P]!==void 0?W((m+he[P]).slice(-10)+" 00000 n "):W("0000000000 00000 n ")},Ii=p.__private__.buildDocument=function(){var m;ne=0,Te=0,ke=[],he=[],Ie=[],at=Ue(),kt=Ue(),st(ke),jt.publish("buildDocument"),On(),hi(),function(){jt.publish("putAdditionalObjects");for(var G=0;G<Ie.length;G++){var te=Ie[G];$e(te.objId,!0),W(te.content),W("endobj")}jt.publish("postPutAdditionalObjects")}(),m=[],function(){for(var G in Ze)Ze.hasOwnProperty(G)&&(y===!1||y===!0&&S.hasOwnProperty(G))&&$i(Ze[G])}(),function(){var G;for(G in lt)lt.hasOwnProperty(G)&&cl(lt[G])}(),function(){for(var G in Nn)Nn.hasOwnProperty(G)&&ao(Nn[G])}(),function(G){var te;for(te in He)He.hasOwnProperty(te)&&(He[te]instanceof Zs?ko(He[te]):He[te]instanceof Fa&&Eo(He[te],G))}(m),jt.publish("putResources"),m.forEach(lo),lo({resourcesOid:kt,objectOid:Number.MAX_SAFE_INTEGER}),jt.publish("postPutResources"),d!==null&&(_n.oid=xe(),W("<<"),W("/Filter /Standard"),W("/V "+_n.v),W("/R "+_n.r),W("/U <"+_n.toHexString(_n.U)+">"),W("/O <"+_n.toHexString(_n.O)+">"),W("/P "+_n.P),W(">>"),W("endobj")),ri(),uo();var P=Te;return va(),ga(),W("startxref"),W(""+P),W("%%EOF"),st(Pe[H]),ke.join(`
`)},Io=p.__private__.getBlob=function(m){return new Blob([At(m)],{type:"application/pdf"})},js=p.output=p.__private__.output=(oe=function(m,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",m){case void 0:return Ii();case"save":p.save(P.filename);break;case"arraybuffer":return At(Ii());case"blob":return Io(Ii());case"bloburi":case"bloburl":if(Dt.URL!==void 0&&typeof Dt.URL.createObjectURL=="function")return Dt.URL&&Dt.URL.createObjectURL(Io(Ii()))||void 0;An.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var G="",te=Ii();try{G=v1(te)}catch{G=v1(unescape(encodeURIComponent(te)))}return"data:application/pdf;filename="+P.filename+";base64,"+G;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Dt)==="[object Window]"){var de="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ne=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(de=P.pdfObjectUrl,Ne="");var Fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+de+'"'+Ne+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",ut=Dt.open();return ut!==null&&ut.document.write(Fe),ut}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Dt)==="[object Window]"){var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',Pt=Dt.open();if(Pt!==null){Pt.document.write(pt);var Ot=this;Pt.document.documentElement.querySelector("#pdfViewer").onload=function(){Pt.document.title=P.filename,Pt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ot.output("bloburl"))}}return Pt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Dt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',cn=Dt.open();if(cn!==null&&(cn.document.write(Qt),cn.document.title=P.filename),cn||typeof safari>"u")return cn;break;case"datauri":case"dataurl":return Dt.document.location.href=this.output("datauristring",P);default:return null}},oe.foo=function(){try{return oe.apply(this,arguments)}catch(G){var m=G.stack||"";~m.indexOf(" at ")&&(m=m.split(" at ")[1]);var P="Error in function "+m.split(`
`)[0].split("<")[0]+": "+G.message;if(!Dt.console)throw new Error(P);Dt.console.error(P,G),Dt.alert&&alert(P)}},oe.foo.bar=oe,oe.foo),ii=function(m){return Array.isArray(ei)===!0&&ei.indexOf(m)>-1};switch(r){case"pt":gt=1;break;case"mm":gt=72/25.4;break;case"cm":gt=72/2.54;break;case"in":gt=72;break;case"px":gt=ii("px_scaling")==1?.75:96/72;break;case"pc":case"em":gt=12;break;case"ex":gt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);gt=r}var _n=null;ge(),J();var ur=p.__private__.getPageInfo=p.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:vt[m].objId,pageNumber:m,pageContext:vt[m]}},Co=p.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in vt)if(vt[P].objId===m)break;return ur(P)},Xo=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:vt[H].objId,pageNumber:H,pageContext:vt[H]}};p.addPage=function(){return Qo.apply(this,arguments),this},p.setPage=function(){return Os.apply(this,arguments),st.call(this,Pe[H]),this},p.insertPage=function(m){return this.addPage(),this.movePage(H,m),this},p.movePage=function(m,P){var G,te;if(m>P){G=Pe[m],te=vt[m];for(var de=m;de>P;de--)Pe[de]=Pe[de-1],vt[de]=vt[de-1];Pe[P]=G,vt[P]=te,this.setPage(P)}else if(m<P){G=Pe[m],te=vt[m];for(var Ne=m;Ne<P;Ne++)Pe[Ne]=Pe[Ne+1],vt[Ne]=vt[Ne+1];Pe[P]=G,vt[P]=te,this.setPage(P)}return this},p.deletePage=function(){return Ms.apply(this,arguments),this},p.__private__.text=p.text=function(m,P,G,te,de){var Ne,Fe,ut,pt,Pt,Ot,Qt,cn,Fn,dn=(te=te||{}).scope||this;if(typeof m=="number"&&typeof P=="number"&&(typeof G=="string"||Array.isArray(G))){var Un=G;G=P,P=m,m=Un}if(arguments[3]instanceof Et==0?(ut=arguments[4],pt=arguments[5],gn(Qt=arguments[3])==="object"&&Qt!==null||(typeof ut=="string"&&(pt=ut,ut=null),typeof Qt=="string"&&(pt=Qt,Qt=null),typeof Qt=="number"&&(ut=Qt,Qt=null),te={flags:Qt,angle:ut,align:pt})):(b("The transform parameter of text() with a Matrix value"),Fn=de),isNaN(P)||isNaN(G)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return dn;var Vn,$n="",jn=typeof te.lineHeightFactor=="number"?te.lineHeightFactor:ho,oi=dn.internal.scaleFactor;function Mi(hn){return hn=hn.split("	").join(Array(te.TabLen||9).join(" ")),vr(hn,Qt)}function Oi(hn){for(var bn,Zn=hn.concat(),cr=[],Mo=Zn.length;Mo--;)typeof(bn=Zn.shift())=="string"?cr.push(bn):Array.isArray(hn)&&(bn.length===1||bn[1]===void 0&&bn[2]===void 0)?cr.push(bn[0]):cr.push([bn[0],bn[1],bn[2]]);return cr}function u(hn,bn){var Zn;if(typeof hn=="string")Zn=bn(hn)[0];else if(Array.isArray(hn)){for(var cr,Mo,xl=hn.concat(),Ta=[],du=xl.length;du--;)typeof(cr=xl.shift())=="string"?Ta.push(bn(cr)[0]):Array.isArray(cr)&&typeof cr[0]=="string"&&(Mo=bn(cr[0],cr[1],cr[2]),Ta.push([Mo[0],Mo[1],Mo[2]]));Zn=Ta}return Zn}var v=!1,k=!0;if(typeof m=="string")v=!0;else if(Array.isArray(m)){var z=m.concat();Fe=[];for(var me,Se=z.length;Se--;)(typeof(me=z.shift())!="string"||Array.isArray(me)&&typeof me[0]!="string")&&(k=!1);v=k}if(v===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var Ge=Oe/dn.internal.scaleFactor,Zt=Ge*(jn-1);switch(te.baseline){case"bottom":G-=Zt;break;case"top":G+=Ge-Zt;break;case"hanging":G+=Ge-2*Zt;break;case"middle":G+=Ge/2-Zt}if((Ot=te.maxWidth||0)>0&&(typeof m=="string"?m=dn.splitTextToSize(m,Ot):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(hn,bn){return hn.concat(dn.splitTextToSize(bn,Ot))},[]))),Ne={text:m,x:P,y:G,options:te,mutex:{pdfEscape:vr,activeFontKey:Je,fonts:Ze,activeFontSize:Oe}},jt.publish("preProcessText",Ne),m=Ne.text,ut=(te=Ne.options).angle,Fn instanceof Et==0&&ut&&typeof ut=="number"){ut*=Math.PI/180,te.rotationDirection===0&&(ut=-ut),M===B&&(ut=-ut);var Bn=Math.cos(ut),Wt=Math.sin(ut);Fn=new Et(Bn,Wt,-Wt,Bn,0,0)}else ut&&ut instanceof Et&&(Fn=ut);M!==B||Fn||(Fn=ni),(Pt=te.charSpace||Li)!==void 0&&($n+=E(x(Pt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(cn=te.horizontalScale)!==void 0&&($n+=E(100*cn)+` Tz
`),te.lang;var un=-1,Sn=te.renderingMode!==void 0?te.renderingMode:te.stroke,pi=dn.internal.getCurrentPageInfo().pageContext;switch(Sn){case 0:case!1:case"fill":un=0;break;case 1:case!0:case"stroke":un=1;break;case 2:case"fillThenStroke":un=2;break;case 3:case"invisible":un=3;break;case 4:case"fillAndAddForClipping":un=4;break;case 5:case"strokeAndAddPathForClipping":un=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":un=6;break;case 7:case"addToPathForClipping":un=7}var Mr=pi.usedRenderingMode!==void 0?pi.usedRenderingMode:-1;un!==-1?$n+=un+` Tr
`:Mr!==-1&&($n+=`0 Tr
`),un!==-1&&(pi.usedRenderingMode=un),pt=te.align||"left";var xr,Gi=Oe*jn,vl=dn.internal.pageSize.getWidth(),yl=Ze[Je];Pt=te.charSpace||Li,Ot=te.maxWidth||0,Qt=Object.assign({autoencode:!0,noBOM:!0},te.flags);var rs=[],Hs=function(hn){return dn.getStringUnitWidth(hn,{font:yl,charSpace:Pt,fontSize:Oe,doKerning:!1})*Oe/oi};if(Object.prototype.toString.call(m)==="[object Array]"){var mi;Fe=Oi(m),pt!=="left"&&(xr=Fe.map(Hs));var gi,is=0;if(pt==="right"){P-=xr[0],m=[],Se=Fe.length;for(var Do=0;Do<Se;Do++)Do===0?(gi=yr(P),mi=Hi(G)):(gi=x(is-xr[Do]),mi=-Gi),m.push([Fe[Do],gi,mi]),is=xr[Do]}else if(pt==="center"){P-=xr[0]/2,m=[],Se=Fe.length;for(var os=0;os<Se;os++)os===0?(gi=yr(P),mi=Hi(G)):(gi=x((is-xr[os])/2),mi=-Gi),m.push([Fe[os],gi,mi]),is=xr[os]}else if(pt==="left"){m=[],Se=Fe.length;for(var _l=0;_l<Se;_l++)m.push(Fe[_l])}else if(pt==="justify"&&yl.encoding==="Identity-H"){m=[],Se=Fe.length,Ot=Ot!==0?Ot:vl;for(var xa=0,Jn=0;Jn<Se;Jn++)if(mi=Jn===0?Hi(G):-Gi,gi=Jn===0?yr(P):xa,Jn<Se-1){var fu=x((Ot-xr[Jn])/(Fe[Jn].split(" ").length-1)),mo=Fe[Jn].split(" ");m.push([mo[0]+" ",gi,mi]),xa=0;for(var go=1;go<mo.length;go++){var bl=(Hs(mo[go-1]+" "+mo[go])-Hs(mo[go]))*oi+fu;go==mo.length-1?m.push([mo[go],bl,0]):m.push([mo[go]+" ",bl,0]),xa-=bl}}else m.push([Fe[Jn],gi,mi]);m.push(["",xa,0])}else{if(pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],Se=Fe.length,Ot=Ot!==0?Ot:vl,Jn=0;Jn<Se;Jn++){mi=Jn===0?Hi(G):-Gi,gi=Jn===0?yr(P):0;var wl=Fe[Jn].split(" ").length-1,Al=wl>0?(Ot-xr[Jn])/wl:0;Jn<Se-1?rs.push(E(x(Al))):rs.push(0),m.push([Fe[Jn],gi,mi])}}}(typeof te.R2L=="boolean"?te.R2L:Ee)===!0&&(m=u(m,function(hn,bn,Zn){return[hn.split("").reverse().join(""),bn,Zn]})),Ne={text:m,x:P,y:G,options:te,mutex:{pdfEscape:vr,activeFontKey:Je,fonts:Ze,activeFontSize:Oe}},jt.publish("postProcessText",Ne),m=Ne.text,Vn=Ne.mutex.isHex||!1;var Sl=Ze[Je].encoding;Sl!=="WinAnsiEncoding"&&Sl!=="StandardEncoding"||(m=u(m,function(hn,bn,Zn){return[Mi(hn),bn,Zn]})),Fe=Oi(m),m=[];for(var ss,as,ls,Ws=Array.isArray(Fe[0])?1:0,us="",Gs=function(hn,bn,Zn){var cr="";return Zn instanceof Et?(Zn=typeof te.angle=="number"?yn(Zn,new Et(1,0,0,1,hn,bn)):yn(new Et(1,0,0,1,hn,bn),Zn),M===B&&(Zn=yn(new Et(1,0,0,-1,0,0),Zn)),cr=Zn.join(" ")+` Tm
`):cr=E(hn)+" "+E(bn)+` Td
`,cr},Fi=0;Fi<Fe.length;Fi++){switch(us="",Ws){case 1:ls=(Vn?"<":"(")+Fe[Fi][0]+(Vn?">":")"),ss=parseFloat(Fe[Fi][1]),as=parseFloat(Fe[Fi][2]);break;case 0:ls=(Vn?"<":"(")+Fe[Fi]+(Vn?">":")"),ss=yr(P),as=Hi(G)}rs!==void 0&&rs[Fi]!==void 0&&(us=rs[Fi]+` Tw
`),Fi===0?m.push(us+Gs(ss,as,Fn)+ls):Ws===0?m.push(us+ls):Ws===1&&m.push(us+Gs(ss,as,Fn)+ls)}m=Ws===0?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var vo=`BT
/`;return vo+=Je+" "+Oe+` Tf
`,vo+=E(Oe*jn)+` TL
`,vo+=di+`
`,vo+=$n,vo+=m,W(vo+="ET"),S[Je]=!0,dn};var ya=p.__private__.clip=p.clip=function(m){return W(m==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return ya("evenodd")},p.__private__.discardPath=p.discardPath=function(){return W("n"),this};var Kt=p.__private__.isValidStyle=function(m){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(P=!0),P};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(m){return Kt(m)&&(h=m),this};var No=p.__private__.getStyle=p.getStyle=function(m){var P=h;switch(m){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=m}return P},co=p.close=function(){return W("h"),this};p.stroke=function(){return W("S"),this},p.fill=function(m){return Ci("f",m),this},p.fillEvenOdd=function(m){return Ci("f*",m),this},p.fillStroke=function(m){return Ci("B",m),this},p.fillStrokeEvenOdd=function(m){return Ci("B*",m),this};var Ci=function(m,P){gn(P)==="object"?hl(P,m):W(m)},Lo=function(m){m===null||M===B&&m===void 0||(m=No(m),W(m))};function _a(m,P,G,te,de){var Ne=new Fa(P||this.boundingBox,G||this.xStep,te||this.yStep,this.gState,de||this.matrix);Ne.stream=this.stream;var Fe=m+"$$"+this.cloneIndex+++"$$";return Q(Fe,Ne),Ne}var hl=function(m,P){var G=Ct[m.key],te=He[G];if(te instanceof Zs)W("q"),W(fl(P)),te.gState&&p.setGState(te.gState),W(m.matrix.toString()+" cm"),W("/"+G+" sh"),W("Q");else if(te instanceof Fa){var de=new Et(1,0,0,-1,0,Di());m.matrix&&(de=de.multiply(m.matrix||ni),G=_a.call(te,m.key,m.boundingBox,m.xStep,m.yStep,de).id),W("q"),W("/Pattern cs"),W("/"+G+" scn"),te.gState&&p.setGState(te.gState),W(P),W("Q")}},fl=function(m){switch(m){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Bs=p.moveTo=function(m,P){return W(E(x(m))+" "+E(U(P))+" m"),this},ba=p.lineTo=function(m,P){return W(E(x(m))+" "+E(U(P))+" l"),this},Sr=p.curveTo=function(m,P,G,te,de,Ne){return W([E(x(m)),E(U(P)),E(x(G)),E(U(te)),E(x(de)),E(U(Ne)),"c"].join(" ")),this};p.__private__.line=p.line=function(m,P,G,te,de){if(isNaN(m)||isNaN(P)||isNaN(G)||isNaN(te)||!Kt(de))throw new Error("Invalid arguments passed to jsPDF.line");return M===F?this.lines([[G-m,te-P]],m,P,[1,1],de||"S"):this.lines([[G-m,te-P]],m,P,[1,1]).stroke()},p.__private__.lines=p.lines=function(m,P,G,te,de,Ne){var Fe,ut,pt,Pt,Ot,Qt,cn,Fn,dn,Un,Vn,$n;if(typeof m=="number"&&($n=G,G=P,P=m,m=$n),te=te||[1,1],Ne=Ne||!1,isNaN(P)||isNaN(G)||!Array.isArray(m)||!Array.isArray(te)||!Kt(de)||typeof Ne!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Bs(P,G),Fe=te[0],ut=te[1],Pt=m.length,Un=P,Vn=G,pt=0;pt<Pt;pt++)(Ot=m[pt]).length===2?(Un=Ot[0]*Fe+Un,Vn=Ot[1]*ut+Vn,ba(Un,Vn)):(Qt=Ot[0]*Fe+Un,cn=Ot[1]*ut+Vn,Fn=Ot[2]*Fe+Un,dn=Ot[3]*ut+Vn,Un=Ot[4]*Fe+Un,Vn=Ot[5]*ut+Vn,Sr(Qt,cn,Fn,dn,Un,Vn));return Ne&&co(),Lo(de),this},p.path=function(m){for(var P=0;P<m.length;P++){var G=m[P],te=G.c;switch(G.op){case"m":Bs(te[0],te[1]);break;case"l":ba(te[0],te[1]);break;case"c":Sr.apply(this,te);break;case"h":co()}}return this},p.__private__.rect=p.rect=function(m,P,G,te,de){if(isNaN(m)||isNaN(P)||isNaN(G)||isNaN(te)||!Kt(de))throw new Error("Invalid arguments passed to jsPDF.rect");return M===F&&(te=-te),W([E(x(m)),E(U(P)),E(x(G)),E(x(te)),"re"].join(" ")),Lo(de),this},p.__private__.triangle=p.triangle=function(m,P,G,te,de,Ne,Fe){if(isNaN(m)||isNaN(P)||isNaN(G)||isNaN(te)||isNaN(de)||isNaN(Ne)||!Kt(Fe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[G-m,te-P],[de-G,Ne-te],[m-de,P-Ne]],m,P,[1,1],Fe,!0),this},p.__private__.roundedRect=p.roundedRect=function(m,P,G,te,de,Ne,Fe){if(isNaN(m)||isNaN(P)||isNaN(G)||isNaN(te)||isNaN(de)||isNaN(Ne)||!Kt(Fe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ut=4/3*(Math.SQRT2-1);return de=Math.min(de,.5*G),Ne=Math.min(Ne,.5*te),this.lines([[G-2*de,0],[de*ut,0,de,Ne-Ne*ut,de,Ne],[0,te-2*Ne],[0,Ne*ut,-de*ut,Ne,-de,Ne],[2*de-G,0],[-de*ut,0,-de,-Ne*ut,-de,-Ne],[0,2*Ne-te],[0,-Ne*ut,de*ut,-Ne,de,-Ne]],m+de,P,[1,1],Fe,!0),this},p.__private__.ellipse=p.ellipse=function(m,P,G,te,de){if(isNaN(m)||isNaN(P)||isNaN(G)||isNaN(te)||!Kt(de))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ne=4/3*(Math.SQRT2-1)*G,Fe=4/3*(Math.SQRT2-1)*te;return Bs(m+G,P),Sr(m+G,P-Fe,m+Ne,P-te,m,P-te),Sr(m-Ne,P-te,m-G,P-Fe,m-G,P),Sr(m-G,P+Fe,m-Ne,P+te,m,P+te),Sr(m+Ne,P+te,m+G,P+Fe,m+G,P),Lo(de),this},p.__private__.circle=p.circle=function(m,P,G,te){if(isNaN(m)||isNaN(P)||isNaN(G)||!Kt(te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,P,G,G,te)},p.setFont=function(m,P,G){return G&&(P=V(P,G)),Je=Vs(m,P,{disableWarning:!1}),this};var Ni=p.__private__.getFont=p.getFont=function(){return Ze[Vs.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var m,P,G={};for(m in ot)if(ot.hasOwnProperty(m))for(P in G[m]=[],ot[m])ot[m].hasOwnProperty(P)&&G[m].push(P);return G},p.addFont=function(m,P,G,te,de){var Ne=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ne.indexOf(arguments[3])!==-1?de=arguments[3]:arguments[3]&&Ne.indexOf(arguments[3])==-1&&(G=V(G,te)),Ko.call(this,m,P,G,de=de||"Identity-H")};var ho,Jo=t.lineWidth||.200025,wa=p.__private__.getLineWidth=p.getLineWidth=function(){return Jo},Nt=p.__private__.setLineWidth=p.setLineWidth=function(m){return Jo=m,W(E(x(m))+" w"),this};p.__private__.setLineDash=St.API.setLineDash=St.API.setLineDashPattern=function(m,P){if(m=m||[],P=P||0,isNaN(P)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(G){return E(x(G))}).join(" "),P=E(x(P)),W("["+m+"] "+P+" d"),this};var dl=p.__private__.getLineHeight=p.getLineHeight=function(){return Oe*ho};p.__private__.getLineHeight=p.getLineHeight=function(){return Oe*ho};var pl=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(ho=m),this},ml=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return ho};pl(t.lineHeight);var yr=p.__private__.getHorizontalCoordinate=function(m){return x(m)},Hi=p.__private__.getVerticalCoordinate=function(m){return M===B?m:vt[H].mediaBox.topRightY-vt[H].mediaBox.bottomLeftY-x(m)},gl=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(m){return E(yr(m))},Zo=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(m){return E(Hi(m))},Wi=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return $t(Wi)},p.__private__.setStrokeColor=p.setDrawColor=function(m,P,G,te){return Wi=Qn({ch1:m,ch2:P,ch3:G,ch4:te,pdfColorType:"draw",precision:2}),W(Wi),this};var es=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return $t(es)},p.__private__.setFillColor=p.setFillColor=function(m,P,G,te){return es=Qn({ch1:m,ch2:P,ch3:G,ch4:te,pdfColorType:"fill",precision:2}),W(es),this};var di=t.textColor||"0 g",Po=p.__private__.getTextColor=p.getTextColor=function(){return $t(di)};p.__private__.setTextColor=p.setTextColor=function(m,P,G,te){return di=Qn({ch1:m,ch2:P,ch3:G,ch4:te,pdfColorType:"text",precision:3}),this};var Li=t.charSpace,qs=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Li||0)};p.__private__.setCharSpace=p.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Li=m,this};var vn=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(m){var P=p.CapJoinStyles[m];if(P===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vn=P,W(P+" J"),this};var zs=0;p.__private__.setLineJoin=p.setLineJoin=function(m){var P=p.CapJoinStyles[m];if(P===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return zs=P,W(P+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return W(E(x(m))+" M"),this},p.GState=gc,p.setGState=function(m){(m=typeof m=="string"?lt[Lt[m]]:Aa(null,m)).equals(Yt)||(W("/"+m.id+" gs"),Yt=m)};var Aa=function(m,P){if(!m||!Lt[m]){var G=!1;for(var te in lt)if(lt.hasOwnProperty(te)&&lt[te].equals(P)){G=!0;break}if(G)P=lt[te];else{var de="GS"+(Object.keys(lt).length+1).toString(10);lt[de]=P,P.id=de}return m&&(Lt[m]=P.id),jt.publish("addGState",P),P}};p.addGState=function(m,P){return Aa(m,P),this},p.saveGraphicsState=function(){return W("q"),Ut.push({key:Je,size:Oe,color:di}),this},p.restoreGraphicsState=function(){W("Q");var m=Ut.pop();return Je=m.key,Oe=m.size,di=m.color,Yt=null,this},p.setCurrentTransformationMatrix=function(m){return W(m.toString()+" cm"),this},p.comment=function(m){return W("#"+m),this};var Pi=function(m,P){var G=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return G},set:function(Ne){isNaN(Ne)||(G=parseFloat(Ne))}});var te=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return te},set:function(Ne){isNaN(Ne)||(te=parseFloat(Ne))}});var de="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return de},set:function(Ne){de=Ne.toString()}}),this},ts=function(m,P,G,te){Pi.call(this,m,P),this.type="rect";var de=G||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return de},set:function(Fe){isNaN(Fe)||(de=parseFloat(Fe))}});var Ne=te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ne},set:function(Fe){isNaN(Fe)||(Ne=parseFloat(Fe))}}),this},Ro=function(){this.page=Mt,this.currentPage=H,this.pages=Pe.slice(0),this.pagesContext=vt.slice(0),this.x=pe,this.y=Me,this.matrix=Ke,this.width=Kr(H),this.height=Sa(H),this.outputDestination=Xe,this.id="",this.objectNumber=-1};Ro.prototype.restore=function(){Mt=this.page,H=this.currentPage,vt=this.pagesContext,Pe=this.pages,pe=this.x,Me=this.y,Ke=this.matrix,Us(H,this.width),Qr(H,this.height),Xe=this.outputDestination};var fo=function(m,P,G,te,de){or.push(new Ro),Mt=H=0,Pe=[],pe=m,Me=P,Ke=de,fi([G,te])};for(var po in p.beginFormObject=function(m,P,G,te,de){return fo(m,P,G,te,de),this},p.endFormObject=function(m){return function(P){if(ti[P])or.pop().restore();else{var G=new Ro,te="Xo"+(Object.keys(Nn).length+1).toString(10);G.id=te,ti[P]=te,Nn[te]=G,jt.publish("addFormObject",G),or.pop().restore()}}(m),this},p.doFormObject=function(m,P){var G=Nn[ti[m]];return W("q"),W(P.toString()+" cm"),W("/"+G.id+" Do"),W("Q"),this},p.getFormObject=function(m){var P=Nn[ti[m]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},p.save=function(m,P){return m=m||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(Qs(Io(Ii()),m),typeof Qs.unload=="function"&&Dt.setTimeout&&setTimeout(Qs.unload,911),this):new Promise(function(G,te){try{var de=Qs(Io(Ii()),m);typeof Qs.unload=="function"&&Dt.setTimeout&&setTimeout(Qs.unload,911),G(de)}catch(Ne){te(Ne.message)}})},St.API)St.API.hasOwnProperty(po)&&(po==="events"&&St.API.events.length?function(m,P){var G,te,de;for(de=P.length-1;de!==-1;de--)G=P[de][0],te=P[de][1],m.subscribe.apply(m,[G].concat(typeof te=="function"?[te]:te))}(jt,St.API.events):p[po]=St.API[po]);function Kr(m){return vt[m].mediaBox.topRightX-vt[m].mediaBox.bottomLeftX}function Us(m,P){vt[m].mediaBox.topRightX=P+vt[m].mediaBox.bottomLeftX}function Sa(m){return vt[m].mediaBox.topRightY-vt[m].mediaBox.bottomLeftY}function Qr(m,P){vt[m].mediaBox.topRightY=P+vt[m].mediaBox.bottomLeftY}var Ri=p.getPageWidth=function(m){return Kr(m=m||H)/gt},ns=p.setPageWidth=function(m,P){Us(m,P*gt)},Di=p.getPageHeight=function(m){return Sa(m=m||H)/gt},$s=p.setPageHeight=function(m,P){Qr(m,P*gt)};return p.internal={pdfEscape:vr,getStyle:No,getFont:Ni,getFontSize:tt,getCharSpace:qs,getTextColor:Po,getLineHeight:dl,getLineHeightFactor:ml,getLineWidth:wa,write:Qe,getHorizontalCoordinate:yr,getVerticalCoordinate:Hi,getCoordinateString:gl,getVerticalCoordinateString:Zo,collections:{},newObject:xe,newAdditionalObject:Rt,newObjectDeferred:Ue,newObjectDeferredBegin:$e,getFilters:Dr,putStream:Xn,events:jt,scaleFactor:gt,pageSize:{getWidth:function(){return Ri(H)},setWidth:function(m){ns(H,m)},getHeight:function(){return Di(H)},setHeight:function(m){$s(H,m)}},encryptionOptions:d,encryption:_n,getEncryptor:function(m){return d!==null?_n.encryptor(m,0):function(P){return P}},output:js,getNumberOfPages:Fs,get pages(){return Pe},out:W,f2:_,f3:w,getPageInfo:ur,getPageInfoByObjId:Co,getCurrentPageInfo:Xo,getPDFVersion:R,Point:Pi,Rectangle:ts,Matrix:Et,hasHotfix:ii},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Ri(H)},set:function(m){ns(H,m)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Di(H)},set:function(m){$s(H,m)},enumerable:!0,configurable:!0}),(function(m){for(var P=0,G=bt.length;P<G;P++){var te=Ko.call(this,m[P][0],m[P][1],m[P][2],bt[P][3],!0);y===!1&&(S[te]=!0);var de=m[P][0].split("-");Ds({id:te,fontName:de[0],fontStyle:de[1]||""})}jt.publish("addFonts",{fonts:Ze,dictionary:ot})}).call(p,bt),Je="F1",Qo(i,n),jt.publish("initialized"),p}Ra.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Ra.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ra.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Ra.prototype.processOwnerPassword=function(t,e){return yf(vf(e).substr(0,5),t)},Ra.prototype.encryptor=function(t,e){var n=vf(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return yf(n,r)}},gc.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||gn(t)!==gn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},St.API={events:[]},St.version="3.0.4";var Gn=St.API,ed=1,da=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ia=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ft=function(t){return t.toFixed(2)},vs=function(t){return t.toFixed(5)};Gn.__acroform__={};var ci=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},w1=function(t){return t*ed},_o=function(t){var e=new s2,n=dt.internal.getHeight(t)||0,r=dt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ft(r)),Number(Ft(n))],e},P_=Gn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},R_=Gn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},D_=Gn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},nr=Gn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return D_(t,e-1)},rr=Gn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return P_(t,e-1)},ir=Gn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return R_(t,e-1)},M_=Gn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],o=t[1],s=t[2],a=t[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(o+a)||0,c.upperRight_X=n(i+s)||0,c.upperRight_Y=r(o)||0,[Number(Ft(c.lowerLeft_X)),Number(Ft(c.lowerLeft_Y)),Number(Ft(c.upperRight_X)),Number(Ft(c.upperRight_Y))]},O_=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=_f(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Ft(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=_o(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},_f=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(_){return _.split(`
`)}):i.map(function(_){return[_]});var o=n,s=dt.internal.getHeight(t)||0;s=s<0?-s:s;var a=dt.internal.getWidth(t)||0;a=a<0?-a:a;var c=function(_,w,x){if(_+1<i.length){var U=w+" "+i[_+1][0];return ju(U,t,x).width<=a-4}return!1};o++;e:for(;o>0;){e="",o--;var h,d,y=ju("3",t,o).height,S=t.multiline?s-o:(s-y)/2,p=S+=2,N=0,R=0,L=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+ju(e,t,o=12).width+", FieldWidth:"+a+`
`;break}for(var C="",F=0,B=0;B<i.length;B++)if(i.hasOwnProperty(B)){var M=!1;if(i[B].length!==1&&L!==i[B].length-1){if((y+2)*(F+2)+2>s)continue e;C+=i[B][L],M=!0,R=B,B--}else{C=(C+=i[B][L]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var Z=parseInt(B),ue=c(Z,C,o),V=B>=i.length-1;if(ue&&!V){C+=" ",L=0;continue}if(ue||V){if(V)R=Z;else if(t.multiline&&(y+2)*(F+2)+2>s)continue e}else{if(!t.multiline||(y+2)*(F+2)+2>s)continue e;R=Z}}for(var E="",b=N;b<=R;b++){var I=i[b];if(t.multiline){if(b===R){E+=I[L]+" ",L=(L+1)%I.length;continue}if(b===N){E+=I[I.length-1]+" ";continue}}E+=I[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,d=ju(E,t,o).width,t.textAlign){case"right":h=a-d-2;break;case"center":h=(a-d)/2;break;default:h=2}e+=Ft(h)+" "+Ft(p)+` Td
`,e+="("+da(E)+`) Tj
`,e+=-Ft(h)+` 0 Td
`,p=-(o+2),d=0,N=M?R:R+1,F++,C=""}break}return r.text=e,r.fontSize=o,r},ju=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},F_={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},V_=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},j_=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(io.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(F_)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ed=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new a2,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&V_(o,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],c=[],h=a.Rect;if(a.Rect&&(a.Rect=M_(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=dt.createDefaultAppearanceStream(a),gn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(c=a.getKeyValueListForStream()),a.Rect=h,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=O_(a);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var y="";for(var S in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(S)){var p=a.appearanceStreamContent[S];if(y+="/"+S+" ",y+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var N=p[s];typeof N=="function"&&(N=N.call(i,a)),y+="/"+s+" "+N+" ",i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N)}}else typeof(N=p)=="function"&&(N=N.call(i,a)),y+="/"+s+" "+N,i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N);y+=">>"}c.push({key:"AP",value:`<<
`+y+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:a.objId}),i.internal.out("endobj")}o&&function(R,L){for(var C in R)if(R.hasOwnProperty(C)){var F=C,B=R[C];L.internal.newObjectDeferredBegin(B.objId,!0),gn(B)==="object"&&typeof B.putStream=="function"&&B.putStream(),delete R[F]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},o2=Gn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),gn(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+da(r(t[o].toString()))+")"):i+=t[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Oh=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+da(r(t))+")"},Ao=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ao.prototype.toString=function(){return this.objId+" 0 R"},Ao.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ao.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:o2(i,this.objId,this.scope)}):i instanceof Ao?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var s2=function(){Ao.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};ci(s2,Ao);var a2=function(){Ao.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+da(n(t))+")"}},set:function(n){t=n}})};ci(a2,Ao);var io=function t(){Ao.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!nr(e,3)},set:function(C){C?this.F=rr(e,3):this.F=ir(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');n=C}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(C){r=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(C){r[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(C){r[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(C){r[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(C){r[3]=C}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof vc)return;o="FieldObject"+t.FieldNum++}var C=function(F){return F};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+da(C(o))+")"},set:function(C){o=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(C){o=C}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(C){s=C}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(C){a=C}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/ed:h},set:function(C){h=C}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(C){d=C}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof vc||this instanceof ta))return Oh(y,this.objId,this.scope)},set:function(C){C=C.toString(),y=C}});var S=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof br==0?Oh(S,this.objId,this.scope):S},set:function(C){C=C.toString(),S=this instanceof br==0?C.substr(0,1)==="("?Ia(C.substr(1,C.length-2)):Ia(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof br==1?Ia(S.substr(1,S.length-1)):S},set:function(C){C=C.toString(),S=this instanceof br==1?"/"+C:C}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof br==0?Oh(p,this.objId,this.scope):p},set:function(C){C=C.toString(),p=this instanceof br==0?C.substr(0,1)==="("?Ia(C.substr(1,C.length-2)):Ia(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof br==1?Ia(p.substr(1,p.length-1)):p},set:function(C){C=C.toString(),p=this instanceof br==1?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,R=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return R},set:function(C){C=!!C,R=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(C){N=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,1)},set:function(C){C?this.Ff=rr(this.Ff,1):this.Ff=ir(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,2)},set:function(C){C?this.Ff=rr(this.Ff,2):this.Ff=ir(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,3)},set:function(C){C?this.Ff=rr(this.Ff,3):this.Ff=ir(this.Ff,3)}});var L=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(L!==null)return L},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');L=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(L){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:L=2;break;case"center":case 1:L=1;break;default:L=0}}})};ci(io,Ao);var za=function(){io.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return o2(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(o,s,a){a||(a=1);for(var c,h=[];c=s.exec(o);)h.push(c[a]);return h}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,18)},set:function(n){n?this.Ff=rr(this.Ff,18):this.Ff=ir(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=rr(this.Ff,19):this.Ff=ir(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,20)},set:function(n){n?(this.Ff=rr(this.Ff,20),e.sort()):this.Ff=ir(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,22)},set:function(n){n?this.Ff=rr(this.Ff,22):this.Ff=ir(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,23)},set:function(n){n?this.Ff=rr(this.Ff,23):this.Ff=ir(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,27)},set:function(n){n?this.Ff=rr(this.Ff,27):this.Ff=ir(this.Ff,27)}}),this.hasAppearanceStream=!1};ci(za,io);var Ua=function(){za.call(this),this.fontName="helvetica",this.combo=!1};ci(Ua,za);var $a=function(){Ua.call(this),this.combo=!0};ci($a,Ua);var Zu=function(){$a.call(this),this.edit=!0};ci(Zu,$a);var br=function(){io.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,15)},set:function(n){n?this.Ff=rr(this.Ff,15):this.Ff=ir(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,16)},set:function(n){n?this.Ff=rr(this.Ff,16):this.Ff=ir(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,17)},set:function(n){n?this.Ff=rr(this.Ff,17):this.Ff=ir(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,26)},set:function(n){n?this.Ff=rr(this.Ff,26):this.Ff=ir(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+da(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){gn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};ci(br,io);var ec=function(){br.call(this),this.pushButton=!0};ci(ec,br);var Ha=function(){br.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ci(Ha,br);var vc=function(){var t,e;io.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+da(i(r[o]))+")");return s.push(">>"),s.join(`
`)},set:function(i){gn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ci(vc,io),Ha.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Ha.prototype.createOption=function(t){var e=new vc;return e.Parent=this,e.optionName=t,this.Kids.push(e),B_.call(this.scope,e),e};var tc=function(){br.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=dt.CheckBox.createAppearanceStream()};ci(tc,br);var ta=function(){io.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,13)},set:function(e){e?this.Ff=rr(this.Ff,13):this.Ff=ir(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,21)},set:function(e){e?this.Ff=rr(this.Ff,21):this.Ff=ir(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,23)},set:function(e){e?this.Ff=rr(this.Ff,23):this.Ff=ir(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,24)},set:function(e){e?this.Ff=rr(this.Ff,24):this.Ff=ir(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,25)},set:function(e){e?this.Ff=rr(this.Ff,25):this.Ff=ir(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,26)},set:function(e){e?this.Ff=rr(this.Ff,26):this.Ff=ir(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ci(ta,io);var nc=function(){ta.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,14)},set:function(t){t?this.Ff=rr(this.Ff,14):this.Ff=ir(this.Ff,14)}}),this.password=!0};ci(nc,ta);var dt={CheckBox:{createAppearanceStream:function(){return{N:{On:dt.CheckBox.YesNormal},D:{On:dt.CheckBox.YesPushDown,Off:dt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=_o(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=_f(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Ft(dt.internal.getWidth(t))+" "+Ft(dt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Ft(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=_o(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],o=dt.internal.getHeight(t),s=dt.internal.getWidth(t),a=_f(t,t.caption);return i.push("1 g"),i.push("0 0 "+Ft(s)+" "+Ft(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ft(s-1)+" "+Ft(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Ft(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=_o(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ft(dt.internal.getWidth(t))+" "+Ft(dt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:dt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=dt.RadioButton.Circle.YesNormal,e.D[t]=dt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=_o(t);e.scope=t.scope;var n=[],r=dt.internal.getWidth(t)<=dt.internal.getHeight(t)?dt.internal.getWidth(t)/4:dt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=dt.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+vs(dt.internal.getWidth(t)/2)+" "+vs(dt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=_o(t);e.scope=t.scope;var n=[],r=dt.internal.getWidth(t)<=dt.internal.getHeight(t)?dt.internal.getWidth(t)/4:dt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*dt.internal.Bezier_C).toFixed(5)),s=Number((r*dt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+vs(dt.internal.getWidth(t)/2)+" "+vs(dt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+vs(dt.internal.getWidth(t)/2)+" "+vs(dt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=_o(t);e.scope=t.scope;var n=[],r=dt.internal.getWidth(t)<=dt.internal.getHeight(t)?dt.internal.getWidth(t)/4:dt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*dt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+vs(dt.internal.getWidth(t)/2)+" "+vs(dt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:dt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=dt.RadioButton.Cross.YesNormal,e.D[t]=dt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=_o(t);e.scope=t.scope;var n=[],r=dt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Ft(dt.internal.getWidth(t)-2)+" "+Ft(dt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ft(r.x1.x)+" "+Ft(r.x1.y)+" m"),n.push(Ft(r.x2.x)+" "+Ft(r.x2.y)+" l"),n.push(Ft(r.x4.x)+" "+Ft(r.x4.y)+" m"),n.push(Ft(r.x3.x)+" "+Ft(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=_o(t);e.scope=t.scope;var n=dt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Ft(dt.internal.getWidth(t))+" "+Ft(dt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Ft(dt.internal.getWidth(t)-2)+" "+Ft(dt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Ft(n.x1.x)+" "+Ft(n.x1.y)+" m"),r.push(Ft(n.x2.x)+" "+Ft(n.x2.y)+" l"),r.push(Ft(n.x4.x)+" "+Ft(n.x4.y)+" m"),r.push(Ft(n.x3.x)+" "+Ft(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=_o(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ft(dt.internal.getWidth(t))+" "+Ft(dt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};dt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=dt.internal.getWidth(t),n=dt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},dt.internal.getWidth=function(t){var e=0;return gn(t)==="object"&&(e=w1(t.Rect[2])),e},dt.internal.getHeight=function(t){var e=0;return gn(t)==="object"&&(e=w1(t.Rect[3])),e};var B_=Gn.addField=function(t){if(j_(this,t),!(t instanceof io))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Gn.AcroFormChoiceField=za,Gn.AcroFormListBox=Ua,Gn.AcroFormComboBox=$a,Gn.AcroFormEditBox=Zu,Gn.AcroFormButton=br,Gn.AcroFormPushButton=ec,Gn.AcroFormRadioButton=Ha,Gn.AcroFormCheckBox=tc,Gn.AcroFormTextField=ta,Gn.AcroFormPasswordField=nc,Gn.AcroFormAppearance=dt,Gn.AcroForm={ChoiceField:za,ListBox:Ua,ComboBox:$a,EditBox:Zu,Button:br,PushButton:ec,RadioButton:Ha,CheckBox:tc,TextField:ta,PasswordField:nc,Appearance:dt},St.AcroForm={ChoiceField:za,ListBox:Ua,ComboBox:$a,EditBox:Zu,Button:br,PushButton:ec,RadioButton:Ha,CheckBox:tc,TextField:ta,PasswordField:nc,Appearance:dt};St.AcroForm;function l2(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(_,w){var x,U,re,le,ae,J=n;if((w=w||n)==="RGBA"||_.data!==void 0&&_.data instanceof Uint8ClampedArray&&"height"in _&&"width"in _)return"RGBA";if(ue(_))for(ae in r)for(re=r[ae],x=0;x<re.length;x+=1){for(le=!0,U=0;U<re[x].length;U+=1)if(re[x][U]!==void 0&&re[x][U]!==_[U]){le=!1;break}if(le===!0){J=ae;break}}else for(ae in r)for(re=r[ae],x=0;x<re.length;x+=1){for(le=!0,U=0;U<re[x].length;U+=1)if(re[x][U]!==void 0&&re[x][U]!==_.charCodeAt(U)){le=!1;break}if(le===!0){J=ae;break}}return J===n&&w!==n&&(J=w),J},o=function _(w){for(var x=this.internal.write,U=this.internal.putStream,re=(0,this.internal.getFilters)();re.indexOf("FlateEncode")!==-1;)re.splice(re.indexOf("FlateEncode"),1);w.objectId=this.internal.newObject();var le=[];if(le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Image"}),le.push({key:"Width",value:w.width}),le.push({key:"Height",value:w.height}),w.colorSpace===C.INDEXED?le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(w.palette.length/3-1)+" "+("sMask"in w&&w.sMask!==void 0?w.objectId+2:w.objectId+1)+" 0 R]"}):(le.push({key:"ColorSpace",value:"/"+w.colorSpace}),w.colorSpace===C.DEVICE_CMYK&&le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),le.push({key:"BitsPerComponent",value:w.bitsPerComponent}),"decodeParameters"in w&&w.decodeParameters!==void 0&&le.push({key:"DecodeParms",value:"<<"+w.decodeParameters+">>"}),"transparency"in w&&Array.isArray(w.transparency)&&w.transparency.length>0){for(var ae="",J=0,fe=w.transparency.length;J<fe;J++)ae+=w.transparency[J]+" "+w.transparency[J]+" ";le.push({key:"Mask",value:"["+ae+"]"})}w.sMask!==void 0&&le.push({key:"SMask",value:w.objectId+1+" 0 R"});var be=w.filter!==void 0?["/"+w.filter]:void 0;if(U({data:w.data,additionalKeyValues:le,alreadyAppliedFilters:be,objectId:w.objectId}),x("endobj"),"sMask"in w&&w.sMask!==void 0){var ge,T=(ge=w.sMaskBitsPerComponent)!==null&&ge!==void 0?ge:w.bitsPerComponent,H={width:w.width,height:w.height,colorSpace:"DeviceGray",bitsPerComponent:T,data:w.sMask};"filter"in w&&(H.decodeParameters="/Predictor ".concat(w.predictor," /Colors 1 /BitsPerComponent ").concat(T," /Columns ").concat(w.width),H.filter=w.filter),_.call(this,H)}if(w.colorSpace===C.INDEXED){var X=this.internal.newObject();U({data:E(new Uint8Array(w.palette)),objectId:X}),x("endobj")}},s=function(){var _=this.internal.collections[e+"images"];for(var w in _)o.call(this,_[w])},a=function(){var _,w=this.internal.collections[e+"images"],x=this.internal.write;for(var U in w)x("/I"+(_=w[U]).index,_.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},h=function(){var _=this.internal.collections[e+"images"];return c.call(this),_},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},y=function(_){return typeof t["process"+_.toUpperCase()]=="function"},S=function(_){return gn(_)==="object"&&_.nodeType===1},p=function(_,w){if(_.nodeName==="IMG"&&_.hasAttribute("src")){var x=""+_.getAttribute("src");if(x.indexOf("data:image/")===0)return Ju(unescape(x).split("base64,").pop());var U=t.loadFile(x,!0);if(U!==void 0)return U}if(_.nodeName==="CANVAS"){if(_.width===0||_.height===0)throw new Error("Given canvas must have data. Canvas width: "+_.width+", height: "+_.height);var re;switch(w){case"PNG":re="image/png";break;case"WEBP":re="image/webp";break;default:re="image/jpeg"}return Ju(_.toDataURL(re,1).split("base64,").pop())}},N=function(_){var w=this.internal.collections[e+"images"];if(w){for(var x in w)if(_===w[x].alias)return w[x]}},R=function(_,w,x){return _||w||(_=-96,w=-96),_<0&&(_=-1*x.width*72/_/this.internal.scaleFactor),w<0&&(w=-1*x.height*72/w/this.internal.scaleFactor),_===0&&(_=w*x.width/x.height),w===0&&(w=_*x.height/x.width),[_,w]},L=function(_,w,x,U,re,le){var ae=R.call(this,x,U,re),J=this.internal.getCoordinateString,fe=this.internal.getVerticalCoordinateString,be=h.call(this);if(x=ae[0],U=ae[1],be[re.index]=re,le){le*=Math.PI/180;var ge=Math.cos(le),T=Math.sin(le),H=function(ee){return ee.toFixed(4)},X=[H(ge),H(T),H(-1*T),H(ge),0,0,"cm"]}this.internal.write("q"),le?(this.internal.write([1,"0","0",1,J(_),fe(w+U),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([J(x),"0","0",J(U),"0","0","cm"].join(" "))):this.internal.write([J(x),"0","0",J(U),J(_),fe(w+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+re.index+" Do"),this.internal.write("Q")},C=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var F=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},B=t.__addimage__.sHashCode=function(_){var w,x,U=0;if(typeof _=="string")for(x=_.length,w=0;w<x;w++)U=(U<<5)-U+_.charCodeAt(w),U|=0;else if(ue(_))for(x=_.byteLength/2,w=0;w<x;w++)U=(U<<5)-U+_[w],U|=0;return U},M=t.__addimage__.validateStringAsBase64=function(_){(_=_||"").toString().trim();var w=!0;return _.length===0&&(w=!1),_.length%4!=0&&(w=!1),/^[A-Za-z0-9+/]+$/.test(_.substr(0,_.length-2))===!1&&(w=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(_.substr(-2))===!1&&(w=!1),w},Z=t.__addimage__.extractImageFromDataUrl=function(_){if(_==null||!(_=_.trim()).startsWith("data:"))return null;var w=_.indexOf(",");return w<0?null:_.substring(0,w).trim().endsWith("base64")?_.substring(w+1):null};t.__addimage__.isArrayBuffer=function(_){return _ instanceof ArrayBuffer};var ue=t.__addimage__.isArrayBufferView=function(_){return _ instanceof Int8Array||_ instanceof Uint8Array||_ instanceof Uint8ClampedArray||_ instanceof Int16Array||_ instanceof Uint16Array||_ instanceof Int32Array||_ instanceof Uint32Array||_ instanceof Float32Array||_ instanceof Float64Array},V=t.__addimage__.binaryStringToUint8Array=function(_){for(var w=_.length,x=new Uint8Array(w),U=0;U<w;U++)x[U]=_.charCodeAt(U);return x},E=t.__addimage__.arrayBufferToBinaryString=function(_){for(var w="",x=ue(_)?_:new Uint8Array(_),U=0;U<x.length;U+=8192)w+=String.fromCharCode.apply(null,x.subarray(U,U+8192));return w};t.addImage=function(){var _,w,x,U,re,le,ae,J,fe;if(typeof arguments[1]=="number"?(w=n,x=arguments[1],U=arguments[2],re=arguments[3],le=arguments[4],ae=arguments[5],J=arguments[6],fe=arguments[7]):(w=arguments[1],x=arguments[2],U=arguments[3],re=arguments[4],le=arguments[5],ae=arguments[6],J=arguments[7],fe=arguments[8]),gn(_=arguments[0])==="object"&&!S(_)&&"imageData"in _){var be=_;_=be.imageData,w=be.format||w||n,x=be.x||x||0,U=be.y||U||0,re=be.w||be.width||re,le=be.h||be.height||le,ae=be.alias||ae,J=be.compression||J,fe=be.rotation||be.angle||fe}var ge=this.internal.getFilters();if(J===void 0&&ge.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(x)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var T=b.call(this,_,w,ae,J);return L.call(this,x,U,re,le,T,fe),this};var b=function(_,w,x,U){var re,le,ae;if(typeof _=="string"&&i(_)===n){_=unescape(_);var J=I(_,!1);(J!==""||(J=t.loadFile(_,!0))!==void 0)&&(_=J)}if(S(_)&&(_=p(_,w)),w=i(_,w),!y(w))throw new Error("addImage does not support files of type '"+w+"', please ensure that a plugin for '"+w+"' support is added.");if(((ae=x)==null||ae.length===0)&&(x=function(fe){return typeof fe=="string"||ue(fe)?B(fe):ue(fe.data)?B(fe.data):null}(_)),(re=N.call(this,x))||(_ instanceof Uint8Array||w==="RGBA"||(le=_,_=V(_)),re=this["process"+w.toUpperCase()](_,d.call(this),x,function(fe){return fe&&typeof fe=="string"&&(fe=fe.toUpperCase()),fe in t.image_compression?fe:F.NONE}(U),le)),!re)throw new Error("An unknown error occurred whilst processing the image.");return re},I=t.__addimage__.convertBase64ToBinaryString=function(_,w){w=typeof w!="boolean"||w;var x,U="";if(typeof _=="string"){var re;x=(re=Z(_))!==null&&re!==void 0?re:_;try{U=Ju(x)}catch(le){if(w)throw M(x)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};t.getImageProperties=function(_){var w,x,U="";if(S(_)&&(_=p(_)),typeof _=="string"&&i(_)===n&&((U=I(_,!1))===""&&(U=t.loadFile(_)||""),_=U),x=i(_),!y(x))throw new Error("addImage does not support files of type '"+x+"', please ensure that a plugin for '"+x+"' support is added.");if(_ instanceof Uint8Array||(_=V(_)),!(w=this["process"+x.toUpperCase()](_)))throw new Error("An unknown error occurred whilst processing the image");return w.fileType=x,w}})(St.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};St.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,d=!1,y=0;y<h.length&&!d;y++)switch((r=h[y]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var S=0;S<h.length;S++){r=h[S];var p=this.internal.pdfEscape,N=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var R=this.internal.newAdditionalObject(),L=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(R.objId),F=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(C(r.contents))+")",o+=" /Popup "+L.objId+" 0 R",o+=" /P "+c.objId+" 0 R",o+=" /T ("+p(C(F))+") >>",R.content=o;var B=R.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+B,r.open&&(o+=" /Open true"),o+=" >>",L.content=o,this.internal.write(R.objId,"0 R",L.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var M=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(N(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+M+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var Z=this.annotations._nameMap[r.options.name];r.options.pageNumber=Z.page,r.options.top=Z.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var ue=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+ue+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,o,s){var a=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:c(n),y:h(r),w:c(n+i),h:h(r+o)},options:s,type:"link"})},t.textWithLink=function(n,r,i,o){var s,a,c=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var d=this.splitTextToSize(n,a).length;s=Math.ceil(h*d)}else a=c,s=h;return this.text(n,r,i,o),i+=.2*h,o.align==="center"&&(r-=c/2),o.align==="right"&&(r-=c),this.link(r,i-h,a,s,o),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(St.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(R){return e[R.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(R){return typeof R=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(R)},a=t.__arabicParser__.isArabicEndLetter=function(R){return s(R)&&o(R)&&e[R.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(R){return s(R)&&i.indexOf(R.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(R){return s(R)&&o(R)&&e[R.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(R){return s(R)&&o(R)&&e[R.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(R){return s(R)&&o(R)&&e[R.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(R){return s(R)&&o(R)&&e[R.charCodeAt(0)].length==4},y=t.__arabicParser__.resolveLigatures=function(R){var L=0,C=n,F="",B=0;for(L=0;L<R.length;L+=1)C[R.charCodeAt(L)]!==void 0?(B++,typeof(C=C[R.charCodeAt(L)])=="number"&&(F+=String.fromCharCode(C),C=n,B=0),L===R.length-1&&(C=n,F+=R.charAt(L-(B-1)),L-=B-1,B=0)):(C=n,F+=R.charAt(L-B),L-=B,B=0);return F};t.__arabicParser__.isArabicDiacritic=function(R){return R!==void 0&&r[R.charCodeAt(0)]!==void 0};var S=t.__arabicParser__.getCorrectForm=function(R,L,C){return s(R)?o(R)===!1?-1:!h(R)||!s(L)&&!s(C)||!s(C)&&a(L)||a(R)&&!s(L)||a(R)&&c(L)||a(R)&&a(L)?0:d(R)&&s(L)&&!a(L)&&s(C)&&h(C)?3:a(R)||!s(C)?1:2:-1},p=function(R){var L=0,C=0,F=0,B="",M="",Z="",ue=(R=R||"").split("\\s+"),V=[];for(L=0;L<ue.length;L+=1){for(V.push(""),C=0;C<ue[L].length;C+=1)B=ue[L][C],M=ue[L][C-1],Z=ue[L][C+1],s(B)?(F=S(B,M,Z),V[L]+=F!==-1?String.fromCharCode(e[B.charCodeAt(0)][F]):B):V[L]+=B;V[L]=y(V[L])}return V.join(" ")},N=t.__arabicParser__.processArabic=t.processArabic=function(){var R,L=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(L)){var F=0;for(C=[],F=0;F<L.length;F+=1)Array.isArray(L[F])?C.push([p(L[F][0]),L[F][1],L[F][2]]):C.push([p(L[F])]);R=C}else R=p(L);return typeof arguments[0]=="string"?R:(arguments[0].text=R,arguments[0])};t.events.push(["preProcessText",N])}(St.API),St.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(St.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(R){c=R}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(R){h=R}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(R){d=R}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(R){y=R}});var S=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return S},set:function(R){S=R}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(R){p=R}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(R){N=R}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,h){r.call(this);var d=(h=h||{}).fontSize||this.getFontSize(),y=h.font||this.getFont(),S=h.scaleFactor||this.internal.scaleFactor,p=0,N=0,R=0,L=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var C=h.maxWidth;C>0?typeof c=="string"?c=this.splitTextToSize(c,C):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(B,M){return B.concat(L.splitTextToSize(M,C))},[])):c=Array.isArray(c)?c:[c];for(var F=0;F<c.length;F++)p<(R=this.getStringUnitWidth(c[F],{font:y})*d)&&(p=R);return p!==0&&(N=c.length),{w:p/=S,h:Math.max((N*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/S,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var c;c=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var h=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,S=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=y.top,p&&S&&(this.printHeaderRow(c.lineNumber,!0),c.y+=S[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,h,d,y,S){if(r.call(this),!d)throw new Error("No data for PDF table.");var p,N,R,L,C=[],F=[],B=[],M={},Z={},ue=[],V=[],E=(S=S||{}).autoSize||!1,b=S.printHeaders!==!1,I=S.css&&S.css["font-size"]!==void 0?16*S.css["font-size"]:S.fontSize||12,_=S.margins||Object.assign({width:this.getPageWidth()},e),w=typeof S.padding=="number"?S.padding:3,x=S.headerBackgroundColor||"#c8c8c8",U=S.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=b,this.internal.__cell__.margins=_,this.internal.__cell__.table_font_size=I,this.internal.__cell__.padding=w,this.internal.__cell__.headerBackgroundColor=x,this.internal.__cell__.headerTextColor=U,this.setFontSize(I),y==null)F=C=Object.keys(d[0]),B=C.map(function(){return"left"});else if(Array.isArray(y)&&gn(y[0])==="object")for(C=y.map(function(be){return be.name}),F=y.map(function(be){return be.prompt||be.name||""}),B=y.map(function(be){return be.align||"left"}),p=0;p<y.length;p+=1)Z[y[p].name]=.7499990551181103*y[p].width;else Array.isArray(y)&&typeof y[0]=="string"&&(F=C=y,B=C.map(function(){return"left"}));if(E||Array.isArray(y)&&typeof y[0]=="string")for(p=0;p<C.length;p+=1){for(M[L=C[p]]=d.map(function(be){return be[L]}),this.setFont(void 0,"bold"),ue.push(this.getTextDimensions(F[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=M[L],this.setFont(void 0,"normal"),R=0;R<N.length;R+=1)ue.push(this.getTextDimensions(N[R],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Z[L]=Math.max.apply(null,ue)+w+w,ue=[]}if(b){var re={};for(p=0;p<C.length;p+=1)re[C[p]]={},re[C[p]].text=F[p],re[C[p]].align=B[p];var le=a.call(this,re,Z);V=C.map(function(be){return new o(c,h,Z[be],le,re[be].text,void 0,re[be].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var ae=y.reduce(function(be,ge){return be[ge.name]=ge.align,be},{});for(p=0;p<d.length;p+=1){"rowStart"in S&&S.rowStart instanceof Function&&S.rowStart({row:p,data:d[p]},this);var J=a.call(this,d[p],Z);for(R=0;R<C.length;R+=1){var fe=d[p][C[R]];"cellStart"in S&&S.cellStart instanceof Function&&S.cellStart({row:p,col:R,data:fe},this),s.call(this,new o(c,h,Z[C[R]],J,fe,p+2,ae[C[R]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var a=function(c,h){var d=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,S=this.internal.scaleFactor;return Object.keys(c).map(function(p){var N=c[p];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,h[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*y/S+d+d},this).reduce(function(p,N){return Math.max(p,N)},0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var S=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),h&&(d.y=this.internal.__cell__.margins.top||0,S.push(d)),d.lineNumber=c;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(N)}S.length>0&&this.setTableHeaderRow(S),this.setFont(void 0,"normal"),n=!1}}(St.API);var u2={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},c2=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],bf=l2(c2),h2=[100,200,300,400,500,600,700,800,900],q_=l2(h2);function Fh(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(o){return u2[o=o||"normal"]?o:"normal"}(t.style),r=function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400}(t.weight),i=function(o){return typeof bf[o=o||"normal"]=="number"?o:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function A1(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var z_={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},S1={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function x1(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function T1(t){return t.trimLeft()}function U_(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function $_(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Bu,k1,E1,Ca,qu,I1,C1,N1,Vh=["times"];function L1(t,e,n,r,i){var o=4,s=R1;switch(i){case St.API.image_compression.FAST:o=1,s=P1;break;case St.API.image_compression.MEDIUM:o=6,s=D1;break;case St.API.image_compression.SLOW:o=9,s=M1}t=function(c,h,d,y){for(var S,p=c.length/h,N=new Uint8Array(c.length+p),R=[H_,P1,R1,D1,M1],L=0;L<p;L+=1){var C=L*h,F=c.subarray(C,C+h);if(y)N.set(y(F,d,S),C+L);else{for(var B=R.length,M=[],Z=0;Z<B;Z+=1)M[Z]=R[Z](F,d,S);var ue=G_(M.concat());N.set(M[ue],C+L)}S=F}return N}(t,e,Math.ceil(n*r/8),s);var a=df(t,{level:o});return St.API.__addimage__.arrayBufferToBinaryString(a)}function H_(t){var e=Array.apply([],t);return e.unshift(0),e}function P1(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var o=t[i-e]||0;r[i+1]=t[i]-o+256&255}return r}function R1(t,e,n){var r=t.length,i=[];i[0]=2;for(var o=0;o<r;o+=1){var s=n&&n[o]||0;i[o+1]=t[o]-s+256&255}return i}function D1(t,e,n){var r=t.length,i=[];i[0]=3;for(var o=0;o<r;o+=1){var s=t[o-e]||0,a=n&&n[o]||0;i[o+1]=t[o]+256-(s+a>>>1)&255}return i}function M1(t,e,n){var r=t.length,i=[];i[0]=4;for(var o=0;o<r;o+=1){var s=W_(t[o-e]||0,n&&n[o]||0,n&&n[o-e]||0);i[o+1]=t[o]-s+256&255}return i}function W_(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),o=Math.abs(t+e-n-n);return r<=i&&r<=o?t:i<=o?e:n}function G_(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function jh(t,e,n){var r=e*n,i=Math.floor(r/8),o=16-(r-8*i+n),s=(1<<n)-1;return f2(t,i)>>o&s}function O1(t,e,n,r){var i=n*r,o=Math.floor(i/8),s=16-(i-8*o+r),a=(1<<r)-1,c=(e&a)<<s;(function(h,d,y){if(d+1<h.byteLength)h.setUint16(d,y,!1);else{var S=y>>8&255;h.setUint8(d,S)}})(t,o,f2(t,o)&~(a<<s)&65535|c)}function f2(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Y_(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],o=i>>7,s=1<<1+(7&i);t[e++],t[e++];var a=null,c=null;o&&(a=e,c=s,e+=3*s);var h=!0,d=[],y=0,S=null,p=0,N=null;for(this.width=n,this.height=r;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,N=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((_=t[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var R=t[e++];y=t[e++]|t[e++]<<8,S=t[e++],1&R||(S=null),p=R>>2&7,e++;break;case 254:for(;;){if(!((_=t[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var L=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,F=t[e++]|t[e++]<<8,B=t[e++]|t[e++]<<8,M=t[e++],Z=M>>6&1,ue=1<<1+(7&M),V=a,E=c,b=!1;M>>7&&(b=!0,V=e,E=ue,e+=3*ue);var I=e;for(e++;;){var _;if(!((_=t[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}d.push({x:L,y:C,width:F,height:B,has_local_palette:b,palette_offset:V,palette_size:E,data_offset:I,data_length:e-I,transparent_index:S,interlaced:!!Z,delay:y,disposal:p});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return N},this.frameInfo=function(w){if(w<0||w>=d.length)throw new Error("Frame index out of range.");return d[w]},this.decodeAndBlitFrameBGRA=function(w,x){var U=this.frameInfo(w),re=U.width*U.height,le=new Uint8Array(re);F1(t,U.data_offset,le,re);var ae=U.palette_offset,J=U.transparent_index;J===null&&(J=256);var fe=U.width,be=n-fe,ge=fe,T=4*(U.y*n+U.x),H=4*((U.y+U.height)*n+U.x),X=T,ee=4*be;U.interlaced===!0&&(ee+=4*n*7);for(var ne=8,he=0,ke=le.length;he<ke;++he){var Te=le[he];if(ge===0&&(ge=fe,(X+=ee)>=H&&(ee=4*be+4*n*(ne-1),X=T+(fe+be)*(ne<<1),ne>>=1)),Te===J)X+=4;else{var Ie=t[ae+3*Te],Pe=t[ae+3*Te+1],qe=t[ae+3*Te+2];x[X++]=qe,x[X++]=Pe,x[X++]=Ie,x[X++]=255}--ge}},this.decodeAndBlitFrameRGBA=function(w,x){var U=this.frameInfo(w),re=U.width*U.height,le=new Uint8Array(re);F1(t,U.data_offset,le,re);var ae=U.palette_offset,J=U.transparent_index;J===null&&(J=256);var fe=U.width,be=n-fe,ge=fe,T=4*(U.y*n+U.x),H=4*((U.y+U.height)*n+U.x),X=T,ee=4*be;U.interlaced===!0&&(ee+=4*n*7);for(var ne=8,he=0,ke=le.length;he<ke;++he){var Te=le[he];if(ge===0&&(ge=fe,(X+=ee)>=H&&(ee=4*be+4*n*(ne-1),X=T+(fe+be)*(ne<<1),ne>>=1)),Te===J)X+=4;else{var Ie=t[ae+3*Te],Pe=t[ae+3*Te+1],qe=t[ae+3*Te+2];x[X++]=Ie,x[X++]=Pe,x[X++]=qe,x[X++]=255}--ge}}}function F1(t,e,n,r){for(var i=t[e++],o=1<<i,s=o+1,a=s+1,c=i+1,h=(1<<c)-1,d=0,y=0,S=0,p=t[e++],N=new Int32Array(4096),R=null;;){for(;d<16&&p!==0;)y|=t[e++]<<d,d+=8,p===1?p=t[e++]:--p;if(d<c)break;var L=y&h;if(y>>=c,d-=c,L!==o){if(L===s)break;for(var C=L<a?L:R,F=0,B=C;B>o;)B=N[B]>>8,++F;var M=B;if(S+F+(C!==L?1:0)>r)return void An.log("Warning, gif stream longer than expected.");n[S++]=M;var Z=S+=F;for(C!==L&&(n[S++]=M),B=C;F--;)B=N[B],n[--Z]=255&B,B>>=8;R!==null&&a<4096&&(N[a++]=R<<8|M,a>=h+1&&c<12&&(++c,h=h<<1|1)),R=L}else a=s+1,h=(1<<(c=i+1))-1,R=null}return S!==r&&An.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Bh(t){var e,n,r,i,o,s=Math.floor,a=new Array(64),c=new Array(64),h=new Array(64),d=new Array(64),y=new Array(65535),S=new Array(65535),p=new Array(64),N=new Array(64),R=[],L=0,C=7,F=new Array(64),B=new Array(64),M=new Array(64),Z=new Array(256),ue=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],b=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],_=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],w=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],x=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(T,H){for(var X=0,ee=0,ne=new Array,he=1;he<=16;he++){for(var ke=1;ke<=T[he];ke++)ne[H[ee]]=[],ne[H[ee]][0]=X,ne[H[ee]][1]=he,ee++,X++;X*=2}return ne}function ae(T){for(var H=T[0],X=T[1]-1;X>=0;)H&1<<X&&(L|=1<<C),X--,--C<0&&(L==255?(J(255),J(0)):J(L),C=7,L=0)}function J(T){R.push(T)}function fe(T){J(T>>8&255),J(255&T)}function be(T,H,X,ee,ne){for(var he,ke=ne[0],Te=ne[240],Ie=function(Oe,ht){var tt,Ee,De,rt,ct,Ye,We,it,Je,gt,pe=0;for(Je=0;Je<8;++Je){tt=Oe[pe],Ee=Oe[pe+1],De=Oe[pe+2],rt=Oe[pe+3],ct=Oe[pe+4],Ye=Oe[pe+5],We=Oe[pe+6];var Me=tt+(it=Oe[pe+7]),Ke=tt-it,Ze=Ee+We,ot=Ee-We,Ut=De+Ye,He=De-Ye,Ct=rt+ct,lt=rt-ct,Lt=Me+Ct,Yt=Me-Ct,Mt=Ze+Ut,vt=Ze-Ut;Oe[pe]=Lt+Mt,Oe[pe+4]=Lt-Mt;var jt=.707106781*(vt+Yt);Oe[pe+2]=Yt+jt,Oe[pe+6]=Yt-jt;var ei=.382683433*((Lt=lt+He)-(vt=ot+Ke)),Nn=.5411961*Lt+ei,ti=1.306562965*vt+ei,or=.707106781*(Mt=He+ot),Et=Ke+or,yn=Ke-or;Oe[pe+5]=yn+Nn,Oe[pe+3]=yn-Nn,Oe[pe+1]=Et+ti,Oe[pe+7]=Et-ti,pe+=8}for(pe=0,Je=0;Je<8;++Je){tt=Oe[pe],Ee=Oe[pe+8],De=Oe[pe+16],rt=Oe[pe+24],ct=Oe[pe+32],Ye=Oe[pe+40],We=Oe[pe+48];var ni=tt+(it=Oe[pe+56]),Q=tt-it,oe=Ee+We,xe=Ee-We,Ue=De+Ye,$e=De-Ye,Rt=rt+ct,at=rt-ct,kt=ni+Rt,$t=ni-Rt,Qn=oe+Ue,Dr=oe-Ue;Oe[pe]=kt+Qn,Oe[pe+32]=kt-Qn;var Xn=.707106781*(Dr+$t);Oe[pe+16]=$t+Xn,Oe[pe+48]=$t-Xn;var so=.382683433*((kt=at+$e)-(Dr=xe+Q)),hi=.5411961*kt+so,$i=1.306562965*Dr+so,ao=.707106781*(Qn=$e+xe),ko=Q+ao,Eo=Q-ao;Oe[pe+40]=Eo+hi,Oe[pe+24]=Eo-hi,Oe[pe+8]=ko+$i,Oe[pe+56]=ko-$i,pe++}for(Je=0;Je<64;++Je)gt=Oe[Je]*ht[Je],p[Je]=gt>0?gt+.5|0:gt-.5|0;return p}(T,H),Pe=0;Pe<64;++Pe)N[V[Pe]]=Ie[Pe];var qe=N[0]-X;X=N[0],qe==0?ae(ee[0]):(ae(ee[S[he=32767+qe]]),ae(y[he]));for(var Xe=63;Xe>0&&N[Xe]==0;)Xe--;if(Xe==0)return ae(ke),X;for(var st,W=1;W<=Xe;){for(var Qe=W;N[W]==0&&W<=Xe;)++W;var At=W-Qe;if(At>=16){st=At>>4;for(var bt=1;bt<=st;++bt)ae(Te);At&=15}he=32767+N[W],ae(ne[(At<<4)+S[he]]),ae(y[he]),W++}return Xe!=63&&ae(ke),X}function ge(T){T=Math.min(Math.max(T,1),100),o!=T&&(function(H){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var ne=s((X[ee]*H+50)/100);ne=Math.min(Math.max(ne,1),255),a[V[ee]]=ne}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ke=0;ke<64;ke++){var Te=s((he[ke]*H+50)/100);Te=Math.min(Math.max(Te,1),255),c[V[ke]]=Te}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,qe=0;qe<8;qe++)for(var Xe=0;Xe<8;Xe++)h[Pe]=1/(a[V[Pe]]*Ie[qe]*Ie[Xe]*8),d[Pe]=1/(c[V[Pe]]*Ie[qe]*Ie[Xe]*8),Pe++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),o=T)}this.encode=function(T,H){H&&ge(H),R=new Array,L=0,C=7,fe(65496),fe(65504),fe(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),fe(1),fe(1),J(0),J(0),function(){fe(65499),fe(132),J(0);for(var Ee=0;Ee<64;Ee++)J(a[Ee]);J(1);for(var De=0;De<64;De++)J(c[De])}(),function(Ee,De){fe(65472),fe(17),J(8),fe(De),fe(Ee),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)}(T.width,T.height),function(){fe(65476),fe(418),J(0);for(var Ee=0;Ee<16;Ee++)J(E[Ee+1]);for(var De=0;De<=11;De++)J(b[De]);J(16);for(var rt=0;rt<16;rt++)J(I[rt+1]);for(var ct=0;ct<=161;ct++)J(_[ct]);J(1);for(var Ye=0;Ye<16;Ye++)J(w[Ye+1]);for(var We=0;We<=11;We++)J(x[We]);J(17);for(var it=0;it<16;it++)J(U[it+1]);for(var Je=0;Je<=161;Je++)J(re[Je])}(),fe(65498),fe(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var X=0,ee=0,ne=0;L=0,C=7,this.encode.displayName="_encode_";for(var he,ke,Te,Ie,Pe,qe,Xe,st,W,Qe=T.data,At=T.width,bt=T.height,Oe=4*At,ht=0;ht<bt;){for(he=0;he<Oe;){for(Pe=Oe*ht+he,Xe=-1,st=0,W=0;W<64;W++)qe=Pe+(st=W>>3)*Oe+(Xe=4*(7&W)),ht+st>=bt&&(qe-=Oe*(ht+1+st-bt)),he+Xe>=Oe&&(qe-=he+Xe-Oe+4),ke=Qe[qe++],Te=Qe[qe++],Ie=Qe[qe++],F[W]=(ue[ke]+ue[Te+256|0]+ue[Ie+512|0]>>16)-128,B[W]=(ue[ke+768|0]+ue[Te+1024|0]+ue[Ie+1280|0]>>16)-128,M[W]=(ue[ke+1280|0]+ue[Te+1536|0]+ue[Ie+1792|0]>>16)-128;X=be(F,h,X,e,r),ee=be(B,d,ee,n,i),ne=be(M,d,ne,n,i),he+=32}ht+=8}if(C>=0){var tt=[];tt[1]=C+1,tt[0]=(1<<C+1)-1,ae(tt)}return fe(65497),new Uint8Array(R)},t=t||50,function(){for(var T=String.fromCharCode,H=0;H<256;H++)Z[H]=T(H)}(),e=le(E,b),n=le(w,x),r=le(I,_),i=le(U,re),function(){for(var T=1,H=2,X=1;X<=15;X++){for(var ee=T;ee<H;ee++)S[32767+ee]=X,y[32767+ee]=[],y[32767+ee][1]=X,y[32767+ee][0]=ee;for(var ne=-(H-1);ne<=-T;ne++)S[32767+ne]=X,y[32767+ne]=[],y[32767+ne][1]=X,y[32767+ne][0]=H-1+ne;T<<=1,H<<=1}}(),function(){for(var T=0;T<256;T++)ue[T]=19595*T,ue[T+256|0]=38470*T,ue[T+512|0]=7471*T+32768,ue[T+768|0]=-11059*T,ue[T+1024|0]=-21709*T,ue[T+1280|0]=32768*T+8421375,ue[T+1536|0]=-27439*T,ue[T+1792|0]=-5329*T}(),ge(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Xi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function V1(t){function e(b){if(!b)throw Error("assert :P")}function n(b,I,_){for(var w=0;4>w;w++)if(b[I+w]!=_.charCodeAt(w))return!0;return!1}function r(b,I,_,w,x){for(var U=0;U<x;U++)b[I+U]=_[w+U]}function i(b,I,_,w){for(var x=0;x<w;x++)b[I+x]=_}function o(b){return new Int32Array(b)}function s(b,I){for(var _=[],w=0;w<b;w++)_.push(new I);return _}function a(b,I){var _=[];return function w(x,U,re){for(var le=re[U],ae=0;ae<le&&(x.push(re.length>U+1?[]:new I),!(re.length<U+1));ae++)w(x[ae],U+1,re)}(_,0,b),_}var c=function(){var b=this;function I(l,f){for(var g=1<<f-1>>>0;l&g;)g>>>=1;return g?(l&g-1)+g:l}function _(l,f,g,A,D){e(!(A%g));do l[f+(A-=g)]=D;while(0<A)}function w(l,f,g,A,D){if(e(2328>=D),512>=D)var O=o(512);else if((O=o(D))==null)return 0;return function(j,q,$,Y,ie,Ae){var K,ce,ve=q,Ce=1<<$,we=o(16),Le=o(16);for(e(ie!=0),e(Y!=null),e(j!=null),e(0<$),ce=0;ce<ie;++ce){if(15<Y[ce])return 0;++we[Y[ce]]}if(we[0]==ie)return 0;for(Le[1]=0,K=1;15>K;++K){if(we[K]>1<<K)return 0;Le[K+1]=Le[K]+we[K]}for(ce=0;ce<ie;++ce)K=Y[ce],0<Y[ce]&&(Ae[Le[K]++]=ce);if(Le[15]==1)return(Y=new x).g=0,Y.value=Ae[0],_(j,ve,1,Ce,Y),Ce;var Re,ze=-1,je=Ce-1,Tt=0,ft=1,Bt=1,yt=1<<$;for(ce=0,K=1,ie=2;K<=$;++K,ie<<=1){if(ft+=Bt<<=1,0>(Bt-=we[K]))return 0;for(;0<we[K];--we[K])(Y=new x).g=K,Y.value=Ae[ce++],_(j,ve+Tt,ie,yt,Y),Tt=I(Tt,K)}for(K=$+1,ie=2;15>=K;++K,ie<<=1){if(ft+=Bt<<=1,0>(Bt-=we[K]))return 0;for(;0<we[K];--we[K]){if(Y=new x,(Tt&je)!=ze){for(ve+=yt,Re=1<<(ze=K)-$;15>ze&&!(0>=(Re-=we[ze]));)++ze,Re<<=1;Ce+=yt=1<<(Re=ze-$),j[q+(ze=Tt&je)].g=Re+$,j[q+ze].value=ve-q-ze}Y.g=K-$,Y.value=Ae[ce++],_(j,ve+(Tt>>$),ie,yt,Y),Tt=I(Tt,K)}}return ft!=2*Le[15]-1?0:Ce}(l,f,g,A,D,O)}function x(){this.value=this.g=0}function U(){this.value=this.g=0}function re(){this.G=s(5,x),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Hs,U)}function le(l,f,g,A){e(l!=null),e(f!=null),e(2147483648>A),l.Ca=254,l.I=0,l.b=-8,l.Ka=0,l.oa=f,l.pa=g,l.Jd=f,l.Yc=g+A,l.Zc=4<=A?g+A-4+1:g,ke(l)}function ae(l,f){for(var g=0;0<f--;)g|=Ie(l,128)<<f;return g}function J(l,f){var g=ae(l,f);return Te(l)?-g:g}function fe(l,f,g,A){var D,O=0;for(e(l!=null),e(f!=null),e(4294967288>A),l.Sb=A,l.Ra=0,l.u=0,l.h=0,4<A&&(A=4),D=0;D<A;++D)O+=f[g+D]<<8*D;l.Ra=O,l.bb=A,l.oa=f,l.pa=g}function be(l){for(;8<=l.u&&l.bb<l.Sb;)l.Ra>>>=8,l.Ra+=l.oa[l.pa+l.bb]<<is-8>>>0,++l.bb,l.u-=8;ee(l)&&(l.h=1,l.u=0)}function ge(l,f){if(e(0<=f),!l.h&&f<=gi){var g=X(l)&mi[f];return l.u+=f,be(l),g}return l.h=1,l.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(l){return l.Ra>>>(l.u&is-1)>>>0}function ee(l){return e(l.bb<=l.Sb),l.h||l.bb==l.Sb&&l.u>is}function ne(l,f){l.u=f,l.h=ee(l)}function he(l){l.u>=Do&&(e(l.u>=Do),be(l))}function ke(l){e(l!=null&&l.oa!=null),l.pa<l.Zc?(l.I=(l.oa[l.pa++]|l.I<<8)>>>0,l.b+=8):(e(l!=null&&l.oa!=null),l.pa<l.Yc?(l.b+=8,l.I=l.oa[l.pa++]|l.I<<8):l.Ka?l.b=0:(l.I<<=8,l.b+=8,l.Ka=1))}function Te(l){return ae(l,1)}function Ie(l,f){var g=l.Ca;0>l.b&&ke(l);var A=l.b,D=g*f>>>8,O=(l.I>>>A>D)+0;for(O?(g-=D,l.I-=D+1<<A>>>0):g=D+1,A=g,D=0;256<=A;)D+=8,A>>=8;return A=7^D+os[A],l.b-=A,l.Ca=(g<<A)-1,O}function Pe(l,f,g){l[f+0]=g>>24&255,l[f+1]=g>>16&255,l[f+2]=g>>8&255,l[f+3]=255&g}function qe(l,f){return l[f+0]|l[f+1]<<8}function Xe(l,f){return qe(l,f)|l[f+2]<<16}function st(l,f){return qe(l,f)|qe(l,f+2)<<16}function W(l,f){var g=1<<f;return e(l!=null),e(0<f),l.X=o(g),l.X==null?0:(l.Mb=32-f,l.Xa=f,1)}function Qe(l,f){e(l!=null),e(f!=null),e(l.Xa==f.Xa),r(f.X,0,l.X,0,1<<f.Xa)}function At(){this.X=[],this.Xa=this.Mb=0}function bt(l,f,g,A){e(g!=null),e(A!=null);var D=g[0],O=A[0];return D==0&&(D=(l*O+f/2)/f),O==0&&(O=(f*D+l/2)/l),0>=D||0>=O?0:(g[0]=D,A[0]=O,1)}function Oe(l,f){return l+(1<<f)-1>>>f}function ht(l,f){return((4278255360&l)+(4278255360&f)>>>0&4278255360)+((16711935&l)+(16711935&f)>>>0&16711935)>>>0}function tt(l,f){b[f]=function(g,A,D,O,j,q,$){var Y;for(Y=0;Y<j;++Y){var ie=b[l](q[$+Y-1],D,O+Y);q[$+Y]=ht(g[A+Y],ie)}}}function Ee(){this.ud=this.hd=this.jd=0}function De(l,f){return((4278124286&(l^f))>>>1)+(l&f)>>>0}function rt(l){return 0<=l&&256>l?l:0>l?0:255<l?255:void 0}function ct(l,f){return rt(l+(l-f+.5>>1))}function Ye(l,f,g){return Math.abs(f-g)-Math.abs(l-g)}function We(l,f,g,A,D,O,j){for(A=O[j-1],g=0;g<D;++g)O[j+g]=A=ht(l[f+g],A)}function it(l,f,g,A,D){var O;for(O=0;O<g;++O){var j=l[f+O],q=j>>8&255,$=16711935&($=($=16711935&j)+((q<<16)+q));A[D+O]=(4278255360&j)+$>>>0}}function Je(l,f){f.jd=255&l,f.hd=l>>8&255,f.ud=l>>16&255}function gt(l,f,g,A,D,O){var j;for(j=0;j<A;++j){var q=f[g+j],$=q>>>8,Y=q,ie=255&(ie=(ie=q>>>16)+((l.jd<<24>>24)*($<<24>>24)>>>5));Y=255&(Y=(Y+=(l.hd<<24>>24)*($<<24>>24)>>>5)+((l.ud<<24>>24)*(ie<<24>>24)>>>5)),D[O+j]=(4278255360&q)+(ie<<16)+Y}}function pe(l,f,g,A,D){b[f]=function(O,j,q,$,Y,ie,Ae,K,ce){for($=Ae;$<K;++$)for(Ae=0;Ae<ce;++Ae)Y[ie++]=D(q[A(O[j++])])},b[l]=function(O,j,q,$,Y,ie,Ae){var K=8>>O.b,ce=O.Ea,ve=O.K[0],Ce=O.w;if(8>K)for(O=(1<<O.b)-1,Ce=(1<<K)-1;j<q;++j){var we,Le=0;for(we=0;we<ce;++we)we&O||(Le=A($[Y++])),ie[Ae++]=D(ve[Le&Ce]),Le>>=K}else b["VP8LMapColor"+g]($,Y,ve,Ce,ie,Ae,j,q,ce)}}function Me(l,f,g,A,D){for(g=f+g;f<g;){var O=l[f++];A[D++]=O>>16&255,A[D++]=O>>8&255,A[D++]=255&O}}function Ke(l,f,g,A,D){for(g=f+g;f<g;){var O=l[f++];A[D++]=O>>16&255,A[D++]=O>>8&255,A[D++]=255&O,A[D++]=O>>24&255}}function Ze(l,f,g,A,D){for(g=f+g;f<g;){var O=(j=l[f++])>>16&240|j>>12&15,j=240&j|j>>28&15;A[D++]=O,A[D++]=j}}function ot(l,f,g,A,D){for(g=f+g;f<g;){var O=(j=l[f++])>>16&248|j>>13&7,j=j>>5&224|j>>3&31;A[D++]=O,A[D++]=j}}function Ut(l,f,g,A,D){for(g=f+g;f<g;){var O=l[f++];A[D++]=255&O,A[D++]=O>>8&255,A[D++]=O>>16&255}}function He(l,f,g,A,D,O){if(O==0)for(g=f+g;f<g;)Pe(A,((O=l[f++])[0]>>24|O[1]>>8&65280|O[2]<<8&16711680|O[3]<<24)>>>0),D+=32;else r(A,D,l,f,g)}function Ct(l,f){b[f][0]=b[l+"0"],b[f][1]=b[l+"1"],b[f][2]=b[l+"2"],b[f][3]=b[l+"3"],b[f][4]=b[l+"4"],b[f][5]=b[l+"5"],b[f][6]=b[l+"6"],b[f][7]=b[l+"7"],b[f][8]=b[l+"8"],b[f][9]=b[l+"9"],b[f][10]=b[l+"10"],b[f][11]=b[l+"11"],b[f][12]=b[l+"12"],b[f][13]=b[l+"13"],b[f][14]=b[l+"0"],b[f][15]=b[l+"0"]}function lt(l){return l==th||l==nh||l==_u||l==rh}function Lt(){this.eb=[],this.size=this.A=this.fb=0}function Yt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Mt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Lt,this.f.kb=new Yt,this.sd=null}function vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function jt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ei(l){return alert("todo:WebPSamplerProcessPlane"),l.T}function Nn(l,f){var g=l.T,A=f.ba.f.RGBA,D=A.eb,O=A.fb+l.ka*A.A,j=ji[f.ba.S],q=l.y,$=l.O,Y=l.f,ie=l.N,Ae=l.ea,K=l.W,ce=f.cc,ve=f.dc,Ce=f.Mc,we=f.Nc,Le=l.ka,Re=l.ka+l.T,ze=l.U,je=ze+1>>1;for(Le==0?j(q,$,null,null,Y,ie,Ae,K,Y,ie,Ae,K,D,O,null,null,ze):(j(f.ec,f.fc,q,$,ce,ve,Ce,we,Y,ie,Ae,K,D,O-A.A,D,O,ze),++g);Le+2<Re;Le+=2)ce=Y,ve=ie,Ce=Ae,we=K,ie+=l.Rc,K+=l.Rc,O+=2*A.A,j(q,($+=2*l.fa)-l.fa,q,$,ce,ve,Ce,we,Y,ie,Ae,K,D,O-A.A,D,O,ze);return $+=l.fa,l.j+Re<l.o?(r(f.ec,f.fc,q,$,ze),r(f.cc,f.dc,Y,ie,je),r(f.Mc,f.Nc,Ae,K,je),g--):1&Re||j(q,$,null,null,Y,ie,Ae,K,Y,ie,Ae,K,D,O+A.A,null,null,ze),g}function ti(l,f,g){var A=l.F,D=[l.J];if(A!=null){var O=l.U,j=f.ba.S,q=j==yu||j==_u;f=f.ba.f.RGBA;var $=[0],Y=l.ka;$[0]=l.T,l.Kb&&(Y==0?--$[0]:(--Y,D[0]-=l.width),l.j+l.ka+l.T==l.o&&($[0]=l.o-l.j-Y));var ie=f.eb;Y=f.fb+Y*f.A,l=Od(A,D[0],l.width,O,$,ie,Y+(q?0:3),f.A),e(g==$),l&&lt(j)&&Tl(ie,Y,q,O,$,f.A)}return 0}function or(l){var f=l.ma,g=f.ba.S,A=11>g,D=g==gu||g==vu||g==yu||g==eh||g==12||lt(g);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!vl(f.Oa,l,D?11:12))return 0;if(D&&lt(g)&&Oi(),l.da)alert("todo:use_scaling");else{if(A){if(f.Ib=ei,l.Kb){if(g=l.U+1>>1,f.memory=o(l.U+2*g),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+l.U,f.Mc=f.cc,f.Nc=f.dc+g,f.Ib=Nn,Oi()}}else alert("todo:EmitYUV");D&&(f.Jb=ti,A&&oi())}if(A&&!Jd){for(l=0;256>l;++l)_v[l]=89858*(l-128)+wu>>bu,Av[l]=-22014*(l-128)+wu,wv[l]=-45773*(l-128),bv[l]=113618*(l-128)+wu>>bu;for(l=El;l<sh;++l)f=76283*(l-16)+wu>>bu,Sv[l-El]=ri(f,255),xv[l-El]=ri(f+8>>4,15);Jd=1}return 1}function Et(l){var f=l.ma,g=l.U,A=l.T;return e(!(1&l.ka)),0>=g||0>=A?0:(g=f.Ib(l,f),f.Jb!=null&&f.Jb(l,f,g),f.Dc+=g,1)}function yn(l){l.ma.memory=null}function ni(l,f,g,A){return ge(l,8)!=47?0:(f[0]=ge(l,14)+1,g[0]=ge(l,14)+1,A[0]=ge(l,1),ge(l,3)!=0?0:!l.h)}function Q(l,f){if(4>l)return l+1;var g=l-2>>1;return(2+(1&l)<<g)+ge(f,g)+1}function oe(l,f){return 120<f?f-120:1<=(g=((g=ov[f-1])>>4)*l+(8-(15&g)))?g:1;var g}function xe(l,f,g){var A=X(g),D=l[f+=255&A].g-8;return 0<D&&(ne(g,g.u+8),A=X(g),f+=l[f].value,f+=A&(1<<D)-1),ne(g,g.u+l[f].g),l[f].value}function Ue(l,f,g){return g.g+=l.g,g.value+=l.value<<f>>>0,e(8>=g.g),l.g}function $e(l,f,g){var A=l.xc;return e((f=A==0?0:l.vc[l.md*(g>>A)+(f>>A)])<l.Wb),l.Ya[f]}function Rt(l,f,g,A){var D=l.ab,O=l.c*f,j=l.C;f=j+f;var q=g,$=A;for(A=l.Ta,g=l.Ua;0<D--;){var Y=l.gc[D],ie=j,Ae=f,K=q,ce=$,ve=($=A,q=g,Y.Ea);switch(e(ie<Ae),e(Ae<=Y.nc),Y.hc){case 2:Jn(K,ce,(Ae-ie)*ve,$,q);break;case 0:var Ce=ie,we=Ae,Le=$,Re=q,ze=(yt=Y).Ea;Ce==0&&(_l(K,ce,null,null,1,Le,Re),We(K,ce+1,0,0,ze-1,Le,Re+1),ce+=ze,Re+=ze,++Ce);for(var je=1<<yt.b,Tt=je-1,ft=Oe(ze,yt.b),Bt=yt.K,yt=yt.w+(Ce>>yt.b)*ft;Ce<we;){var en=Bt,hr=yt,qt=1;for(xa(K,ce,Le,Re-ze,1,Le,Re);qt<ze;){var _t=(qt&~Tt)+je;_t>ze&&(_t=ze),(0,wl[en[hr++]>>8&15])(K,ce+ +qt,Le,Re+qt-ze,_t-qt,Le,Re+qt),qt=_t}ce+=ze,Re+=ze,++Ce&Tt||(yt+=ft)}Ae!=Y.nc&&r($,q-ve,$,q+(Ae-ie-1)*ve,ve);break;case 1:for(ve=K,we=ce,ze=(K=Y.Ea)-(Re=K&~(Le=(ce=1<<Y.b)-1)),Ce=Oe(K,Y.b),je=Y.K,Y=Y.w+(ie>>Y.b)*Ce;ie<Ae;){for(Tt=je,ft=Y,Bt=new Ee,yt=we+Re,en=we+K;we<yt;)Je(Tt[ft++],Bt),Al(Bt,ve,we,ce,$,q),we+=ce,q+=ce;we<en&&(Je(Tt[ft++],Bt),Al(Bt,ve,we,ze,$,q),we+=ze,q+=ze),++ie&Le||(Y+=Ce)}break;case 3:if(K==$&&ce==q&&0<Y.b){for(we=$,K=ve=q+(Ae-ie)*ve-(Re=(Ae-ie)*Oe(Y.Ea,Y.b)),ce=$,Le=q,Ce=[],Re=(ze=Re)-1;0<=Re;--Re)Ce[Re]=ce[Le+Re];for(Re=ze-1;0<=Re;--Re)we[K+Re]=Ce[Re];fu(Y,ie,Ae,$,ve,$,q)}else fu(Y,ie,Ae,K,ce,$,q)}q=A,$=g}$!=g&&r(A,g,q,$,O)}function at(l,f){var g=l.V,A=l.Ba+l.c*l.C,D=f-l.C;if(e(f<=l.l.o),e(16>=D),0<D){var O=l.l,j=l.Ta,q=l.Ua,$=O.width;if(Rt(l,D,g,A),D=q=[q],e((g=l.C)<(A=f)),e(O.v<O.va),A>O.o&&(A=O.o),g<O.j){var Y=O.j-g;g=O.j,D[0]+=Y*$}if(g>=A?g=0:(D[0]+=4*O.v,O.ka=g-O.j,O.U=O.va-O.v,O.T=A-g,g=1),g){if(q=q[0],11>(g=l.ca).S){var ie=g.f.RGBA,Ae=(A=g.S,D=O.U,O=O.T,Y=ie.eb,ie.A),K=O;for(ie=ie.fb+l.Ma*ie.A;0<K--;){var ce=j,ve=q,Ce=D,we=Y,Le=ie;switch(A){case mu:Sl(ce,ve,Ce,we,Le);break;case gu:ss(ce,ve,Ce,we,Le);break;case th:ss(ce,ve,Ce,we,Le),Tl(we,Le,0,Ce,1,0);break;case Ud:Ws(ce,ve,Ce,we,Le);break;case vu:He(ce,ve,Ce,we,Le,1);break;case nh:He(ce,ve,Ce,we,Le,1),Tl(we,Le,0,Ce,1,0);break;case yu:He(ce,ve,Ce,we,Le,0);break;case _u:He(ce,ve,Ce,we,Le,0),Tl(we,Le,1,Ce,1,0);break;case eh:as(ce,ve,Ce,we,Le);break;case rh:as(ce,ve,Ce,we,Le),Md(we,Le,Ce,1,0);break;case $d:ls(ce,ve,Ce,we,Le);break;default:e(0)}q+=$,ie+=Ae}l.Ma+=O}else alert("todo:EmitRescaledRowsYUVA");e(l.Ma<=g.height)}}l.C=f,e(l.C<=l.i)}function kt(l){var f;if(0<l.ua)return 0;for(f=0;f<l.Wb;++f){var g=l.Ya[f].G,A=l.Ya[f].H;if(0<g[1][A[1]+0].g||0<g[2][A[2]+0].g||0<g[3][A[3]+0].g)return 0}return 1}function $t(l,f,g,A,D,O){if(l.Z!=0){var j=l.qd,q=l.rd;for(e(hs[l.Z]!=null);f<g;++f)hs[l.Z](j,q,A,D,A,D,O),j=A,q=D,D+=O;l.qd=j,l.rd=q}}function Qn(l,f){var g=l.l.ma,A=g.Z==0||g.Z==1?l.l.j:l.C;if(A=l.C<A?A:l.C,e(f<=l.l.o),f>A){var D=l.l.width,O=g.ca,j=g.tb+D*A,q=l.V,$=l.Ba+l.c*A,Y=l.gc;e(l.ab==1),e(Y[0].hc==3),go(Y[0],A,f,q,$,O,j),$t(g,A,f,O,j,D)}l.C=l.Ma=f}function Dr(l,f,g,A,D,O,j){var q=l.$/A,$=l.$%A,Y=l.m,ie=l.s,Ae=g+l.$,K=Ae;D=g+A*D;var ce=g+A*O,ve=280+ie.ua,Ce=l.Pb?q:16777216,we=0<ie.ua?ie.Wa:null,Le=ie.wc,Re=Ae<ce?$e(ie,$,q):null;e(l.C<O),e(ce<=D);var ze=!1;e:for(;;){for(;ze||Ae<ce;){var je=0;if(q>=Ce){var Tt=Ae-g;e((Ce=l).Pb),Ce.wd=Ce.m,Ce.xd=Tt,0<Ce.s.ua&&Qe(Ce.s.Wa,Ce.s.vb),Ce=q+av}if($&Le||(Re=$e(ie,$,q)),e(Re!=null),Re.Qb&&(f[Ae]=Re.qb,ze=!0),!ze)if(he(Y),Re.jc){je=Y,Tt=f;var ft=Ae,Bt=Re.pd[X(je)&Hs-1];e(Re.jc),256>Bt.g?(ne(je,je.u+Bt.g),Tt[ft]=Bt.value,je=0):(ne(je,je.u+Bt.g-256),e(256<=Bt.value),je=Bt.value),je==0&&(ze=!0)}else je=xe(Re.G[0],Re.H[0],Y);if(Y.h)break;if(ze||256>je){if(!ze)if(Re.nd)f[Ae]=(Re.qb|je<<8)>>>0;else{if(he(Y),ze=xe(Re.G[1],Re.H[1],Y),he(Y),Tt=xe(Re.G[2],Re.H[2],Y),ft=xe(Re.G[3],Re.H[3],Y),Y.h)break;f[Ae]=(ft<<24|ze<<16|je<<8|Tt)>>>0}if(ze=!1,++Ae,++$>=A&&($=0,++q,j!=null&&q<=O&&!(q%16)&&j(l,q),we!=null))for(;K<Ae;)je=f[K++],we.X[(506832829*je&4294967295)>>>we.Mb]=je}else if(280>je){if(je=Q(je-256,Y),Tt=xe(Re.G[4],Re.H[4],Y),he(Y),Tt=oe(A,Tt=Q(Tt,Y)),Y.h)break;if(Ae-g<Tt||D-Ae<je)break e;for(ft=0;ft<je;++ft)f[Ae+ft]=f[Ae+ft-Tt];for(Ae+=je,$+=je;$>=A;)$-=A,++q,j!=null&&q<=O&&!(q%16)&&j(l,q);if(e(Ae<=D),$&Le&&(Re=$e(ie,$,q)),we!=null)for(;K<Ae;)je=f[K++],we.X[(506832829*je&4294967295)>>>we.Mb]=je}else{if(!(je<ve))break e;for(ze=je-280,e(we!=null);K<Ae;)je=f[K++],we.X[(506832829*je&4294967295)>>>we.Mb]=je;je=Ae,e(!(ze>>>(Tt=we).Xa)),f[je]=Tt.X[ze],ze=!0}ze||e(Y.h==ee(Y))}if(l.Pb&&Y.h&&Ae<D)e(l.m.h),l.a=5,l.m=l.wd,l.$=l.xd,0<l.s.ua&&Qe(l.s.vb,l.s.Wa);else{if(Y.h)break e;j?.(l,q>O?O:q),l.a=0,l.$=Ae-g}return 1}return l.a=3,0}function Xn(l){e(l!=null),l.vc=null,l.yc=null,l.Ya=null;var f=l.Wa;f!=null&&(f.X=null),l.vb=null,e(l!=null)}function so(){var l=new Pt;return l==null?null:(l.a=0,l.xb=Gd,Ct("Predictor","VP8LPredictors"),Ct("Predictor","VP8LPredictors_C"),Ct("PredictorAdd","VP8LPredictorsAdd"),Ct("PredictorAdd","VP8LPredictorsAdd_C"),Jn=it,Al=gt,Sl=Me,ss=Ke,as=Ze,ls=ot,Ws=Ut,b.VP8LMapColor32b=mo,b.VP8LMapColor8b=bl,l)}function hi(l,f,g,A,D){var O=1,j=[l],q=[f],$=A.m,Y=A.s,ie=null,Ae=0;e:for(;;){if(g)for(;O&&ge($,1);){var K=j,ce=q,ve=A,Ce=1,we=ve.m,Le=ve.gc[ve.ab],Re=ge(we,2);if(ve.Oc&1<<Re)O=0;else{switch(ve.Oc|=1<<Re,Le.hc=Re,Le.Ea=K[0],Le.nc=ce[0],Le.K=[null],++ve.ab,e(4>=ve.ab),Re){case 0:case 1:Le.b=ge(we,3)+2,Ce=hi(Oe(Le.Ea,Le.b),Oe(Le.nc,Le.b),0,ve,Le.K),Le.K=Le.K[0];break;case 3:var ze,je=ge(we,8)+1,Tt=16<je?0:4<je?1:2<je?2:3;if(K[0]=Oe(Le.Ea,Tt),Le.b=Tt,ze=Ce=hi(je,1,0,ve,Le.K)){var ft,Bt=je,yt=Le,en=1<<(8>>yt.b),hr=o(en);if(hr==null)ze=0;else{var qt=yt.K[0],_t=yt.w;for(hr[0]=yt.K[0][0],ft=1;ft<1*Bt;++ft)hr[ft]=ht(qt[_t+ft],hr[ft-1]);for(;ft<4*en;++ft)hr[ft]=0;yt.K[0]=null,yt.K[0]=hr,ze=1}}Ce=ze;break;case 2:break;default:e(0)}O=Ce}}if(j=j[0],q=q[0],O&&ge($,1)&&!(O=1<=(Ae=ge($,4))&&11>=Ae)){A.a=3;break e}var nt;if(nt=O)t:{var er,Vt,tn,kn=A,Tr=j,Xr=q,Hn=Ae,Or=g,Jr=kn.m,fr=kn.s,sn=[null],pn=1,Wn=0,mn=sv[Hn];n:for(;;){if(Or&&ge(Jr,1)){var kr=ge(Jr,3)+2,Ki=Oe(Tr,kr),tr=Oe(Xr,kr),si=Ki*tr;if(!hi(Ki,tr,0,kn,sn))break n;for(sn=sn[0],fr.xc=kr,er=0;er<si;++er){var wn=sn[er]>>8&65535;sn[er]=wn,wn>=pn&&(pn=wn+1)}}if(Jr.h)break n;for(Vt=0;5>Vt;++Vt){var dr=Hd[Vt];!Vt&&0<Hn&&(dr+=1<<Hn),Wn<dr&&(Wn=dr)}var yi=s(pn*mn,x),Zr=pn,_i=s(Zr,re);if(_i==null)var bi=null;else e(65536>=Zr),bi=_i;var ai=o(Wn);if(bi==null||ai==null||yi==null){kn.a=1;break n}var wi=yi;for(er=tn=0;er<pn;++er){var xn=bi[er],Ai=xn.G,Qi=xn.H,Ys=0,Fo=1,Er=0;for(Vt=0;5>Vt;++Vt){dr=Hd[Vt],Ai[Vt]=wi,Qi[Vt]=tn,!Vt&&0<Hn&&(dr+=1<<Hn);i:{var Su,ah=dr,xu=kn,Il=ai,Ev=wi,Iv=tn,lh=0,fs=xu.m,Cv=ge(fs,1);if(i(Il,0,0,ah),Cv){var Nv=ge(fs,1)+1,Lv=ge(fs,1),tp=ge(fs,Lv==0?1:8);Il[tp]=1,Nv==2&&(Il[tp=ge(fs,8)]=1);var Tu=1}else{var np=o(19),rp=ge(fs,4)+4;if(19<rp){xu.a=3;var ku=0;break i}for(Su=0;Su<rp;++Su)np[iv[Su]]=ge(fs,3);var uh=void 0,Cl=void 0,ip=xu,Pv=np,Eu=ah,op=Il,ch=0,ds=ip.m,sp=8,ap=s(128,x);r:for(;w(ap,0,7,Pv,19);){if(ge(ds,1)){var Rv=2+2*ge(ds,3);if((uh=2+ge(ds,Rv))>Eu)break r}else uh=Eu;for(Cl=0;Cl<Eu&&uh--;){he(ds);var lp=ap[0+(127&X(ds))];ne(ds,ds.u+lp.g);var ka=lp.value;if(16>ka)op[Cl++]=ka,ka!=0&&(sp=ka);else{var Dv=ka==16,up=ka-16,Mv=nv[up],cp=ge(ds,tv[up])+Mv;if(Cl+cp>Eu)break r;for(var Ov=Dv?sp:0;0<cp--;)op[Cl++]=Ov}}ch=1;break r}ch||(ip.a=3),Tu=ch}(Tu=Tu&&!fs.h)&&(lh=w(Ev,Iv,8,Il,ah)),Tu&&lh!=0?ku=lh:(xu.a=3,ku=0)}if(ku==0)break n;if(Fo&&rv[Vt]==1&&(Fo=wi[tn].g==0),Ys+=wi[tn].g,tn+=ku,3>=Vt){var Nl,hh=ai[0];for(Nl=1;Nl<dr;++Nl)ai[Nl]>hh&&(hh=ai[Nl]);Er+=hh}}if(xn.nd=Fo,xn.Qb=0,Fo&&(xn.qb=(Ai[3][Qi[3]+0].value<<24|Ai[1][Qi[1]+0].value<<16|Ai[2][Qi[2]+0].value)>>>0,Ys==0&&256>Ai[0][Qi[0]+0].value&&(xn.Qb=1,xn.qb+=Ai[0][Qi[0]+0].value<<8)),xn.jc=!xn.Qb&&6>Er,xn.jc){var Iu,Vo=xn;for(Iu=0;Iu<Hs;++Iu){var ps=Iu,ms=Vo.pd[ps],Cu=Vo.G[0][Vo.H[0]+ps];256<=Cu.value?(ms.g=Cu.g+256,ms.value=Cu.value):(ms.g=0,ms.value=0,ps>>=Ue(Cu,8,ms),ps>>=Ue(Vo.G[1][Vo.H[1]+ps],16,ms),ps>>=Ue(Vo.G[2][Vo.H[2]+ps],0,ms),Ue(Vo.G[3][Vo.H[3]+ps],24,ms))}}}fr.vc=sn,fr.Wb=pn,fr.Ya=bi,fr.yc=yi,nt=1;break t}nt=0}if(!(O=nt)){A.a=3;break e}if(0<Ae){if(Y.ua=1<<Ae,!W(Y.Wa,Ae)){A.a=1,O=0;break e}}else Y.ua=0;var fh=A,hp=j,Fv=q,dh=fh.s,ph=dh.xc;if(fh.c=hp,fh.i=Fv,dh.md=Oe(hp,ph),dh.wc=ph==0?-1:(1<<ph)-1,g){A.xb=pv;break e}if((ie=o(j*q))==null){A.a=1,O=0;break e}O=(O=Dr(A,ie,0,j,q,q,null))&&!$.h;break e}return O?(D!=null?D[0]=ie:(e(ie==null),e(g)),A.$=0,g||Xn(Y)):Xn(Y),O}function $i(l,f){var g=l.c*l.i,A=g+f+16*f;return e(l.c<=f),l.V=o(A),l.V==null?(l.Ta=null,l.Ua=0,l.a=1,0):(l.Ta=l.V,l.Ua=l.Ba+g+f,1)}function ao(l,f){var g=l.C,A=f-g,D=l.V,O=l.Ba+l.c*g;for(e(f<=l.l.o);0<A;){var j=16<A?16:A,q=l.l.ma,$=l.l.width,Y=$*j,ie=q.ca,Ae=q.tb+$*g,K=l.Ta,ce=l.Ua;Rt(l,j,D,O),Fd(K,ce,ie,Ae,Y),$t(q,g,g+j,ie,Ae,$),A-=j,D+=j*l.c,g+=j}e(g==f),l.C=l.Ma=f}function ko(){this.ub=this.yd=this.td=this.Rb=0}function Eo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function cl(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function lo(){this.Yb=function(){var l=[];return function f(g,A,D){for(var O=D[A],j=0;j<O&&(g.push(D.length>A+1?[]:0),!(D.length<A+1));j++)f(g[j],A+1,D)}(l,0,[3,11]),l}()}function Ds(){this.jb=o(3),this.Wc=a([4,8],lo),this.Xc=a([4,17],lo)}function Ko(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function vr(){this.ld=this.La=this.dd=this.tc=0}function fi(){this.Na=this.la=0}function Qo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ms(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Os(){this.uc=this.M=this.Nb=0,this.wa=Array(new vr),this.Y=0,this.ya=Array(new Ms),this.aa=0,this.l=new uo}function Fs(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Vs(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new ko,this.Kc=new Eo,this.ed=new Ko,this.Qa=new cl,this.Ic=this.$c=this.Aa=0,this.D=new Os,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,T),this.ia=0,this.pb=s(4,Qo),this.Pa=new Ds,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Fs),this.Hd=0,this.rb=Array(new fi),this.sb=0,this.wa=Array(new vr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ms),this.L=this.aa=0,this.gd=a([4,2],vr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ri(l,f){return 0>l?0:l>f?f:l}function uo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ga(){var l=new Vs;return l!=null&&(l.a=0,l.sc="OK",l.cb=0,l.Xb=0,kl||(kl=Io)),l}function On(l,f,g){return l.a==0&&(l.a=f,l.sc=g,l.cb=0),0}function va(l,f,g){return 3<=g&&l[f+0]==157&&l[f+1]==1&&l[f+2]==42}function Ii(l,f){if(l==null)return 0;if(l.a=0,l.sc="OK",f==null)return On(l,2,"null VP8Io passed to VP8GetHeaders()");var g=f.data,A=f.w,D=f.ha;if(4>D)return On(l,7,"Truncated header.");var O=g[A+0]|g[A+1]<<8|g[A+2]<<16,j=l.Od;if(j.Rb=!(1&O),j.td=O>>1&7,j.yd=O>>4&1,j.ub=O>>5,3<j.td)return On(l,3,"Incorrect keyframe parameters.");if(!j.yd)return On(l,4,"Frame not displayable.");A+=3,D-=3;var q=l.Kc;if(j.Rb){if(7>D)return On(l,7,"cannot parse picture header");if(!va(g,A,D))return On(l,3,"Bad code word");q.c=16383&(g[A+4]<<8|g[A+3]),q.Td=g[A+4]>>6,q.i=16383&(g[A+6]<<8|g[A+5]),q.Ud=g[A+6]>>6,A+=7,D-=7,l.za=q.c+15>>4,l.Ub=q.i+15>>4,f.width=q.c,f.height=q.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,i((O=l.Pa).jb,0,255,O.jb.length),e((O=l.Qa)!=null),O.Cb=0,O.Bb=0,O.Fb=1,i(O.Zb,0,0,O.Zb.length),i(O.Lb,0,0,O.Lb)}if(j.ub>D)return On(l,7,"bad partition length");le(O=l.m,g,A,j.ub),A+=j.ub,D-=j.ub,j.Rb&&(q.Ld=Te(O),q.Kd=Te(O)),q=l.Qa;var $,Y=l.Pa;if(e(O!=null),e(q!=null),q.Cb=Te(O),q.Cb){if(q.Bb=Te(O),Te(O)){for(q.Fb=Te(O),$=0;4>$;++$)q.Zb[$]=Te(O)?J(O,7):0;for($=0;4>$;++$)q.Lb[$]=Te(O)?J(O,6):0}if(q.Bb)for($=0;3>$;++$)Y.jb[$]=Te(O)?ae(O,8):255}else q.Bb=0;if(O.Ka)return On(l,3,"cannot parse segment header");if((q=l.ed).zd=Te(O),q.Tb=ae(O,6),q.wb=ae(O,3),q.Pc=Te(O),q.Pc&&Te(O)){for(Y=0;4>Y;++Y)Te(O)&&(q.vd[Y]=J(O,6));for(Y=0;4>Y;++Y)Te(O)&&(q.od[Y]=J(O,6))}if(l.L=q.Tb==0?0:q.zd?1:2,O.Ka)return On(l,3,"cannot parse filter header");var ie=D;if(D=$=A,A=$+ie,q=ie,l.Xb=(1<<ae(l.m,2))-1,ie<3*(Y=l.Xb))g=7;else{for($+=3*Y,q-=3*Y,ie=0;ie<Y;++ie){var Ae=g[D+0]|g[D+1]<<8|g[D+2]<<16;Ae>q&&(Ae=q),le(l.Jc[+ie],g,$,Ae),$+=Ae,q-=Ae,D+=3}le(l.Jc[+Y],g,$,q),g=$<A?0:5}if(g!=0)return On(l,g,"cannot parse partitions");for(g=ae($=l.m,7),D=Te($)?J($,4):0,A=Te($)?J($,4):0,q=Te($)?J($,4):0,Y=Te($)?J($,4):0,$=Te($)?J($,4):0,ie=l.Qa,Ae=0;4>Ae;++Ae){if(ie.Cb){var K=ie.Zb[Ae];ie.Fb||(K+=g)}else{if(0<Ae){l.pb[Ae]=l.pb[0];continue}K=g}var ce=l.pb[Ae];ce.Sc[0]=ih[ri(K+D,127)],ce.Sc[1]=oh[ri(K+0,127)],ce.Eb[0]=2*ih[ri(K+A,127)],ce.Eb[1]=101581*oh[ri(K+q,127)]>>16,8>ce.Eb[1]&&(ce.Eb[1]=8),ce.Qc[0]=ih[ri(K+Y,117)],ce.Qc[1]=oh[ri(K+$,127)],ce.lc=K+$}if(!j.Rb)return On(l,4,"Not a key frame.");for(Te(O),j=l.Pa,g=0;4>g;++g){for(D=0;8>D;++D)for(A=0;3>A;++A)for(q=0;11>q;++q)Y=Ie(O,fv[g][D][A][q])?ae(O,8):cv[g][D][A][q],j.Wc[g][D].Yb[A][q]=Y;for(D=0;17>D;++D)j.Xc[g][D]=j.Wc[g][dv[D]]}return l.kc=Te(O),l.kc&&(l.Bd=ae(O,8)),l.cb=1}function Io(l,f,g,A,D,O,j){var q=f[D].Yb[g];for(g=0;16>D;++D){if(!Ie(l,q[g+0]))return D;for(;!Ie(l,q[g+1]);)if(q=f[++D].Yb[0],g=0,D==16)return 16;var $=f[D+1].Yb;if(Ie(l,q[g+2])){var Y=l,ie=0;if(Ie(Y,(K=q)[(Ae=g)+3]))if(Ie(Y,K[Ae+6])){for(q=0,Ae=2*(ie=Ie(Y,K[Ae+8]))+(K=Ie(Y,K[Ae+9+ie])),ie=0,K=lv[Ae];K[q];++q)ie+=ie+Ie(Y,K[q]);ie+=3+(8<<Ae)}else Ie(Y,K[Ae+7])?(ie=7+2*Ie(Y,165),ie+=Ie(Y,145)):ie=5+Ie(Y,159);else ie=Ie(Y,K[Ae+4])?3+Ie(Y,K[Ae+5]):2;q=$[2]}else ie=1,q=$[1];$=j+uv[D],0>(Y=l).b&&ke(Y);var Ae,K=Y.b,ce=(Ae=Y.Ca>>1)-(Y.I>>K)>>31;--Y.b,Y.Ca+=ce,Y.Ca|=1,Y.I-=(Ae+1&ce)<<K,O[$]=((ie^ce)-ce)*A[(0<D)+0]}return 16}function js(l){var f=l.rb[l.sb-1];f.la=0,f.Na=0,i(l.zc,0,0,l.zc.length),l.ja=0}function ii(l,f,g,A,D){D=l[f+g+32*A]+(D>>3),l[f+g+32*A]=-256&D?0>D?0:255:D}function _n(l,f,g,A,D,O){ii(l,f,0,g,A+D),ii(l,f,1,g,A+O),ii(l,f,2,g,A-O),ii(l,f,3,g,A-D)}function ur(l){return(20091*l>>16)+l}function Co(l,f,g,A){var D,O=0,j=o(16);for(D=0;4>D;++D){var q=l[f+0]+l[f+8],$=l[f+0]-l[f+8],Y=(35468*l[f+4]>>16)-ur(l[f+12]),ie=ur(l[f+4])+(35468*l[f+12]>>16);j[O+0]=q+ie,j[O+1]=$+Y,j[O+2]=$-Y,j[O+3]=q-ie,O+=4,f++}for(D=O=0;4>D;++D)q=(l=j[O+0]+4)+j[O+8],$=l-j[O+8],Y=(35468*j[O+4]>>16)-ur(j[O+12]),ii(g,A,0,0,q+(ie=ur(j[O+4])+(35468*j[O+12]>>16))),ii(g,A,1,0,$+Y),ii(g,A,2,0,$-Y),ii(g,A,3,0,q-ie),O++,A+=32}function Xo(l,f,g,A){var D=l[f+0]+4,O=35468*l[f+4]>>16,j=ur(l[f+4]),q=35468*l[f+1]>>16;_n(g,A,0,D+j,l=ur(l[f+1]),q),_n(g,A,1,D+O,l,q),_n(g,A,2,D-O,l,q),_n(g,A,3,D-j,l,q)}function ya(l,f,g,A,D){Co(l,f,g,A),D&&Co(l,f+16,g,A+4)}function Kt(l,f,g,A){Gs(l,f+0,g,A,1),Gs(l,f+32,g,A+128,1)}function No(l,f,g,A){var D;for(l=l[f+0]+4,D=0;4>D;++D)for(f=0;4>f;++f)ii(g,A,f,D,l)}function co(l,f,g,A){l[f+0]&&hn(l,f+0,g,A),l[f+16]&&hn(l,f+16,g,A+4),l[f+32]&&hn(l,f+32,g,A+128),l[f+48]&&hn(l,f+48,g,A+128+4)}function Ci(l,f,g,A){var D,O=o(16);for(D=0;4>D;++D){var j=l[f+0+D]+l[f+12+D],q=l[f+4+D]+l[f+8+D],$=l[f+4+D]-l[f+8+D],Y=l[f+0+D]-l[f+12+D];O[0+D]=j+q,O[8+D]=j-q,O[4+D]=Y+$,O[12+D]=Y-$}for(D=0;4>D;++D)j=(l=O[0+4*D]+3)+O[3+4*D],q=O[1+4*D]+O[2+4*D],$=O[1+4*D]-O[2+4*D],Y=l-O[3+4*D],g[A+0]=j+q>>3,g[A+16]=Y+$>>3,g[A+32]=j-q>>3,g[A+48]=Y-$>>3,A+=64}function Lo(l,f,g){var A,D=f-32,O=vi,j=255-l[D-1];for(A=0;A<g;++A){var q,$=O,Y=j+l[f-1];for(q=0;q<g;++q)l[f+q]=$[Y+l[D+q]];f+=32}}function _a(l,f){Lo(l,f,4)}function hl(l,f){Lo(l,f,8)}function fl(l,f){Lo(l,f,16)}function Bs(l,f){var g;for(g=0;16>g;++g)r(l,f+32*g,l,f-32,16)}function ba(l,f){var g;for(g=16;0<g;--g)i(l,f,l[f-1],16),f+=32}function Sr(l,f,g){var A;for(A=0;16>A;++A)i(f,g+32*A,l,16)}function Ni(l,f){var g,A=16;for(g=0;16>g;++g)A+=l[f-1+32*g]+l[f+g-32];Sr(A>>5,l,f)}function ho(l,f){var g,A=8;for(g=0;16>g;++g)A+=l[f-1+32*g];Sr(A>>4,l,f)}function Jo(l,f){var g,A=8;for(g=0;16>g;++g)A+=l[f+g-32];Sr(A>>4,l,f)}function wa(l,f){Sr(128,l,f)}function Nt(l,f,g){return l+2*f+g+2>>2}function dl(l,f){var g,A=f-32;for(A=new Uint8Array([Nt(l[A-1],l[A+0],l[A+1]),Nt(l[A+0],l[A+1],l[A+2]),Nt(l[A+1],l[A+2],l[A+3]),Nt(l[A+2],l[A+3],l[A+4])]),g=0;4>g;++g)r(l,f+32*g,A,0,A.length)}function pl(l,f){var g=l[f-1],A=l[f-1+32],D=l[f-1+64],O=l[f-1+96];Pe(l,f+0,16843009*Nt(l[f-1-32],g,A)),Pe(l,f+32,16843009*Nt(g,A,D)),Pe(l,f+64,16843009*Nt(A,D,O)),Pe(l,f+96,16843009*Nt(D,O,O))}function ml(l,f){var g,A=4;for(g=0;4>g;++g)A+=l[f+g-32]+l[f-1+32*g];for(A>>=3,g=0;4>g;++g)i(l,f+32*g,A,4)}function yr(l,f){var g=l[f-1+0],A=l[f-1+32],D=l[f-1+64],O=l[f-1-32],j=l[f+0-32],q=l[f+1-32],$=l[f+2-32],Y=l[f+3-32];l[f+0+96]=Nt(A,D,l[f-1+96]),l[f+1+96]=l[f+0+64]=Nt(g,A,D),l[f+2+96]=l[f+1+64]=l[f+0+32]=Nt(O,g,A),l[f+3+96]=l[f+2+64]=l[f+1+32]=l[f+0+0]=Nt(j,O,g),l[f+3+64]=l[f+2+32]=l[f+1+0]=Nt(q,j,O),l[f+3+32]=l[f+2+0]=Nt($,q,j),l[f+3+0]=Nt(Y,$,q)}function Hi(l,f){var g=l[f+1-32],A=l[f+2-32],D=l[f+3-32],O=l[f+4-32],j=l[f+5-32],q=l[f+6-32],$=l[f+7-32];l[f+0+0]=Nt(l[f+0-32],g,A),l[f+1+0]=l[f+0+32]=Nt(g,A,D),l[f+2+0]=l[f+1+32]=l[f+0+64]=Nt(A,D,O),l[f+3+0]=l[f+2+32]=l[f+1+64]=l[f+0+96]=Nt(D,O,j),l[f+3+32]=l[f+2+64]=l[f+1+96]=Nt(O,j,q),l[f+3+64]=l[f+2+96]=Nt(j,q,$),l[f+3+96]=Nt(q,$,$)}function gl(l,f){var g=l[f-1+0],A=l[f-1+32],D=l[f-1+64],O=l[f-1-32],j=l[f+0-32],q=l[f+1-32],$=l[f+2-32],Y=l[f+3-32];l[f+0+0]=l[f+1+64]=O+j+1>>1,l[f+1+0]=l[f+2+64]=j+q+1>>1,l[f+2+0]=l[f+3+64]=q+$+1>>1,l[f+3+0]=$+Y+1>>1,l[f+0+96]=Nt(D,A,g),l[f+0+64]=Nt(A,g,O),l[f+0+32]=l[f+1+96]=Nt(g,O,j),l[f+1+32]=l[f+2+96]=Nt(O,j,q),l[f+2+32]=l[f+3+96]=Nt(j,q,$),l[f+3+32]=Nt(q,$,Y)}function Zo(l,f){var g=l[f+0-32],A=l[f+1-32],D=l[f+2-32],O=l[f+3-32],j=l[f+4-32],q=l[f+5-32],$=l[f+6-32],Y=l[f+7-32];l[f+0+0]=g+A+1>>1,l[f+1+0]=l[f+0+64]=A+D+1>>1,l[f+2+0]=l[f+1+64]=D+O+1>>1,l[f+3+0]=l[f+2+64]=O+j+1>>1,l[f+0+32]=Nt(g,A,D),l[f+1+32]=l[f+0+96]=Nt(A,D,O),l[f+2+32]=l[f+1+96]=Nt(D,O,j),l[f+3+32]=l[f+2+96]=Nt(O,j,q),l[f+3+64]=Nt(j,q,$),l[f+3+96]=Nt(q,$,Y)}function Wi(l,f){var g=l[f-1+0],A=l[f-1+32],D=l[f-1+64],O=l[f-1+96];l[f+0+0]=g+A+1>>1,l[f+2+0]=l[f+0+32]=A+D+1>>1,l[f+2+32]=l[f+0+64]=D+O+1>>1,l[f+1+0]=Nt(g,A,D),l[f+3+0]=l[f+1+32]=Nt(A,D,O),l[f+3+32]=l[f+1+64]=Nt(D,O,O),l[f+3+64]=l[f+2+64]=l[f+0+96]=l[f+1+96]=l[f+2+96]=l[f+3+96]=O}function es(l,f){var g=l[f-1+0],A=l[f-1+32],D=l[f-1+64],O=l[f-1+96],j=l[f-1-32],q=l[f+0-32],$=l[f+1-32],Y=l[f+2-32];l[f+0+0]=l[f+2+32]=g+j+1>>1,l[f+0+32]=l[f+2+64]=A+g+1>>1,l[f+0+64]=l[f+2+96]=D+A+1>>1,l[f+0+96]=O+D+1>>1,l[f+3+0]=Nt(q,$,Y),l[f+2+0]=Nt(j,q,$),l[f+1+0]=l[f+3+32]=Nt(g,j,q),l[f+1+32]=l[f+3+64]=Nt(A,g,j),l[f+1+64]=l[f+3+96]=Nt(D,A,g),l[f+1+96]=Nt(O,D,A)}function di(l,f){var g;for(g=0;8>g;++g)r(l,f+32*g,l,f-32,8)}function Po(l,f){var g;for(g=0;8>g;++g)i(l,f,l[f-1],8),f+=32}function Li(l,f,g){var A;for(A=0;8>A;++A)i(f,g+32*A,l,8)}function qs(l,f){var g,A=8;for(g=0;8>g;++g)A+=l[f+g-32]+l[f-1+32*g];Li(A>>4,l,f)}function vn(l,f){var g,A=4;for(g=0;8>g;++g)A+=l[f+g-32];Li(A>>3,l,f)}function zs(l,f){var g,A=4;for(g=0;8>g;++g)A+=l[f-1+32*g];Li(A>>3,l,f)}function Aa(l,f){Li(128,l,f)}function Pi(l,f,g){var A=l[f-g],D=l[f+0],O=3*(D-A)+Zc[1020+l[f-2*g]-l[f+g]],j=pu[112+(O+4>>3)];l[f-g]=vi[255+A+pu[112+(O+3>>3)]],l[f+0]=vi[255+D-j]}function ts(l,f,g,A){var D=l[f+0],O=l[f+g];return Vi[255+l[f-2*g]-l[f-g]]>A||Vi[255+O-D]>A}function Ro(l,f,g,A){return 4*Vi[255+l[f-g]-l[f+0]]+Vi[255+l[f-2*g]-l[f+g]]<=A}function fo(l,f,g,A,D){var O=l[f-3*g],j=l[f-2*g],q=l[f-g],$=l[f+0],Y=l[f+g],ie=l[f+2*g],Ae=l[f+3*g];return 4*Vi[255+q-$]+Vi[255+j-Y]>A?0:Vi[255+l[f-4*g]-O]<=D&&Vi[255+O-j]<=D&&Vi[255+j-q]<=D&&Vi[255+Ae-ie]<=D&&Vi[255+ie-Y]<=D&&Vi[255+Y-$]<=D}function po(l,f,g,A){var D=2*A+1;for(A=0;16>A;++A)Ro(l,f+A,g,D)&&Pi(l,f+A,g)}function Kr(l,f,g,A){var D=2*A+1;for(A=0;16>A;++A)Ro(l,f+A*g,1,D)&&Pi(l,f+A*g,1)}function Us(l,f,g,A){var D;for(D=3;0<D;--D)po(l,f+=4*g,g,A)}function Sa(l,f,g,A){var D;for(D=3;0<D;--D)Kr(l,f+=4,g,A)}function Qr(l,f,g,A,D,O,j,q){for(O=2*O+1;0<D--;){if(fo(l,f,g,O,j))if(ts(l,f,g,q))Pi(l,f,g);else{var $=l,Y=f,ie=g,Ae=$[Y-2*ie],K=$[Y-ie],ce=$[Y+0],ve=$[Y+ie],Ce=$[Y+2*ie],we=27*(Re=Zc[1020+3*(ce-K)+Zc[1020+Ae-ve]])+63>>7,Le=18*Re+63>>7,Re=9*Re+63>>7;$[Y-3*ie]=vi[255+$[Y-3*ie]+Re],$[Y-2*ie]=vi[255+Ae+Le],$[Y-ie]=vi[255+K+we],$[Y+0]=vi[255+ce-we],$[Y+ie]=vi[255+ve-Le],$[Y+2*ie]=vi[255+Ce-Re]}f+=A}}function Ri(l,f,g,A,D,O,j,q){for(O=2*O+1;0<D--;){if(fo(l,f,g,O,j))if(ts(l,f,g,q))Pi(l,f,g);else{var $=l,Y=f,ie=g,Ae=$[Y-ie],K=$[Y+0],ce=$[Y+ie],ve=pu[112+(4+(Ce=3*(K-Ae))>>3)],Ce=pu[112+(Ce+3>>3)],we=ve+1>>1;$[Y-2*ie]=vi[255+$[Y-2*ie]+we],$[Y-ie]=vi[255+Ae+Ce],$[Y+0]=vi[255+K-ve],$[Y+ie]=vi[255+ce-we]}f+=A}}function ns(l,f,g,A,D,O){Qr(l,f,g,1,16,A,D,O)}function Di(l,f,g,A,D,O){Qr(l,f,1,g,16,A,D,O)}function $s(l,f,g,A,D,O){var j;for(j=3;0<j;--j)Ri(l,f+=4*g,g,1,16,A,D,O)}function m(l,f,g,A,D,O){var j;for(j=3;0<j;--j)Ri(l,f+=4,1,g,16,A,D,O)}function P(l,f,g,A,D,O,j,q){Qr(l,f,D,1,8,O,j,q),Qr(g,A,D,1,8,O,j,q)}function G(l,f,g,A,D,O,j,q){Qr(l,f,1,D,8,O,j,q),Qr(g,A,1,D,8,O,j,q)}function te(l,f,g,A,D,O,j,q){Ri(l,f+4*D,D,1,8,O,j,q),Ri(g,A+4*D,D,1,8,O,j,q)}function de(l,f,g,A,D,O,j,q){Ri(l,f+4,1,D,8,O,j,q),Ri(g,A+4,1,D,8,O,j,q)}function Ne(){this.ba=new Mt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new jt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Fe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ut(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function pt(){this.ua=0,this.Wa=new At,this.vb=new At,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new re,this.yc=new x}function Pt(){this.xb=this.a=0,this.l=new uo,this.ca=new Mt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new pt,this.ab=0,this.gc=s(4,ut),this.Oc=0}function Ot(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new uo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Qt(l,f,g,A,D,O,j){for(l=l==null?0:l[f+0],f=0;f<j;++f)D[O+f]=l+g[A+f]&255,l=D[O+f]}function cn(l,f,g,A,D,O,j){var q;if(l==null)Qt(null,null,g,A,D,O,j);else for(q=0;q<j;++q)D[O+q]=l[f+q]+g[A+q]&255}function Fn(l,f,g,A,D,O,j){if(l==null)Qt(null,null,g,A,D,O,j);else{var q,$=l[f+0],Y=$,ie=$;for(q=0;q<j;++q)Y=ie+($=l[f+q])-Y,ie=g[A+q]+(-256&Y?0>Y?0:255:Y)&255,Y=$,D[O+q]=ie}}function dn(l,f,g,A){var D=f.width,O=f.o;if(e(l!=null&&f!=null),0>g||0>=A||g+A>O)return null;if(!l.Cc){if(l.ga==null){var j;if(l.ga=new Ot,(j=l.ga==null)||(j=f.width*f.o,e(l.Gb.length==0),l.Gb=o(j),l.Uc=0,l.Gb==null?j=0:(l.mb=l.Gb,l.nb=l.Uc,l.rc=null,j=1),j=!j),!j){j=l.ga;var q=l.Fa,$=l.P,Y=l.qc,ie=l.mb,Ae=l.nb,K=$+1,ce=Y-1,ve=j.l;if(e(q!=null&&ie!=null&&f!=null),hs[0]=null,hs[1]=Qt,hs[2]=cn,hs[3]=Fn,j.ca=ie,j.tb=Ae,j.c=f.width,j.i=f.height,e(0<j.c&&0<j.i),1>=Y)f=0;else if(j.$a=3&q[$+0],j.Z=q[$+0]>>2&3,j.Lc=q[$+0]>>4&3,$=q[$+0]>>6&3,0>j.$a||1<j.$a||4<=j.Z||1<j.Lc||$)f=0;else if(ve.put=Et,ve.ac=or,ve.bc=yn,ve.ma=j,ve.width=f.width,ve.height=f.height,ve.Da=f.Da,ve.v=f.v,ve.va=f.va,ve.j=f.j,ve.o=f.o,j.$a)e:{e(j.$a==1),f=so();t:for(;;){if(f==null){f=0;break e}if(e(j!=null),j.mc=f,f.c=j.c,f.i=j.i,f.l=j.l,f.l.ma=j,f.l.width=j.c,f.l.height=j.i,f.a=0,fe(f.m,q,K,ce),!hi(j.c,j.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&kt(f.s)?(j.ic=1,q=f.c*f.i,f.Ta=null,f.Ua=0,f.V=o(q),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(j.ic=0,f=$i(f,j.c)),!f))break t;f=1;break e}j.mc=null,f=0}else f=ce>=j.c*j.i;j=!f}if(j)return null;l.ga.Lc!=1?l.Ga=0:A=O-g}e(l.ga!=null),e(g+A<=O);e:{if(f=(q=l.ga).c,O=q.l.o,q.$a==0){if(K=l.rc,ce=l.Vc,ve=l.Fa,$=l.P+1+g*f,Y=l.mb,ie=l.nb+g*f,e($<=l.P+l.qc),q.Z!=0)for(e(hs[q.Z]!=null),j=0;j<A;++j)hs[q.Z](K,ce,ve,$,Y,ie,f),K=Y,ce=ie,ie+=f,$+=f;else for(j=0;j<A;++j)r(Y,ie,ve,$,f),K=Y,ce=ie,ie+=f,$+=f;l.rc=K,l.Vc=ce}else{if(e(q.mc!=null),f=g+A,e((j=q.mc)!=null),e(f<=j.i),j.C>=f)f=1;else if(q.ic||oi(),q.ic){q=j.V,K=j.Ba,ce=j.c;var Ce=j.i,we=(ve=1,$=j.$/ce,Y=j.$%ce,ie=j.m,Ae=j.s,j.$),Le=ce*Ce,Re=ce*f,ze=Ae.wc,je=we<Re?$e(Ae,Y,$):null;e(we<=Le),e(f<=Ce),e(kt(Ae));t:for(;;){for(;!ie.h&&we<Re;){if(Y&ze||(je=$e(Ae,Y,$)),e(je!=null),he(ie),256>(Ce=xe(je.G[0],je.H[0],ie)))q[K+we]=Ce,++we,++Y>=ce&&(Y=0,++$<=f&&!($%16)&&Qn(j,$));else{if(!(280>Ce)){ve=0;break t}Ce=Q(Ce-256,ie);var Tt,ft=xe(je.G[4],je.H[4],ie);if(he(ie),!(we>=(ft=oe(ce,ft=Q(ft,ie)))&&Le-we>=Ce)){ve=0;break t}for(Tt=0;Tt<Ce;++Tt)q[K+we+Tt]=q[K+we+Tt-ft];for(we+=Ce,Y+=Ce;Y>=ce;)Y-=ce,++$<=f&&!($%16)&&Qn(j,$);we<Re&&Y&ze&&(je=$e(Ae,Y,$))}e(ie.h==ee(ie))}Qn(j,$>f?f:$);break t}!ve||ie.h&&we<Le?(ve=0,j.a=ie.h?5:3):j.$=we,f=ve}else f=Dr(j,j.V,j.Ba,j.c,j.i,f,ao);if(!f){A=0;break e}}g+A>=O&&(l.Cc=1),A=1}if(!A)return null;if(l.Cc&&((A=l.ga)!=null&&(A.mc=null),l.ga=null,0<l.Ga))return alert("todo:WebPDequantizeLevels"),null}return l.nb+g*D}function Un(l,f,g,A,D,O){for(;0<D--;){var j,q=l,$=f+(g?1:0),Y=l,ie=f+(g?0:3);for(j=0;j<A;++j){var Ae=Y[ie+4*j];Ae!=255&&(Ae*=32897,q[$+4*j+0]=q[$+4*j+0]*Ae>>23,q[$+4*j+1]=q[$+4*j+1]*Ae>>23,q[$+4*j+2]=q[$+4*j+2]*Ae>>23)}f+=O}}function Vn(l,f,g,A,D){for(;0<A--;){var O;for(O=0;O<g;++O){var j=l[f+2*O+0],q=15&(Y=l[f+2*O+1]),$=4369*q,Y=(240&Y|Y>>4)*$>>16;l[f+2*O+0]=(240&j|j>>4)*$>>16&240|(15&j|j<<4)*$>>16>>4&15,l[f+2*O+1]=240&Y|q}f+=D}}function $n(l,f,g,A,D,O,j,q){var $,Y,ie=255;for(Y=0;Y<D;++Y){for($=0;$<A;++$){var Ae=l[f+$];O[j+4*$]=Ae,ie&=Ae}f+=g,j+=q}return ie!=255}function jn(l,f,g,A,D){var O;for(O=0;O<D;++O)g[A+O]=l[f+O]>>8}function oi(){Tl=Un,Md=Vn,Od=$n,Fd=jn}function Mi(l,f,g){b[l]=function(A,D,O,j,q,$,Y,ie,Ae,K,ce,ve,Ce,we,Le,Re,ze){var je,Tt=ze-1>>1,ft=q[$+0]|Y[ie+0]<<16,Bt=Ae[K+0]|ce[ve+0]<<16;e(A!=null);var yt=3*ft+Bt+131074>>2;for(f(A[D+0],255&yt,yt>>16,Ce,we),O!=null&&(yt=3*Bt+ft+131074>>2,f(O[j+0],255&yt,yt>>16,Le,Re)),je=1;je<=Tt;++je){var en=q[$+je]|Y[ie+je]<<16,hr=Ae[K+je]|ce[ve+je]<<16,qt=ft+en+Bt+hr+524296,_t=qt+2*(en+Bt)>>3;yt=_t+ft>>1,ft=(qt=qt+2*(ft+hr)>>3)+en>>1,f(A[D+2*je-1],255&yt,yt>>16,Ce,we+(2*je-1)*g),f(A[D+2*je-0],255&ft,ft>>16,Ce,we+(2*je-0)*g),O!=null&&(yt=qt+Bt>>1,ft=_t+hr>>1,f(O[j+2*je-1],255&yt,yt>>16,Le,Re+(2*je-1)*g),f(O[j+2*je+0],255&ft,ft>>16,Le,Re+(2*je+0)*g)),ft=en,Bt=hr}1&ze||(yt=3*ft+Bt+131074>>2,f(A[D+ze-1],255&yt,yt>>16,Ce,we+(ze-1)*g),O!=null&&(yt=3*Bt+ft+131074>>2,f(O[j+ze-1],255&yt,yt>>16,Le,Re+(ze-1)*g)))}}function Oi(){ji[mu]=mv,ji[gu]=Yd,ji[Ud]=gv,ji[vu]=Kd,ji[yu]=Qd,ji[eh]=Xd,ji[$d]=vv,ji[th]=Yd,ji[nh]=Kd,ji[_u]=Qd,ji[rh]=Xd}function u(l){return l&-16384?0>l?0:255:l>>yv}function v(l,f){return u((19077*l>>8)+(26149*f>>8)-14234)}function k(l,f,g){return u((19077*l>>8)-(6419*f>>8)-(13320*g>>8)+8708)}function z(l,f){return u((19077*l>>8)+(33050*f>>8)-17685)}function me(l,f,g,A,D){A[D+0]=v(l,g),A[D+1]=k(l,f,g),A[D+2]=z(l,f)}function Se(l,f,g,A,D){A[D+0]=z(l,f),A[D+1]=k(l,f,g),A[D+2]=v(l,g)}function Ge(l,f,g,A,D){var O=k(l,f,g);f=O<<3&224|z(l,f)>>3,A[D+0]=248&v(l,g)|O>>5,A[D+1]=f}function Zt(l,f,g,A,D){var O=240&z(l,f)|15;A[D+0]=240&v(l,g)|k(l,f,g)>>4,A[D+1]=O}function Bn(l,f,g,A,D){A[D+0]=255,me(l,f,g,A,D+1)}function Wt(l,f,g,A,D){Se(l,f,g,A,D),A[D+3]=255}function un(l,f,g,A,D){me(l,f,g,A,D),A[D+3]=255}function Sn(l,f,g){b[l]=function(A,D,O,j,q,$,Y,ie,Ae){for(var K=ie+(-2&Ae)*g;ie!=K;)f(A[D+0],O[j+0],q[$+0],Y,ie),f(A[D+1],O[j+0],q[$+0],Y,ie+g),D+=2,++j,++$,ie+=2*g;1&Ae&&f(A[D+0],O[j+0],q[$+0],Y,ie)}}function pi(l,f,g){return g==0?l==0?f==0?6:5:f==0?4:0:g}function Mr(l,f,g,A,D){switch(l>>>30){case 3:Gs(f,g,A,D,0);break;case 2:Fi(f,g,A,D);break;case 1:hn(f,g,A,D)}}function xr(l,f){var g,A,D=f.M,O=f.Nb,j=l.oc,q=l.pc+40,$=l.oc,Y=l.pc+584,ie=l.oc,Ae=l.pc+600;for(g=0;16>g;++g)j[q+32*g-1]=129;for(g=0;8>g;++g)$[Y+32*g-1]=129,ie[Ae+32*g-1]=129;for(0<D?j[q-1-32]=$[Y-1-32]=ie[Ae-1-32]=129:(i(j,q-32-1,127,21),i($,Y-32-1,127,9),i(ie,Ae-32-1,127,9)),A=0;A<l.za;++A){var K=f.ya[f.aa+A];if(0<A){for(g=-1;16>g;++g)r(j,q+32*g-4,j,q+32*g+12,4);for(g=-1;8>g;++g)r($,Y+32*g-4,$,Y+32*g+4,4),r(ie,Ae+32*g-4,ie,Ae+32*g+4,4)}var ce=l.Gd,ve=l.Hd+A,Ce=K.ad,we=K.Hc;if(0<D&&(r(j,q-32,ce[ve].y,0,16),r($,Y-32,ce[ve].f,0,8),r(ie,Ae-32,ce[ve].ea,0,8)),K.Za){var Le=j,Re=q-32+16;for(0<D&&(A>=l.za-1?i(Le,Re,ce[ve].y[15],4):r(Le,Re,ce[ve+1].y,0,4)),g=0;4>g;g++)Le[Re+128+g]=Le[Re+256+g]=Le[Re+384+g]=Le[Re+0+g];for(g=0;16>g;++g,we<<=2)Le=j,Re=q+Zd[g],Yi[K.Ob[g]](Le,Re),Mr(we,Ce,16*+g,Le,Re)}else if(Le=pi(A,D,K.Ob[0]),cs[Le](j,q),we!=0)for(g=0;16>g;++g,we<<=2)Mr(we,Ce,16*+g,j,q+Zd[g]);for(g=K.Gc,Le=pi(A,D,K.Dd),Oo[Le]($,Y),Oo[Le](ie,Ae),we=Ce,Le=$,Re=Y,255&(K=0|g)&&(170&K?vo(we,256,Le,Re):bn(we,256,Le,Re)),K=ie,we=Ae,255&(g>>=8)&&(170&g?vo(Ce,320,K,we):bn(Ce,320,K,we)),D<l.Ub-1&&(r(ce[ve].y,0,j,q+480,16),r(ce[ve].f,0,$,Y+224,8),r(ce[ve].ea,0,ie,Ae+224,8)),g=8*O*l.B,ce=l.sa,ve=l.ta+16*A+16*O*l.R,Ce=l.qa,K=l.ra+8*A+g,we=l.Ha,Le=l.Ia+8*A+g,g=0;16>g;++g)r(ce,ve+g*l.R,j,q+32*g,16);for(g=0;8>g;++g)r(Ce,K+g*l.B,$,Y+32*g,8),r(we,Le+g*l.B,ie,Ae+32*g,8)}}function Gi(l,f,g,A,D,O,j,q,$){var Y=[0],ie=[0],Ae=0,K=$!=null?$.kd:0,ce=$??new Fe;if(l==null||12>g)return 7;ce.data=l,ce.w=f,ce.ha=g,f=[f],g=[g],ce.gb=[ce.gb];e:{var ve=f,Ce=g,we=ce.gb;if(e(l!=null),e(Ce!=null),e(we!=null),we[0]=0,12<=Ce[0]&&!n(l,ve[0],"RIFF")){if(n(l,ve[0]+8,"WEBP")){we=3;break e}var Le=st(l,ve[0]+4);if(12>Le||4294967286<Le){we=3;break e}if(K&&Le>Ce[0]-8){we=7;break e}we[0]=Le,ve[0]+=12,Ce[0]-=12}we=0}if(we!=0)return we;for(Le=0<ce.gb[0],g=g[0];;){e:{var Re=l;Ce=f,we=g;var ze=Y,je=ie,Tt=ve=[0];if((yt=Ae=[Ae])[0]=0,8>we[0])we=7;else{if(!n(Re,Ce[0],"VP8X")){if(st(Re,Ce[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var ft=st(Re,Ce[0]+8),Bt=1+Xe(Re,Ce[0]+12);if(2147483648<=Bt*(Re=1+Xe(Re,Ce[0]+15))){we=3;break e}Tt!=null&&(Tt[0]=ft),ze!=null&&(ze[0]=Bt),je!=null&&(je[0]=Re),Ce[0]+=18,we[0]-=18,yt[0]=1}we=0}}if(Ae=Ae[0],ve=ve[0],we!=0)return we;if(Ce=!!(2&ve),!Le&&Ae)return 3;if(O!=null&&(O[0]=!!(16&ve)),j!=null&&(j[0]=Ce),q!=null&&(q[0]=0),j=Y[0],ve=ie[0],Ae&&Ce&&$==null){we=0;break}if(4>g){we=7;break}if(Le&&Ae||!Le&&!Ae&&!n(l,f[0],"ALPH")){g=[g],ce.na=[ce.na],ce.P=[ce.P],ce.Sa=[ce.Sa];e:{ft=l,we=f,Le=g;var yt=ce.gb;ze=ce.na,je=ce.P,Tt=ce.Sa,Bt=22,e(ft!=null),e(Le!=null),Re=we[0];var en=Le[0];for(e(ze!=null),e(Tt!=null),ze[0]=null,je[0]=null,Tt[0]=0;;){if(we[0]=Re,Le[0]=en,8>en){we=7;break e}var hr=st(ft,Re+4);if(4294967286<hr){we=3;break e}var qt=8+hr+1&-2;if(Bt+=qt,0<yt&&Bt>yt){we=3;break e}if(!n(ft,Re,"VP8 ")||!n(ft,Re,"VP8L")){we=0;break e}if(en[0]<qt){we=7;break e}n(ft,Re,"ALPH")||(ze[0]=ft,je[0]=Re+8,Tt[0]=hr),Re+=qt,en-=qt}}if(g=g[0],ce.na=ce.na[0],ce.P=ce.P[0],ce.Sa=ce.Sa[0],we!=0)break}g=[g],ce.Ja=[ce.Ja],ce.xa=[ce.xa];e:if(yt=l,we=f,Le=g,ze=ce.gb[0],je=ce.Ja,Tt=ce.xa,ft=we[0],Re=!n(yt,ft,"VP8 "),Bt=!n(yt,ft,"VP8L"),e(yt!=null),e(Le!=null),e(je!=null),e(Tt!=null),8>Le[0])we=7;else{if(Re||Bt){if(yt=st(yt,ft+4),12<=ze&&yt>ze-12){we=3;break e}if(K&&yt>Le[0]-8){we=7;break e}je[0]=yt,we[0]+=8,Le[0]-=8,Tt[0]=Bt}else Tt[0]=5<=Le[0]&&yt[ft+0]==47&&!(yt[ft+4]>>5),je[0]=Le[0];we=0}if(g=g[0],ce.Ja=ce.Ja[0],ce.xa=ce.xa[0],f=f[0],we!=0)break;if(4294967286<ce.Ja)return 3;if(q==null||Ce||(q[0]=ce.xa?2:1),j=[j],ve=[ve],ce.xa){if(5>g){we=7;break}q=j,K=ve,Ce=O,l==null||5>g?l=0:5<=g&&l[f+0]==47&&!(l[f+4]>>5)?(Le=[0],yt=[0],ze=[0],fe(je=new H,l,f,g),ni(je,Le,yt,ze)?(q!=null&&(q[0]=Le[0]),K!=null&&(K[0]=yt[0]),Ce!=null&&(Ce[0]=ze[0]),l=1):l=0):l=0}else{if(10>g){we=7;break}q=ve,l==null||10>g||!va(l,f+3,g-3)?l=0:(K=l[f+0]|l[f+1]<<8|l[f+2]<<16,Ce=16383&(l[f+7]<<8|l[f+6]),l=16383&(l[f+9]<<8|l[f+8]),1&K||3<(K>>1&7)||!(K>>4&1)||K>>5>=ce.Ja||!Ce||!l?l=0:(j&&(j[0]=Ce),q&&(q[0]=l),l=1))}if(!l||(j=j[0],ve=ve[0],Ae&&(Y[0]!=j||ie[0]!=ve)))return 3;$!=null&&($[0]=ce,$.offset=f-$.w,e(4294967286>f-$.w),e($.offset==$.ha-g));break}return we==0||we==7&&Ae&&$==null?(O!=null&&(O[0]|=ce.na!=null&&0<ce.na.length),A!=null&&(A[0]=j),D!=null&&(D[0]=ve),0):we}function vl(l,f,g){var A=f.width,D=f.height,O=0,j=0,q=A,$=D;if(f.Da=l!=null&&0<l.Da,f.Da&&(q=l.cd,$=l.bd,O=l.v,j=l.j,11>g||(O&=-2,j&=-2),0>O||0>j||0>=q||0>=$||O+q>A||j+$>D))return 0;if(f.v=O,f.j=j,f.va=O+q,f.o=j+$,f.U=q,f.T=$,f.da=l!=null&&0<l.da,f.da){if(!bt(q,$,g=[l.ib],O=[l.hb]))return 0;f.ib=g[0],f.hb=O[0]}return f.ob=l!=null&&l.ob,f.Kb=l==null||!l.Sd,f.da&&(f.ob=f.ib<3*A/4&&f.hb<3*D/4,f.Kb=0),1}function yl(l){if(l==null)return 2;if(11>l.S){var f=l.f.RGBA;f.fb+=(l.height-1)*f.A,f.A=-f.A}else f=l.f.kb,l=l.height,f.O+=(l-1)*f.fa,f.fa=-f.fa,f.N+=(l-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(l-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(l-1)*f.lb,f.lb=-f.lb);return 0}function rs(l,f,g,A){if(A==null||0>=l||0>=f)return 2;if(g!=null){if(g.Da){var D=g.cd,O=g.bd,j=-2&g.v,q=-2&g.j;if(0>j||0>q||0>=D||0>=O||j+D>l||q+O>f)return 2;l=D,f=O}if(g.da){if(!bt(l,f,D=[g.ib],O=[g.hb]))return 2;l=D[0],f=O[0]}}A.width=l,A.height=f;e:{var $=A.width,Y=A.height;if(l=A.S,0>=$||0>=Y||!(l>=mu&&13>l))l=2;else{if(0>=A.Rd&&A.sd==null){j=O=D=f=0;var ie=(q=$*ep[l])*Y;if(11>l||(O=(Y+1)/2*(f=($+1)/2),l==12&&(j=(D=$)*Y)),(Y=o(ie+2*O+j))==null){l=1;break e}A.sd=Y,11>l?(($=A.f.RGBA).eb=Y,$.fb=0,$.A=q,$.size=ie):(($=A.f.kb).y=Y,$.O=0,$.fa=q,$.Fd=ie,$.f=Y,$.N=0+ie,$.Ab=f,$.Cd=O,$.ea=Y,$.W=0+ie+O,$.Db=f,$.Ed=O,l==12&&($.F=Y,$.J=0+ie+2*O),$.Tc=j,$.lb=D)}if(f=1,D=A.S,O=A.width,j=A.height,D>=mu&&13>D)if(11>D)l=A.f.RGBA,f&=(q=Math.abs(l.A))*(j-1)+O<=l.size,f&=q>=O*ep[D],f&=l.eb!=null;else{l=A.f.kb,q=(O+1)/2,ie=(j+1)/2,$=Math.abs(l.fa),Y=Math.abs(l.Ab);var Ae=Math.abs(l.Db),K=Math.abs(l.lb),ce=K*(j-1)+O;f&=$*(j-1)+O<=l.Fd,f&=Y*(ie-1)+q<=l.Cd,f=(f&=Ae*(ie-1)+q<=l.Ed)&$>=O&Y>=q&Ae>=q,f&=l.y!=null,f&=l.f!=null,f&=l.ea!=null,D==12&&(f&=K>=O,f&=ce<=l.Tc,f&=l.F!=null)}else f=0;l=f?0:2}}return l!=0||g!=null&&g.fd&&(l=yl(A)),l}var Hs=64,mi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],gi=24,is=32,Do=8,os=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];tt("Predictor0","PredictorAdd0"),b.Predictor0=function(){return 4278190080},b.Predictor1=function(l){return l},b.Predictor2=function(l,f,g){return f[g+0]},b.Predictor3=function(l,f,g){return f[g+1]},b.Predictor4=function(l,f,g){return f[g-1]},b.Predictor5=function(l,f,g){return De(De(l,f[g+1]),f[g+0])},b.Predictor6=function(l,f,g){return De(l,f[g-1])},b.Predictor7=function(l,f,g){return De(l,f[g+0])},b.Predictor8=function(l,f,g){return De(f[g-1],f[g+0])},b.Predictor9=function(l,f,g){return De(f[g+0],f[g+1])},b.Predictor10=function(l,f,g){return De(De(l,f[g-1]),De(f[g+0],f[g+1]))},b.Predictor11=function(l,f,g){var A=f[g+0];return 0>=Ye(A>>24&255,l>>24&255,(f=f[g-1])>>24&255)+Ye(A>>16&255,l>>16&255,f>>16&255)+Ye(A>>8&255,l>>8&255,f>>8&255)+Ye(255&A,255&l,255&f)?A:l},b.Predictor12=function(l,f,g){var A=f[g+0];return(rt((l>>24&255)+(A>>24&255)-((f=f[g-1])>>24&255))<<24|rt((l>>16&255)+(A>>16&255)-(f>>16&255))<<16|rt((l>>8&255)+(A>>8&255)-(f>>8&255))<<8|rt((255&l)+(255&A)-(255&f)))>>>0},b.Predictor13=function(l,f,g){var A=f[g-1];return(ct((l=De(l,f[g+0]))>>24&255,A>>24&255)<<24|ct(l>>16&255,A>>16&255)<<16|ct(l>>8&255,A>>8&255)<<8|ct(255&l,255&A))>>>0};var _l=b.PredictorAdd0;b.PredictorAdd1=We,tt("Predictor2","PredictorAdd2"),tt("Predictor3","PredictorAdd3"),tt("Predictor4","PredictorAdd4"),tt("Predictor5","PredictorAdd5"),tt("Predictor6","PredictorAdd6"),tt("Predictor7","PredictorAdd7"),tt("Predictor8","PredictorAdd8"),tt("Predictor9","PredictorAdd9"),tt("Predictor10","PredictorAdd10"),tt("Predictor11","PredictorAdd11"),tt("Predictor12","PredictorAdd12"),tt("Predictor13","PredictorAdd13");var xa=b.PredictorAdd2;pe("ColorIndexInverseTransform","MapARGB","32b",function(l){return l>>8&255},function(l){return l}),pe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(l){return l},function(l){return l>>8&255});var Jn,fu=b.ColorIndexInverseTransform,mo=b.MapARGB,go=b.VP8LColorIndexInverseTransformAlpha,bl=b.MapAlpha,wl=b.VP8LPredictorsAdd=[];wl.length=16,(b.VP8LPredictors=[]).length=16,(b.VP8LPredictorsAdd_C=[]).length=16,(b.VP8LPredictors_C=[]).length=16;var Al,Sl,ss,as,ls,Ws,us,Gs,Fi,vo,hn,bn,Zn,cr,Mo,xl,Ta,du,Cd,Nd,Ld,Pd,Rd,Dd,Tl,Md,Od,Fd,Vd=o(511),jd=o(2041),Bd=o(225),qd=o(767),zd=0,Zc=jd,pu=Bd,vi=qd,Vi=Vd,mu=0,gu=1,Ud=2,vu=3,yu=4,eh=5,$d=6,th=7,nh=8,_u=9,rh=10,tv=[2,3,7],nv=[3,3,11],Hd=[280,256,256,256,40],rv=[0,1,1,1,0],iv=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ov=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],sv=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],av=8,ih=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],oh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],kl=null,lv=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],uv=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Wd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],cv=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],hv=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],fv=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],dv=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],cs=[],Yi=[],Oo=[],pv=1,Gd=2,hs=[],ji=[];Mi("UpsampleRgbLinePair",me,3),Mi("UpsampleBgrLinePair",Se,3),Mi("UpsampleRgbaLinePair",un,4),Mi("UpsampleBgraLinePair",Wt,4),Mi("UpsampleArgbLinePair",Bn,4),Mi("UpsampleRgba4444LinePair",Zt,2),Mi("UpsampleRgb565LinePair",Ge,2);var mv=b.UpsampleRgbLinePair,gv=b.UpsampleBgrLinePair,Yd=b.UpsampleRgbaLinePair,Kd=b.UpsampleBgraLinePair,Qd=b.UpsampleArgbLinePair,Xd=b.UpsampleRgba4444LinePair,vv=b.UpsampleRgb565LinePair,bu=16,wu=1<<bu-1,El=-227,sh=482,yv=6,Jd=0,_v=o(256),bv=o(256),wv=o(256),Av=o(256),Sv=o(sh-El),xv=o(sh-El);Sn("YuvToRgbRow",me,3),Sn("YuvToBgrRow",Se,3),Sn("YuvToRgbaRow",un,4),Sn("YuvToBgraRow",Wt,4),Sn("YuvToArgbRow",Bn,4),Sn("YuvToRgba4444Row",Zt,2),Sn("YuvToRgb565Row",Ge,2);var Zd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Au=[0,2,8],Tv=[8,7,6,4,4,2,2,2,1,1,1,1],kv=1;this.WebPDecodeRGBA=function(l,f,g,A,D){var O=gu,j=new Ne,q=new Mt;j.ba=q,q.S=O,q.width=[q.width],q.height=[q.height];var $=q.width,Y=q.height,ie=new vt;if(ie==null||l==null)var Ae=2;else e(ie!=null),Ae=Gi(l,f,g,ie.width,ie.height,ie.Pd,ie.Qd,ie.format,null);if(Ae!=0?$=0:($!=null&&($[0]=ie.width[0]),Y!=null&&(Y[0]=ie.height[0]),$=1),$){q.width=q.width[0],q.height=q.height[0],A!=null&&(A[0]=q.width),D!=null&&(D[0]=q.height);e:{if(A=new uo,(D=new Fe).data=l,D.w=f,D.ha=g,D.kd=1,f=[0],e(D!=null),((l=Gi(D.data,D.w,D.ha,null,null,null,f,null,D))==0||l==7)&&f[0]&&(l=4),(f=l)==0){if(e(j!=null),A.data=D.data,A.w=D.w+D.offset,A.ha=D.ha-D.offset,A.put=Et,A.ac=or,A.bc=yn,A.ma=j,D.xa){if((l=so())==null){j=1;break e}if(function(K,ce){var ve=[0],Ce=[0],we=[0];t:for(;;){if(K==null)return 0;if(ce==null)return K.a=2,0;if(K.l=ce,K.a=0,fe(K.m,ce.data,ce.w,ce.ha),!ni(K.m,ve,Ce,we)){K.a=3;break t}if(K.xb=Gd,ce.width=ve[0],ce.height=Ce[0],!hi(ve[0],Ce[0],1,K,null))break t;return 1}return e(K.a!=0),0}(l,A)){if(A=(f=rs(A.width,A.height,j.Oa,j.ba))==0){t:{A=l;n:for(;;){if(A==null){A=0;break t}if(e(A.s.yc!=null),e(A.s.Ya!=null),e(0<A.s.Wb),e((g=A.l)!=null),e((D=g.ma)!=null),A.xb!=0){if(A.ca=D.ba,A.tb=D.tb,e(A.ca!=null),!vl(D.Oa,g,vu)){A.a=2;break n}if(!$i(A,g.width)||g.da)break n;if((g.da||lt(A.ca.S))&&oi(),11>A.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),A.ca.f.kb.F!=null&&oi()),A.Pb&&0<A.s.ua&&A.s.vb.X==null&&!W(A.s.vb,A.s.Wa.Xa)){A.a=1;break n}A.xb=0}if(!Dr(A,A.V,A.Ba,A.c,A.i,g.o,at))break n;D.Dc=A.Ma,A=1;break t}e(A.a!=0),A=0}A=!A}A&&(f=l.a)}else f=l.a}else{if((l=new ga)==null){j=1;break e}if(l.Fa=D.na,l.P=D.P,l.qc=D.Sa,Ii(l,A)){if((f=rs(A.width,A.height,j.Oa,j.ba))==0){if(l.Aa=0,g=j.Oa,e((D=l)!=null),g!=null){if(0<($=0>($=g.Md)?0:100<$?255:255*$/100)){for(Y=ie=0;4>Y;++Y)12>(Ae=D.pb[Y]).lc&&(Ae.ia=$*Tv[0>Ae.lc?0:Ae.lc]>>3),ie|=Ae.ia;ie&&(alert("todo:VP8InitRandom"),D.ia=1)}D.Ga=g.Id,100<D.Ga?D.Ga=100:0>D.Ga&&(D.Ga=0)}(function(K,ce){if(K==null)return 0;if(ce==null)return On(K,2,"NULL VP8Io parameter in VP8Decode().");if(!K.cb&&!Ii(K,ce))return 0;if(e(K.cb),ce.ac==null||ce.ac(ce)){ce.ob&&(K.L=0);var ve=Au[K.L];if(K.L==2?(K.yb=0,K.zb=0):(K.yb=ce.v-ve>>4,K.zb=ce.j-ve>>4,0>K.yb&&(K.yb=0),0>K.zb&&(K.zb=0)),K.Va=ce.o+15+ve>>4,K.Hb=ce.va+15+ve>>4,K.Hb>K.za&&(K.Hb=K.za),K.Va>K.Ub&&(K.Va=K.Ub),0<K.L){var Ce=K.ed;for(ve=0;4>ve;++ve){var we;if(K.Qa.Cb){var Le=K.Qa.Lb[ve];K.Qa.Fb||(Le+=Ce.Tb)}else Le=Ce.Tb;for(we=0;1>=we;++we){var Re=K.gd[ve][we],ze=Le;if(Ce.Pc&&(ze+=Ce.vd[0],we&&(ze+=Ce.od[0])),0<(ze=0>ze?0:63<ze?63:ze)){var je=ze;0<Ce.wb&&(je=4<Ce.wb?je>>2:je>>1)>9-Ce.wb&&(je=9-Ce.wb),1>je&&(je=1),Re.dd=je,Re.tc=2*ze+je,Re.ld=40<=ze?2:15<=ze?1:0}else Re.tc=0;Re.La=we}}}ve=0}else On(K,6,"Frame setup failed"),ve=K.a;if(ve=ve==0){if(ve){K.$c=0,0<K.Aa||(K.Ic=kv);t:{ve=K.Ic,Ce=4*(je=K.za);var Tt=32*je,ft=je+1,Bt=0<K.L?je*(0<K.Aa?2:1):0,yt=(K.Aa==2?2:1)*je;if((Re=Ce+832+(we=3*(16*ve+Au[K.L])/2*Tt)+(Le=K.Fa!=null&&0<K.Fa.length?K.Kc.c*K.Kc.i:0))!=Re)ve=0;else{if(Re>K.Vb){if(K.Vb=0,K.Ec=o(Re),K.Fc=0,K.Ec==null){ve=On(K,1,"no memory during frame initialization.");break t}K.Vb=Re}Re=K.Ec,ze=K.Fc,K.Ac=Re,K.Bc=ze,ze+=Ce,K.Gd=s(Tt,Fs),K.Hd=0,K.rb=s(ft+1,fi),K.sb=1,K.wa=Bt?s(Bt,vr):null,K.Y=0,K.D.Nb=0,K.D.wa=K.wa,K.D.Y=K.Y,0<K.Aa&&(K.D.Y+=je),e(!0),K.oc=Re,K.pc=ze,ze+=832,K.ya=s(yt,Ms),K.aa=0,K.D.ya=K.ya,K.D.aa=K.aa,K.Aa==2&&(K.D.aa+=je),K.R=16*je,K.B=8*je,je=(Tt=Au[K.L])*K.R,Tt=Tt/2*K.B,K.sa=Re,K.ta=ze+je,K.qa=K.sa,K.ra=K.ta+16*ve*K.R+Tt,K.Ha=K.qa,K.Ia=K.ra+8*ve*K.B+Tt,K.$c=0,ze+=we,K.mb=Le?Re:null,K.nb=Le?ze:null,e(ze+Le<=K.Fc+K.Vb),js(K),i(K.Ac,K.Bc,0,Ce),ve=1}}if(ve){if(ce.ka=0,ce.y=K.sa,ce.O=K.ta,ce.f=K.qa,ce.N=K.ra,ce.ea=K.Ha,ce.Vd=K.Ia,ce.fa=K.R,ce.Rc=K.B,ce.F=null,ce.J=0,!zd){for(ve=-255;255>=ve;++ve)Vd[255+ve]=0>ve?-ve:ve;for(ve=-1020;1020>=ve;++ve)jd[1020+ve]=-128>ve?-128:127<ve?127:ve;for(ve=-112;112>=ve;++ve)Bd[112+ve]=-16>ve?-16:15<ve?15:ve;for(ve=-255;510>=ve;++ve)qd[255+ve]=0>ve?0:255<ve?255:ve;zd=1}us=Ci,Gs=ya,vo=Kt,hn=No,bn=co,Fi=Xo,Zn=ns,cr=Di,Mo=P,xl=G,Ta=$s,du=m,Cd=te,Nd=de,Ld=po,Pd=Kr,Rd=Us,Dd=Sa,Yi[0]=ml,Yi[1]=_a,Yi[2]=dl,Yi[3]=pl,Yi[4]=yr,Yi[5]=gl,Yi[6]=Hi,Yi[7]=Zo,Yi[8]=es,Yi[9]=Wi,cs[0]=Ni,cs[1]=fl,cs[2]=Bs,cs[3]=ba,cs[4]=ho,cs[5]=Jo,cs[6]=wa,Oo[0]=qs,Oo[1]=hl,Oo[2]=di,Oo[3]=Po,Oo[4]=zs,Oo[5]=vn,Oo[6]=Aa,ve=1}else ve=0}ve&&(ve=function(en,hr){for(en.M=0;en.M<en.Va;++en.M){var qt,_t=en.Jc[en.M&en.Xb],nt=en.m,er=en;for(qt=0;qt<er.za;++qt){var Vt=nt,tn=er,kn=tn.Ac,Tr=tn.Bc+4*qt,Xr=tn.zc,Hn=tn.ya[tn.aa+qt];if(tn.Qa.Bb?Hn.$b=Ie(Vt,tn.Pa.jb[0])?2+Ie(Vt,tn.Pa.jb[2]):Ie(Vt,tn.Pa.jb[1]):Hn.$b=0,tn.kc&&(Hn.Ad=Ie(Vt,tn.Bd)),Hn.Za=!Ie(Vt,145)+0,Hn.Za){var Or=Hn.Ob,Jr=0;for(tn=0;4>tn;++tn){var fr,sn=Xr[0+tn];for(fr=0;4>fr;++fr){sn=hv[kn[Tr+fr]][sn];for(var pn=Wd[Ie(Vt,sn[0])];0<pn;)pn=Wd[2*pn+Ie(Vt,sn[pn])];sn=-pn,kn[Tr+fr]=sn}r(Or,Jr,kn,Tr,4),Jr+=4,Xr[0+tn]=sn}}else sn=Ie(Vt,156)?Ie(Vt,128)?1:3:Ie(Vt,163)?2:0,Hn.Ob[0]=sn,i(kn,Tr,sn,4),i(Xr,0,sn,4);Hn.Dd=Ie(Vt,142)?Ie(Vt,114)?Ie(Vt,183)?1:3:2:0}if(er.m.Ka)return On(en,7,"Premature end-of-partition0 encountered.");for(;en.ja<en.za;++en.ja){if(er=_t,Vt=(nt=en).rb[nt.sb-1],kn=nt.rb[nt.sb+nt.ja],qt=nt.ya[nt.aa+nt.ja],Tr=nt.kc?qt.Ad:0)Vt.la=kn.la=0,qt.Za||(Vt.Na=kn.Na=0),qt.Hc=0,qt.Gc=0,qt.ia=0;else{var Wn,mn;if(Vt=kn,kn=er,Tr=nt.Pa.Xc,Xr=nt.ya[nt.aa+nt.ja],Hn=nt.pb[Xr.$b],tn=Xr.ad,Or=0,Jr=nt.rb[nt.sb-1],sn=fr=0,i(tn,Or,0,384),Xr.Za)var kr=0,Ki=Tr[3];else{pn=o(16);var tr=Vt.Na+Jr.Na;if(tr=kl(kn,Tr[1],tr,Hn.Eb,0,pn,0),Vt.Na=Jr.Na=(0<tr)+0,1<tr)us(pn,0,tn,Or);else{var si=pn[0]+3>>3;for(pn=0;256>pn;pn+=16)tn[Or+pn]=si}kr=1,Ki=Tr[0]}var wn=15&Vt.la,dr=15&Jr.la;for(pn=0;4>pn;++pn){var yi=1&dr;for(si=mn=0;4>si;++si)wn=wn>>1|(yi=(tr=kl(kn,Ki,tr=yi+(1&wn),Hn.Sc,kr,tn,Or))>kr)<<7,mn=mn<<2|(3<tr?3:1<tr?2:tn[Or+0]!=0),Or+=16;wn>>=4,dr=dr>>1|yi<<7,fr=(fr<<8|mn)>>>0}for(Ki=wn,kr=dr>>4,Wn=0;4>Wn;Wn+=2){for(mn=0,wn=Vt.la>>4+Wn,dr=Jr.la>>4+Wn,pn=0;2>pn;++pn){for(yi=1&dr,si=0;2>si;++si)tr=yi+(1&wn),wn=wn>>1|(yi=0<(tr=kl(kn,Tr[2],tr,Hn.Qc,0,tn,Or)))<<3,mn=mn<<2|(3<tr?3:1<tr?2:tn[Or+0]!=0),Or+=16;wn>>=2,dr=dr>>1|yi<<5}sn|=mn<<4*Wn,Ki|=wn<<4<<Wn,kr|=(240&dr)<<Wn}Vt.la=Ki,Jr.la=kr,Xr.Hc=fr,Xr.Gc=sn,Xr.ia=43690&sn?0:Hn.ia,Tr=!(fr|sn)}if(0<nt.L&&(nt.wa[nt.Y+nt.ja]=nt.gd[qt.$b][qt.Za],nt.wa[nt.Y+nt.ja].La|=!Tr),er.Ka)return On(en,7,"Premature end-of-file encountered.")}if(js(en),nt=hr,er=1,qt=(_t=en).D,Vt=0<_t.L&&_t.M>=_t.zb&&_t.M<=_t.Va,_t.Aa==0)t:{if(qt.M=_t.M,qt.uc=Vt,xr(_t,qt),er=1,qt=(mn=_t.D).Nb,Vt=(sn=Au[_t.L])*_t.R,kn=sn/2*_t.B,pn=16*qt*_t.R,si=8*qt*_t.B,Tr=_t.sa,Xr=_t.ta-Vt+pn,Hn=_t.qa,tn=_t.ra-kn+si,Or=_t.Ha,Jr=_t.Ia-kn+si,dr=(wn=mn.M)==0,fr=wn>=_t.Va-1,_t.Aa==2&&xr(_t,mn),mn.uc)for(yi=(tr=_t).D.M,e(tr.D.uc),mn=tr.yb;mn<tr.Hb;++mn){kr=mn,Ki=yi;var Zr=(_i=(Er=tr).D).Nb;Wn=Er.R;var _i=_i.wa[_i.Y+kr],bi=Er.sa,ai=Er.ta+16*Zr*Wn+16*kr,wi=_i.dd,xn=_i.tc;if(xn!=0)if(e(3<=xn),Er.L==1)0<kr&&Pd(bi,ai,Wn,xn+4),_i.La&&Dd(bi,ai,Wn,xn),0<Ki&&Ld(bi,ai,Wn,xn+4),_i.La&&Rd(bi,ai,Wn,xn);else{var Ai=Er.B,Qi=Er.qa,Ys=Er.ra+8*Zr*Ai+8*kr,Fo=Er.Ha,Er=Er.Ia+8*Zr*Ai+8*kr;Zr=_i.ld,0<kr&&(cr(bi,ai,Wn,xn+4,wi,Zr),xl(Qi,Ys,Fo,Er,Ai,xn+4,wi,Zr)),_i.La&&(du(bi,ai,Wn,xn,wi,Zr),Nd(Qi,Ys,Fo,Er,Ai,xn,wi,Zr)),0<Ki&&(Zn(bi,ai,Wn,xn+4,wi,Zr),Mo(Qi,Ys,Fo,Er,Ai,xn+4,wi,Zr)),_i.La&&(Ta(bi,ai,Wn,xn,wi,Zr),Cd(Qi,Ys,Fo,Er,Ai,xn,wi,Zr))}}if(_t.ia&&alert("todo:DitherRow"),nt.put!=null){if(mn=16*wn,wn=16*(wn+1),dr?(nt.y=_t.sa,nt.O=_t.ta+pn,nt.f=_t.qa,nt.N=_t.ra+si,nt.ea=_t.Ha,nt.W=_t.Ia+si):(mn-=sn,nt.y=Tr,nt.O=Xr,nt.f=Hn,nt.N=tn,nt.ea=Or,nt.W=Jr),fr||(wn-=sn),wn>nt.o&&(wn=nt.o),nt.F=null,nt.J=null,_t.Fa!=null&&0<_t.Fa.length&&mn<wn&&(nt.J=dn(_t,nt,mn,wn-mn),nt.F=_t.mb,nt.F==null&&nt.F.length==0)){er=On(_t,3,"Could not decode alpha data.");break t}mn<nt.j&&(sn=nt.j-mn,mn=nt.j,e(!(1&sn)),nt.O+=_t.R*sn,nt.N+=_t.B*(sn>>1),nt.W+=_t.B*(sn>>1),nt.F!=null&&(nt.J+=nt.width*sn)),mn<wn&&(nt.O+=nt.v,nt.N+=nt.v>>1,nt.W+=nt.v>>1,nt.F!=null&&(nt.J+=nt.v),nt.ka=mn-nt.j,nt.U=nt.va-nt.v,nt.T=wn-mn,er=nt.put(nt))}qt+1!=_t.Ic||fr||(r(_t.sa,_t.ta-Vt,Tr,Xr+16*_t.R,Vt),r(_t.qa,_t.ra-kn,Hn,tn+8*_t.B,kn),r(_t.Ha,_t.Ia-kn,Or,Jr+8*_t.B,kn))}if(!er)return On(en,6,"Output aborted.")}return 1}(K,ce)),ce.bc!=null&&ce.bc(ce),ve&=1}return ve?(K.cb=0,ve):0})(l,A)||(f=l.a)}}else f=l.a}f==0&&j.Oa!=null&&j.Oa.fd&&(f=yl(j.ba))}j=f}O=j!=0?null:11>O?q.f.RGBA.eb:q.f.kb.y}else O=null;return O};var ep=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(b,I){for(var _="",w=0;w<4;w++)_+=String.fromCharCode(b[I++]);return _}function d(b,I){return b[I+0]|b[I+1]<<8}function y(b,I){return(b[I+0]|b[I+1]<<8|b[I+2]<<16)>>>0}function S(b,I){return(b[I+0]|b[I+1]<<8|b[I+2]<<16|b[I+3]<<24)>>>0}new c;var p=[0],N=[0],R=[],L=new c,C=t,F=function(b,I){var _={},w=0,x=!1,U=0,re=0;if(_.frames=[],!function(T,H){for(var X=0;X<4;X++)if(T[H+X]!="RIFF".charCodeAt(X))return!0;return!1}(b,I)){for(S(b,I+=4),I+=8;I<b.length;){var le=h(b,I),ae=S(b,I+=4);I+=4;var J=ae+(1&ae);switch(le){case"VP8 ":case"VP8L":_.frames[w]===void 0&&(_.frames[w]={}),(ge=_.frames[w]).src_off=x?re:I-8,ge.src_size=U+ae+8,w++,x&&(x=!1,U=0,re=0);break;case"VP8X":(ge=_.header={}).feature_flags=b[I];var fe=I+4;ge.canvas_width=1+y(b,fe),fe+=3,ge.canvas_height=1+y(b,fe),fe+=3;break;case"ALPH":x=!0,U=J+8,re=I-8;break;case"ANIM":(ge=_.header).bgcolor=S(b,I),fe=I+4,ge.loop_count=d(b,fe),fe+=2;break;case"ANMF":var be,ge;(ge=_.frames[w]={}).offset_x=2*y(b,I),I+=3,ge.offset_y=2*y(b,I),I+=3,ge.width=1+y(b,I),I+=3,ge.height=1+y(b,I),I+=3,ge.duration=y(b,I),I+=3,be=b[I++],ge.dispose=1&be,ge.blend=be>>1&1}le!="ANMF"&&(I+=J)}return _}}(C,0);F.response=C,F.rgbaoutput=!0,F.dataurl=!1;var B=F.header?F.header:null,M=F.frames?F.frames:null;if(B){B.loop_counter=B.loop_count,p=[B.canvas_height],N=[B.canvas_width];for(var Z=0;Z<M.length&&M[Z].blend!=0;Z++);}var ue=M[0],V=L.WebPDecodeRGBA(C,ue.src_off,ue.src_size,N,p);ue.rgba=V,ue.imgwidth=N[0],ue.imgheight=p[0];for(var E=0;E<N[0]*p[0]*4;E++)R[E]=V[E];return this.width=N,this.height=p,this.data=R,this}(function(t){var e,n,r,i,o,s,a,c,h,d=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new c,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new s,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new s,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,c=this.internal.Matrix,h=new d}]);var y=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=T;Object.defineProperty(this,"pdf",{get:function(){return H}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(W){X=!!W}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(W){ee=!!W}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(W){isNaN(W)||(ne=W)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(W){isNaN(W)||(he=W)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(W){var Qe;typeof W=="number"?Qe=[W,W,W,W]:((Qe=new Array(4))[0]=W[0],Qe[1]=W.length>=2?W[1]:Qe[0],Qe[2]=W.length>=3?W[2]:Qe[0],Qe[3]=W.length>=4?W[3]:Qe[1]),h.margin=Qe}});var ke=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ke},set:function(W){ke=W}});var Te=0;Object.defineProperty(this,"lastBreak",{get:function(){return Te},set:function(W){Te=W}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function(W){Ie=W}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(W){W instanceof d&&(h=W)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(W){h.path=W}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(W){Pe=W}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(W){var Qe;Qe=S(W),this.ctx.fillStyle=Qe.style,this.ctx.isFillTransparent=Qe.a===0,this.ctx.fillOpacity=Qe.a,this.pdf.setFillColor(Qe.r,Qe.g,Qe.b,{a:Qe.a}),this.pdf.setTextColor(Qe.r,Qe.g,Qe.b,{a:Qe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(W){var Qe=S(W);this.ctx.strokeStyle=Qe.style,this.ctx.isStrokeTransparent=Qe.a===0,this.ctx.strokeOpacity=Qe.a,Qe.a===0?this.pdf.setDrawColor(255,255,255):(Qe.a,this.pdf.setDrawColor(Qe.r,Qe.g,Qe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(W){["butt","round","square"].indexOf(W)!==-1&&(this.ctx.lineCap=W,this.pdf.setLineCap(W))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(W){isNaN(W)||(this.ctx.lineWidth=W,this.pdf.setLineWidth(W))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(W){["bevel","round","miter"].indexOf(W)!==-1&&(this.ctx.lineJoin=W,this.pdf.setLineJoin(W))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(W){isNaN(W)||(this.ctx.miterLimit=W,this.pdf.setMiterLimit(W))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(W){this.ctx.textBaseline=W}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(W){["right","end","center","left","start"].indexOf(W)!==-1&&(this.ctx.textAlign=W)}});var qe=null,Xe=null,st=null;Object.defineProperty(this,"fontFaces",{get:function(){return st},set:function(W){qe=null,Xe=null,st=W}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(W){var Qe;if(this.ctx.font=W,(Qe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(W))!==null){var At=Qe[1];Qe[2];var bt=Qe[3],Oe=Qe[4];Qe[5];var ht=Qe[6],tt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Oe)[2];Oe=Math.floor(tt==="px"?parseFloat(Oe)*this.pdf.internal.scaleFactor:tt==="em"?parseFloat(Oe)*this.pdf.getFontSize():parseFloat(Oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Oe);var Ee=function(pe){var Me,Ke,Ze=[],ot=pe.trim();if(ot==="")return Vh;if(ot in S1)return[S1[ot]];for(;ot!=="";){switch(Ke=null,Me=(ot=T1(ot)).charAt(0)){case'"':case"'":Ke=U_(ot.substring(1),Me);break;default:Ke=$_(ot)}if(Ke===null||(Ze.push(Ke[0]),(ot=T1(Ke[1]))!==""&&ot.charAt(0)!==","))return Vh;ot=ot.replace(/^,/,"")}return Ze}(ht);if(this.fontFaces){var De=function(pe,Me){var Ke=pe.getFontList(),Ze=JSON.stringify(Ke);if(qe===null||Xe!==Ze){var ot=function(Ut){var He=[];return Object.keys(Ut).forEach(function(Ct){Ut[Ct].forEach(function(lt){var Lt=null;switch(lt){case"bold":Lt={family:Ct,weight:"bold"};break;case"italic":Lt={family:Ct,style:"italic"};break;case"bolditalic":Lt={family:Ct,weight:"bold",style:"italic"};break;case"":case"normal":Lt={family:Ct}}Lt!==null&&(Lt.ref={name:Ct,style:lt},He.push(Lt))})}),He}(Ke);qe=function(Ut){for(var He={},Ct=0;Ct<Ut.length;++Ct){var lt=Fh(Ut[Ct]),Lt=lt.family,Yt=lt.stretch,Mt=lt.style,vt=lt.weight;He[Lt]=He[Lt]||{},He[Lt][Yt]=He[Lt][Yt]||{},He[Lt][Yt][Mt]=He[Lt][Yt][Mt]||{},He[Lt][Yt][Mt][vt]=lt}return He}(ot.concat(Me)),Xe=Ze}return qe}(this.pdf,this.fontFaces),rt=Ee.map(function(pe){return{family:pe,stretch:"normal",weight:bt,style:At}}),ct=function(pe,Me,Ke){for(var Ze=(Ke=Ke||{}).defaultFontFamily||"times",ot=Object.assign({},z_,Ke.genericFontFamilies||{}),Ut=null,He=null,Ct=0;Ct<Me.length;++Ct)if(ot[(Ut=Fh(Me[Ct])).family]&&(Ut.family=ot[Ut.family]),pe.hasOwnProperty(Ut.family)){He=pe[Ut.family];break}if(!(He=He||pe[Ze]))throw new Error("Could not find a font-family for the rule '"+x1(Ut)+"' and default family '"+Ze+"'.");if(He=function(lt,Lt){if(Lt[lt])return Lt[lt];var Yt=bf[lt],Mt=Yt<=bf.normal?-1:1,vt=A1(Lt,c2,Yt,Mt);if(!vt)throw new Error("Could not find a matching font-stretch value for "+lt);return vt}(Ut.stretch,He),He=function(lt,Lt){if(Lt[lt])return Lt[lt];for(var Yt=u2[lt],Mt=0;Mt<Yt.length;++Mt)if(Lt[Yt[Mt]])return Lt[Yt[Mt]];throw new Error("Could not find a matching font-style for "+lt)}(Ut.style,He),!(He=function(lt,Lt){if(Lt[lt])return Lt[lt];if(lt===400&&Lt[500])return Lt[500];if(lt===500&&Lt[400])return Lt[400];var Yt=q_[lt],Mt=A1(Lt,h2,Yt,lt<400?-1:1);if(!Mt)throw new Error("Could not find a matching font-weight for value "+lt);return Mt}(Ut.weight,He)))throw new Error("Failed to resolve a font for the rule '"+x1(Ut)+"'.");return He}(De,rt);this.pdf.setFont(ct.ref.name,ct.ref.style)}else{var Ye="";(bt==="bold"||parseInt(bt,10)>=700||At==="bold")&&(Ye="bold"),At==="italic"&&(Ye+="italic"),Ye.length===0&&(Ye="normal");for(var We="",it={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Je=0;Je<Ee.length;Je++){if(this.pdf.internal.getFont(Ee[Je],Ye,{noFallback:!0,disableWarning:!0})!==void 0){We=Ee[Je];break}if(Ye==="bolditalic"&&this.pdf.internal.getFont(Ee[Je],"bold",{noFallback:!0,disableWarning:!0})!==void 0)We=Ee[Je],Ye="bold";else if(this.pdf.internal.getFont(Ee[Je],"normal",{noFallback:!0,disableWarning:!0})!==void 0){We=Ee[Je],Ye="normal";break}}if(We===""){for(var gt=0;gt<Ee.length;gt++)if(it[Ee[gt]]){We=it[Ee[gt]];break}}We=We===""?"Times":We,this.pdf.setFont(We,Ye)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(W){this.ctx.globalCompositeOperation=W}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(W){this.ctx.globalAlpha=W}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(W){this.ctx.lineDashOffset=W,ge.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(W){this.ctx.lineDash=W,ge.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(W){this.ctx.ignoreClearRect=!!W}})};y.prototype.setLineDash=function(T){this.lineDash=T},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){M.call(this,"fill",!1)},y.prototype.stroke=function(){M.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(T,H){if(isNaN(T)||isNaN(H))throw An.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new s(T,H));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new s(T,H)},y.prototype.closePath=function(){var T=new s(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&gn(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){T=new s(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(T.x,T.y)},y.prototype.lineTo=function(T,H){if(isNaN(T)||isNaN(H))throw An.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new s(T,H));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new s(X.x,X.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),M.call(this,null,!0)},y.prototype.quadraticCurveTo=function(T,H,X,ee){if(isNaN(X)||isNaN(ee)||isNaN(T)||isNaN(H))throw An.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new s(X,ee)),he=this.ctx.transform.applyToPoint(new s(T,H));this.path.push({type:"qct",x1:he.x,y1:he.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new s(ne.x,ne.y)},y.prototype.bezierCurveTo=function(T,H,X,ee,ne,he){if(isNaN(ne)||isNaN(he)||isNaN(T)||isNaN(H)||isNaN(X)||isNaN(ee))throw An.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ke=this.ctx.transform.applyToPoint(new s(ne,he)),Te=this.ctx.transform.applyToPoint(new s(T,H)),Ie=this.ctx.transform.applyToPoint(new s(X,ee));this.path.push({type:"bct",x1:Te.x,y1:Te.y,x2:Ie.x,y2:Ie.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new s(ke.x,ke.y)},y.prototype.arc=function(T,H,X,ee,ne,he){if(isNaN(T)||isNaN(H)||isNaN(X)||isNaN(ee)||isNaN(ne))throw An.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var ke=this.ctx.transform.applyToPoint(new s(T,H));T=ke.x,H=ke.y;var Te=this.ctx.transform.applyToPoint(new s(0,X)),Ie=this.ctx.transform.applyToPoint(new s(0,0));X=Math.sqrt(Math.pow(Te.x-Ie.x,2)+Math.pow(Te.y-Ie.y,2))}Math.abs(ne-ee)>=2*Math.PI&&(ee=0,ne=2*Math.PI),this.path.push({type:"arc",x:T,y:H,radius:X,startAngle:ee,endAngle:ne,counterclockwise:he})},y.prototype.arcTo=function(T,H,X,ee,ne){throw new Error("arcTo not implemented.")},y.prototype.rect=function(T,H,X,ee){if(isNaN(T)||isNaN(H)||isNaN(X)||isNaN(ee))throw An.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,H),this.lineTo(T+X,H),this.lineTo(T+X,H+ee),this.lineTo(T,H+ee),this.lineTo(T,H),this.lineTo(T+X,H),this.lineTo(T,H)},y.prototype.fillRect=function(T,H,X,ee){if(isNaN(T)||isNaN(H)||isNaN(X)||isNaN(ee))throw An.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,H,X,ee),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},y.prototype.strokeRect=function(T,H,X,ee){if(isNaN(T)||isNaN(H)||isNaN(X)||isNaN(ee))throw An.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(T,H,X,ee),this.stroke())},y.prototype.clearRect=function(T,H,X,ee){if(isNaN(T)||isNaN(H)||isNaN(X)||isNaN(ee))throw An.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,H,X,ee))},y.prototype.save=function(T){T=typeof T!="boolean"||T;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},y.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(H),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var S=function(T){var H,X,ee,ne;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))H=0,X=0,ee=0,ne=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(he!==null)H=parseInt(he[1]),X=parseInt(he[2]),ee=parseInt(he[3]),ne=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)H=parseInt(he[1]),X=parseInt(he[2]),ee=parseInt(he[3]),ne=parseFloat(he[4]);else{if(ne=1,typeof T=="string"&&T.charAt(0)!=="#"){var ke=new n2(T);T=ke.ok?ke.toHex():"#000000"}T.length===4?(H=T.substring(1,2),H+=H,X=T.substring(2,3),X+=X,ee=T.substring(3,4),ee+=ee):(H=T.substring(1,3),X=T.substring(3,5),ee=T.substring(5,7)),H=parseInt(H,16),X=parseInt(X,16),ee=parseInt(ee,16)}}return{r:H,g:X,b:ee,a:ne,style:T}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(T,H,X,ee){if(isNaN(H)||isNaN(X)||typeof T!="string")throw An.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!p.call(this)){var ne=J(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;w.call(this,{text:T,x:H,y:X,scale:he,angle:ne,align:this.textAlign,maxWidth:ee})}},y.prototype.strokeText=function(T,H,X,ee){if(isNaN(H)||isNaN(X)||typeof T!="string")throw An.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){ee=isNaN(ee)?void 0:ee;var ne=J(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;w.call(this,{text:T,x:H,y:X,scale:he,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:ee})}},y.prototype.measureText=function(T){if(typeof T!="string")throw An.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,X=this.pdf.internal.scaleFactor,ee=H.internal.getFontSize(),ne=H.getStringUnitWidth(T)*ee/H.internal.scaleFactor;return new function(he){var ke=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ke}}),this}({width:ne*=Math.round(96*X/72*1e4)/1e4})},y.prototype.scale=function(T,H){if(isNaN(T)||isNaN(H))throw An.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new c(T,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},y.prototype.rotate=function(T){if(isNaN(T))throw An.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new c(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},y.prototype.translate=function(T,H){if(isNaN(T)||isNaN(H))throw An.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new c(1,0,0,1,T,H);this.ctx.transform=this.ctx.transform.multiply(X)},y.prototype.transform=function(T,H,X,ee,ne,he){if(isNaN(T)||isNaN(H)||isNaN(X)||isNaN(ee)||isNaN(ne)||isNaN(he))throw An.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ke=new c(T,H,X,ee,ne,he);this.ctx.transform=this.ctx.transform.multiply(ke)},y.prototype.setTransform=function(T,H,X,ee,ne,he){T=isNaN(T)?1:T,H=isNaN(H)?0:H,X=isNaN(X)?0:X,ee=isNaN(ee)?1:ee,ne=isNaN(ne)?0:ne,he=isNaN(he)?0:he,this.ctx.transform=new c(T,H,X,ee,ne,he)};var R=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(T,H,X,ee,ne,he,ke,Te,Ie){var Pe=this.pdf.getImageProperties(T),qe=1,Xe=1,st=1,W=1;ee!==void 0&&Te!==void 0&&(st=Te/ee,W=Ie/ne,qe=Pe.width/ee*Te/ee,Xe=Pe.height/ne*Ie/ne),he===void 0&&(he=H,ke=X,H=0,X=0),ee!==void 0&&Te===void 0&&(Te=ee,Ie=ne),ee===void 0&&Te===void 0&&(Te=Pe.width,Ie=Pe.height);var Qe=this.ctx.transform.decompose(),At=J(Qe.rotate.shx),bt=new c,Oe=(bt=(bt=(bt=bt.multiply(Qe.translate)).multiply(Qe.skew)).multiply(Qe.scale)).applyToRectangle(new a(he-H*st,ke-X*W,ee*qe,ne*Xe));if(this.autoPaging){for(var ht,tt=L.call(this,Oe),Ee=[],De=0;De<tt.length;De+=1)Ee.indexOf(tt[De])===-1&&Ee.push(tt[De]);B(Ee);for(var rt=Ee[0],ct=Ee[Ee.length-1],Ye=rt;Ye<ct+1;Ye++){this.pdf.setPage(Ye);var We=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],it=Ye===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],pe=Ye===1?0:Je+(Ye-2)*gt;if(this.ctx.clip_path.length!==0){var Me=this.path;ht=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(ht,this.posX+this.margin[3],-pe+it+this.ctx.prevPageLastElemOffset),Z.call(this,"fill",!0),this.path=Me}var Ke=JSON.parse(JSON.stringify(Oe));Ke=F([Ke],this.posX+this.margin[3],-pe+it+this.ctx.prevPageLastElemOffset)[0];var Ze=(Ye>rt||Ye<ct)&&R.call(this);Ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],We,gt,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,At),Ze&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(T,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,At)};var L=function(T,H,X){var ee=[];H=H||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":ee.push(Math.floor((T.y+ne)/X)+1);break;case"arc":ee.push(Math.floor((T.y+ne-T.radius)/X)+1),ee.push(Math.floor((T.y+ne+T.radius)/X)+1);break;case"qct":var he=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);ee.push(Math.floor((he.y+ne)/X)+1),ee.push(Math.floor((he.y+he.h+ne)/X)+1);break;case"bct":var ke=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);ee.push(Math.floor((ke.y+ne)/X)+1),ee.push(Math.floor((ke.y+ke.h+ne)/X)+1);break;case"rect":ee.push(Math.floor((T.y+ne)/X)+1),ee.push(Math.floor((T.y+T.h+ne)/X)+1)}for(var Te=0;Te<ee.length;Te+=1)for(;this.pdf.internal.getNumberOfPages()<ee[Te];)C.call(this);return ee},C=function(){var T=this.fillStyle,H=this.strokeStyle,X=this.font,ee=this.lineCap,ne=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=H,this.font=X,this.lineCap=ee,this.lineWidth=ne,this.lineJoin=he},F=function(T,H,X){for(var ee=0;ee<T.length;ee++)switch(T[ee].type){case"bct":T[ee].x2+=H,T[ee].y2+=X;case"qct":T[ee].x1+=H,T[ee].y1+=X;default:T[ee].x+=H,T[ee].y+=X}return T},B=function(T){return T.sort(function(H,X){return H-X})},M=function(T,H){var X=this.fillStyle,ee=this.strokeStyle,ne=this.lineCap,he=this.lineWidth,ke=Math.abs(he*this.ctx.transform.scaleX),Te=this.lineJoin;if(this.autoPaging){for(var Ie,Pe,qe=JSON.parse(JSON.stringify(this.path)),Xe=JSON.parse(JSON.stringify(this.path)),st=[],W=0;W<Xe.length;W++)if(Xe[W].x!==void 0)for(var Qe=L.call(this,Xe[W]),At=0;At<Qe.length;At+=1)st.indexOf(Qe[At])===-1&&st.push(Qe[At]);for(var bt=0;bt<st.length;bt++)for(;this.pdf.internal.getNumberOfPages()<st[bt];)C.call(this);B(st);for(var Oe=st[0],ht=st[st.length-1],tt=Oe;tt<ht+1;tt++){this.pdf.setPage(tt),this.fillStyle=X,this.strokeStyle=ee,this.lineCap=ne,this.lineWidth=ke,this.lineJoin=Te;var Ee=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],De=tt===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ye=tt===1?0:rt+(tt-2)*ct;if(this.ctx.clip_path.length!==0){var We=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(Ie,this.posX+this.margin[3],-Ye+De+this.ctx.prevPageLastElemOffset),Z.call(this,T,!0),this.path=We}if(Pe=JSON.parse(JSON.stringify(qe)),this.path=F(Pe,this.posX+this.margin[3],-Ye+De+this.ctx.prevPageLastElemOffset),H===!1||tt===0){var it=(tt>Oe||tt<ht)&&R.call(this);it&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ee,ct,null).clip().discardPath()),Z.call(this,T,H),it&&this.pdf.restoreGraphicsState()}this.lineWidth=he}this.path=qe}else this.lineWidth=ke,Z.call(this,T,H),this.lineWidth=he},Z=function(T,H){if((T!=="stroke"||H||!N.call(this))&&(T==="stroke"||H||!p.call(this))){for(var X,ee,ne=[],he=this.path,ke=0;ke<he.length;ke++){var Te=he[ke];switch(Te.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:Te,deltas:[],abs:[]});break;case"lt":var Ie=ne.length;if(he[ke-1]&&!isNaN(he[ke-1].x)&&(X=[Te.x-he[ke-1].x,Te.y-he[ke-1].y],Ie>0)){for(;Ie>=0;Ie--)if(ne[Ie-1].close!==!0&&ne[Ie-1].begin!==!0){ne[Ie-1].deltas.push(X),ne[Ie-1].abs.push(Te);break}}break;case"bct":X=[Te.x1-he[ke-1].x,Te.y1-he[ke-1].y,Te.x2-he[ke-1].x,Te.y2-he[ke-1].y,Te.x-he[ke-1].x,Te.y-he[ke-1].y],ne[ne.length-1].deltas.push(X);break;case"qct":var Pe=he[ke-1].x+2/3*(Te.x1-he[ke-1].x),qe=he[ke-1].y+2/3*(Te.y1-he[ke-1].y),Xe=Te.x+2/3*(Te.x1-Te.x),st=Te.y+2/3*(Te.y1-Te.y),W=Te.x,Qe=Te.y;X=[Pe-he[ke-1].x,qe-he[ke-1].y,Xe-he[ke-1].x,st-he[ke-1].y,W-he[ke-1].x,Qe-he[ke-1].y],ne[ne.length-1].deltas.push(X);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(Te)}}ee=H?null:T==="stroke"?"stroke":"fill";for(var At=!1,bt=0;bt<ne.length;bt++)if(ne[bt].arc)for(var Oe=ne[bt].abs,ht=0;ht<Oe.length;ht++){var tt=Oe[ht];tt.type==="arc"?E.call(this,tt.x,tt.y,tt.radius,tt.startAngle,tt.endAngle,tt.counterclockwise,void 0,H,!At):x.call(this,tt.x,tt.y),At=!0}else if(ne[bt].close===!0)this.pdf.internal.out("h"),At=!1;else if(ne[bt].begin!==!0){var Ee=ne[bt].start.x,De=ne[bt].start.y;U.call(this,ne[bt].deltas,Ee,De),At=!0}ee&&b.call(this,ee),H&&I.call(this)}},ue=function(T){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-X;case"top":return T+H-X;case"hanging":return T+H-2*X;case"middle":return T+H/2-X;default:return T}},V=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(H,X){this.colorStops.push([H,X])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(T,H,X,ee,ne,he,ke,Te,Ie){for(var Pe=le.call(this,X,ee,ne,he),qe=0;qe<Pe.length;qe++){var Xe=Pe[qe];qe===0&&(Ie?_.call(this,Xe.x1+T,Xe.y1+H):x.call(this,Xe.x1+T,Xe.y1+H)),re.call(this,T,H,Xe.x2,Xe.y2,Xe.x3,Xe.y3,Xe.x4,Xe.y4)}Te?I.call(this):b.call(this,ke)},b=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},I=function(){this.pdf.clip(),this.pdf.discardPath()},_=function(T,H){this.pdf.internal.out(n(T)+" "+r(H)+" m")},w=function(T){var H;switch(T.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var X,ee,ne,he=this.pdf.getTextDimensions(T.text),ke=ue.call(this,T.y),Te=V.call(this,ke)-he.h,Ie=this.ctx.transform.applyToPoint(new s(T.x,ke));if(this.autoPaging){var Pe=this.ctx.transform.decompose(),qe=new c;qe=(qe=(qe=qe.multiply(Pe.translate)).multiply(Pe.skew)).multiply(Pe.scale);for(var Xe=this.ctx.transform.applyToRectangle(new a(T.x,ke,he.w,he.h)),st=qe.applyToRectangle(new a(T.x,Te,he.w,he.h)),W=L.call(this,st),Qe=[],At=0;At<W.length;At+=1)Qe.indexOf(W[At])===-1&&Qe.push(W[At]);B(Qe);for(var bt=Qe[0],Oe=Qe[Qe.length-1],ht=bt;ht<Oe+1;ht++){this.pdf.setPage(ht);var tt=ht===1?this.posY+this.margin[0]:this.margin[0],Ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[2],rt=De-this.margin[0],ct=this.pdf.internal.pageSize.width-this.margin[1],Ye=ct-this.margin[3],We=ht===1?0:Ee+(ht-2)*rt;if(this.ctx.clip_path.length!==0){var it=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(X,this.posX+this.margin[3],-1*We+tt),Z.call(this,"fill",!0),this.path=it}var Je=F([JSON.parse(JSON.stringify(st))],this.posX+this.margin[3],-We+tt+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ee*T.scale),ne=this.lineWidth,this.lineWidth=ne*T.scale);var gt=this.autoPaging!=="text";if(gt||Je.y+Je.h<=De){if(gt||Je.y>=tt&&Je.x<=ct){var pe=gt?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||ct-Je.x)[0],Me=F([JSON.parse(JSON.stringify(Xe))],this.posX+this.margin[3],-We+tt+this.ctx.prevPageLastElemOffset)[0],Ke=gt&&(ht>bt||ht<Oe)&&R.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,rt,null).clip().discardPath()),this.pdf.text(pe,Me.x,Me.y,{angle:T.angle,align:H,renderingMode:T.renderingMode}),Ke&&this.pdf.restoreGraphicsState()}}else Je.y<De&&(this.ctx.prevPageLastElemOffset+=De-Je.y);T.scale>=.01&&(this.pdf.setFontSize(ee),this.lineWidth=ne)}}else T.scale>=.01&&(ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ee*T.scale),ne=this.lineWidth,this.lineWidth=ne*T.scale),this.pdf.text(T.text,Ie.x+this.posX,Ie.y+this.posY,{angle:T.angle,align:H,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(ee),this.lineWidth=ne)},x=function(T,H,X,ee){X=X||0,ee=ee||0,this.pdf.internal.out(n(T+X)+" "+r(H+ee)+" l")},U=function(T,H,X){return this.pdf.lines(T,H,X,null,null)},re=function(T,H,X,ee,ne,he,ke,Te){this.pdf.internal.out([e(i(X+T)),e(o(ee+H)),e(i(ne+T)),e(o(he+H)),e(i(ke+T)),e(o(Te+H)),"c"].join(" "))},le=function(T,H,X,ee){for(var ne=2*Math.PI,he=Math.PI/2;H>X;)H-=ne;var ke=Math.abs(X-H);ke<ne&&ee&&(ke=ne-ke);for(var Te=[],Ie=ee?-1:1,Pe=H;ke>1e-5;){var qe=Pe+Ie*Math.min(ke,he);Te.push(ae.call(this,T,Pe,qe)),ke-=Math.abs(qe-Pe),Pe=qe}return Te},ae=function(T,H,X){var ee=(X-H)/2,ne=T*Math.cos(ee),he=T*Math.sin(ee),ke=ne,Te=-he,Ie=ke*ke+Te*Te,Pe=Ie+ke*ne+Te*he,qe=4/3*(Math.sqrt(2*Ie*Pe)-Pe)/(ke*he-Te*ne),Xe=ke-qe*Te,st=Te+qe*ke,W=Xe,Qe=-st,At=ee+H,bt=Math.cos(At),Oe=Math.sin(At);return{x1:T*Math.cos(H),y1:T*Math.sin(H),x2:Xe*bt-st*Oe,y2:Xe*Oe+st*bt,x3:W*bt-Qe*Oe,y3:W*Oe+Qe*bt,x4:T*Math.cos(X),y4:T*Math.sin(X)}},J=function(T){return 180*T/Math.PI},fe=function(T,H,X,ee,ne,he){var ke=T+.5*(X-T),Te=H+.5*(ee-H),Ie=ne+.5*(X-ne),Pe=he+.5*(ee-he),qe=Math.min(T,ne,ke,Ie),Xe=Math.max(T,ne,ke,Ie),st=Math.min(H,he,Te,Pe),W=Math.max(H,he,Te,Pe);return new a(qe,st,Xe-qe,W-st)},be=function(T,H,X,ee,ne,he,ke,Te){var Ie,Pe,qe,Xe,st,W,Qe,At,bt,Oe,ht,tt,Ee,De,rt=X-T,ct=ee-H,Ye=ne-X,We=he-ee,it=ke-ne,Je=Te-he;for(Pe=0;Pe<41;Pe++)bt=(Qe=(qe=T+(Ie=Pe/40)*rt)+Ie*((st=X+Ie*Ye)-qe))+Ie*(st+Ie*(ne+Ie*it-st)-Qe),Oe=(At=(Xe=H+Ie*ct)+Ie*((W=ee+Ie*We)-Xe))+Ie*(W+Ie*(he+Ie*Je-W)-At),Pe==0?(ht=bt,tt=Oe,Ee=bt,De=Oe):(ht=Math.min(ht,bt),tt=Math.min(tt,Oe),Ee=Math.max(Ee,bt),De=Math.max(De,Oe));return new a(Math.round(ht),Math.round(tt),Math.round(Ee-ht),Math.round(De-tt))},ge=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,H,X=(T=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:H}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(St.API),function(t){var e=function(s){var a,c,h,d,y,S,p,N,R,L;for(c=[],h=0,d=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;d>h;h+=4)(y=(s.charCodeAt(h)<<24)+(s.charCodeAt(h+1)<<16)+(s.charCodeAt(h+2)<<8)+s.charCodeAt(h+3))!==0?(S=(y=((y=((y=((y=(y-(L=y%85))/85)-(R=y%85))/85)-(N=y%85))/85)-(p=y%85))/85)%85,c.push(S+33,p+33,N+33,R+33,L+33)):c.push(122);return function(C,F){for(var B=F;B>0;B--)C.pop()}(c,a.length),String.fromCharCode.apply(String,c)+"~>"},n=function(s){var a,c,h,d,y,S=String,p="length",N=255,R="charCodeAt",L="slice",C="replace";for(s[L](-2),s=s[L](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),h=[],d=0,y=(s+=a="uuuuu"[L](s[p]%5||5))[p];y>d;d+=5)c=52200625*(s[R](d)-33)+614125*(s[R](d+1)-33)+7225*(s[R](d+2)-33)+85*(s[R](d+3)-33)+(s[R](d+4)-33),h.push(N&c>>24,N&c>>16,N&c>>8,N&c);return function(F,B){for(var M=B;M>0;M--)F.pop()}(h,a[p]),S.fromCharCode.apply(S,h)},r=function(s){return s.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var c="",h=0;h<s.length;h+=2)c+=String.fromCharCode("0x"+(s[h]+s[h+1]));return c},o=function(s){for(var a=new Uint8Array(s.length),c=s.length;c--;)a[c]=s.charCodeAt(c);return(a=df(a)).reduce(function(h,d){return h+String.fromCharCode(d)},"")};t.processDataByFilters=function(s,a){var c=0,h=s||"",d=[];for(typeof(a=a||[])=="string"&&(a=[a]),c=0;c<a.length;c+=1)switch(a[c]){case"ASCII85Decode":case"/ASCII85Decode":h=n(h),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=r(h),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=o(h),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[c]+'" is not implemented')}return{data:h,reverseChain:d.reverse().join(" ")}}}(St.API),function(t){t.loadFile=function(e,n,r){return function(i,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=function(c,h,d){var y=new XMLHttpRequest,S=0,p=function(N){var R=N.length,L=[],C=String.fromCharCode;for(S=0;S<R;S+=1)L.push(C(255&N.charCodeAt(S)));return L.join("")};if(y.open("GET",c,!h),y.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(y.onload=function(){y.status===200?d(p(this.responseText)):d(void 0)}),y.send(null),h&&y.status===200)return p(y.responseText)}(i,o,s)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(St.API),function(t){function e(){return(Dt.html2canvas?Promise.resolve(Dt.html2canvas):vh(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(Dt.DOMPurify?Promise.resolve(Dt.DOMPurify):vh(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var c=gn(a);return c==="undefined"?"undefined":c==="string"||a instanceof String?"string":c==="number"||a instanceof Number?"number":c==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(a,c){var h=document.createElement(a);for(var d in c.className&&(h.className=c.className),c.innerHTML&&c.dompurify&&(h.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)h.style[d]=c.style[d];return h},o=function a(c,h){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),y=c.firstChild;y;y=y.nextSibling)h!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||d.appendChild(a(y,h));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},s=function a(c){var h=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),d=a.convert(Promise.resolve(),h);return(d=d.setProgress(1,a,1,[a])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,c){return a.__proto__=c||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,c){return this.then(function(){switch(c=c||function(h){switch(r(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),c){case"string":return this.then(n).then(function(h){return this.set({src:i("div",{innerHTML:a,dompurify:h})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(c){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,c(this.prop.container,h)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(c){var h=this.opt.jsPDF,d=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,S=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete S.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=d,d)for(var p=0;p<d.length;++p){var N=d[p],R=N.src.find(function(L){return L.format==="truetype"});R&&h.addFont(R.url,N.ref.name,N.ref.style)}return S.windowHeight=S.windowHeight||0,S.windowHeight=S.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):S.windowHeight,h.context2d.save(!0),c(this.prop.container,S)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,c,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(a,c):this.outputPdf(a,c)},s.prototype.outputPdf=function(a,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,c)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var c=Object.keys(a||{}).map(function(h){if(h in s.template.prop)return function(){this.prop[h]=a[h]};switch(h){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[h]=a[h]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(a,c){return this.then(function(){var h=a in s.template.prop?this.prop[a]:this.opt[a];return c?c(h):h})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function c(h,d){return Math.floor(h*d/72*96)}return this.then(function(){(a=a||St.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:c(a.inner.width,a.k),height:c(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,c,h,d){return a!=null&&(this.progress.val=a),c!=null&&(this.progress.state=c),h!=null&&(this.progress.n=h),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,c,h,d){return this.setProgress(a?this.progress.val+a:null,c||null,h?this.progress.n+h:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(a,c){var h=this;return this.thenCore(a,c,function(d,y){return h.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(S){return h.updateProgress(null,d),S}).then(d,y).then(function(S){return h.updateProgress(1),S})})},s.prototype.thenCore=function(a,c,h){h=h||Promise.prototype.then;var d=this;a&&(a=a.bind(d)),c&&(c=c.bind(d));var y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:s.convert(Object.assign({},d),Promise.prototype),S=h.call(y,a,c);return s.convert(S,d.__proto__)},s.prototype.thenExternal=function(a,c){return Promise.prototype.then.call(this,a,c)},s.prototype.thenList=function(a){var c=this;return a.forEach(function(h){c=c.thenCore(h)}),c},s.prototype.catch=function(a){a&&(a=a.bind(this));var c=Promise.prototype.catch.call(this,a);return s.convert(c,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,St.getPageSize=function(a,c,h){if(gn(a)==="object"){var d=a;a=d.orientation,c=d.unit||c,h=d.format||h}c=c||"mm",h=h||"a4",a=(""+(a||"P")).toLowerCase();var y,S=(""+h).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+c}var N,R=0,L=0;if(p.hasOwnProperty(S))R=p[S][1]/y,L=p[S][0]/y;else try{R=h[1],L=h[0]}catch{throw new Error("Invalid format: "+h)}if(a==="p"||a==="portrait")a="p",L>R&&(N=L,L=R,R=N);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",R>L&&(N=L,L=R,R=N)}return{width:L,height:R,unit:c,k:y,orientation:a}},t.html=function(a,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Fh):null;var h=new s(c);return c.worker?h:h.from(a).doCallback()}}(St.API),St.API.addJS=function(t){return E1=t,this.internal.events.subscribe("postPutResources",function(){Bu=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Bu+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),k1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+E1+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Bu!==void 0&&k1!==void 0&&this.internal.out("/Names <</JavaScript "+Bu+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);if(a!=null){var c=a[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,d=[];for(o=0;o<h;o++){var y=n.internal.newObject();d.push(y);var S=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+S.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<d.length;o++)n.internal.write("(page_"+(o+1)+")"+d[o]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var c=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(St.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,o,s,a){var c,h=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=function(y){for(var S,p=256*y.charCodeAt(4)+y.charCodeAt(5),N=y.length,R={width:0,height:0,numcomponents:1},L=4;L<N;L+=2){if(L+=p,e.indexOf(y.charCodeAt(L+1))!==-1){S=256*y.charCodeAt(L+5)+y.charCodeAt(L+6),R={width:256*y.charCodeAt(L+7)+y.charCodeAt(L+8),height:S,numcomponents:y.charCodeAt(L+9)};break}p=256*y.charCodeAt(L+2)+y.charCodeAt(L+3)}return R}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:n,width:c.width,height:c.height,colorSpace:a,bitsPerComponent:8,filter:h,index:r,alias:i}}return d}}(St.API),St.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,o=E_(t,{checkCrc:!0}),s=o.width,a=o.height,c=o.channels,h=o.palette,d=o.depth;i=h&&c===1?function(E){for(var b=E.width,I=E.height,_=E.data,w=E.palette,x=E.depth,U=!1,re=[],le=[],ae=void 0,J=!1,fe=0,be=0;be<w.length;be++){var ge=Lp(w[be],4),T=ge[0],H=ge[1],X=ge[2],ee=ge[3];re.push(T,H,X),ee!=null&&(ee===0?(fe++,le.length<1&&le.push(be)):ee<255&&(J=!0))}if(J||fe>1){U=!0,le=void 0;var ne=b*I;ae=new Uint8Array(ne);for(var he=new DataView(_.buffer),ke=0;ke<ne;ke++){var Te=jh(he,ke,x),Ie=Lp(w[Te],4)[3];ae[ke]=Ie}}else fe===0&&(le=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:U?8:void 0,colorBytes:_,alphaBytes:ae,needSMask:U,palette:re,mask:le}}(o):c===2||c===4?function(E){for(var b=E.data,I=E.width,_=E.height,w=E.channels,x=E.depth,U=w===2?"DeviceGray":"DeviceRGB",re=w-1,le=I*_,ae=re,J=le*ae,fe=1*le,be=Math.ceil(J*x/8),ge=Math.ceil(fe*x/8),T=new Uint8Array(be),H=new Uint8Array(ge),X=new DataView(b.buffer),ee=new DataView(T.buffer),ne=new DataView(H.buffer),he=!1,ke=0;ke<le;ke++){for(var Te=ke*w,Ie=0;Ie<ae;Ie++)O1(ee,jh(X,Te+Ie,x),ke*ae+Ie,x);var Pe=jh(X,Te+ae,x);Pe<(1<<x)-1&&(he=!0),O1(ne,Pe,1*ke,x)}return{colorSpace:U,colorsPerPixel:re,sMaskBitsPerComponent:he?x:void 0,colorBytes:T,alphaBytes:H,needSMask:he}}(o):function(E){var b=E.data,I=E.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:I,colorsPerPixel:I==="DeviceGray"?1:3,colorBytes:b instanceof Uint16Array?function(_){for(var w=_.length,x=new Uint8Array(2*w),U=new DataView(x.buffer,x.byteOffset,x.byteLength),re=0;re<w;re++)U.setUint16(2*re,_[re],!1);return x}(b):b,needSMask:!1}}(o);var y,S,p,N=i,R=N.colorSpace,L=N.colorsPerPixel,C=N.sMaskBitsPerComponent,F=N.colorBytes,B=N.alphaBytes,M=N.needSMask,Z=N.palette,ue=N.mask,V=null;return r!==St.API.image_compression.NONE&&typeof df=="function"?(V=function(E){var b;switch(E){case St.API.image_compression.FAST:b=11;break;case St.API.image_compression.MEDIUM:b=13;break;case St.API.image_compression.SLOW:b=14;break;default:b=12}return b}(r),y=this.decode.FLATE_DECODE,S="/Predictor ".concat(V," /Colors ").concat(L," /BitsPerComponent ").concat(d," /Columns ").concat(s),t=L1(F,Math.ceil(s*L*d/8),L,d,r),M&&(p=L1(B,Math.ceil(s*C/8),1,C,r))):(y=void 0,S=void 0,t=F,M&&(p=B)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:y,decodeParameters:S,transparency:ue,palette:Z,sMask:p,predictor:V,width:s,height:a,bitsPerComponent:d,sMaskBitsPerComponent:C,colorSpace:R}}},function(t){t.processGIF89A=function(e,n,r,i){var o=new Y_(e),s=o.width,a=o.height,c=[];o.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:s,height:a},d=new Bh(100).encode(h,100);return t.processJPEG.call(this,d,n,r,i)},t.processGIF87A=t.processGIF89A}(St.API),Xi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Xi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){An.log("bit decode error:"+n)}},Xi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var c=this.palette[o>>7-a&1];this.data[s+4*a]=c.blue,this.data[s+4*a+1]=c.green,this.data[s+4*a+2]=c.red,this.data[s+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Xi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=o>>4,c=15&o,h=this.palette[a];if(this.data[s]=h.blue,this.data[s+1]=h.green,this.data[s+2]=h.red,this.data[s+3]=255,2*i+1>=this.width)break;h=this.palette[c],this.data[s+4]=h.blue,this.data[s+4+1]=h.green,this.data[s+4+2]=h.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Xi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},Xi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,c=(o>>10&e)/e*255|0,h=o>>15?255:0,d=r*this.width*4+4*i;this.data[d]=c,this.data[d+1]=a,this.data[d+2]=s,this.data[d+3]=h}this.pos+=t}},Xi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,c=(s>>5&n)/n*255|0,h=(s>>11)/e*255|0,d=i*this.width*4+4*o;this.data[d]=h,this.data[d+1]=c,this.data[d+2]=a,this.data[d+3]=255}this.pos+=t}},Xi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Xi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},Xi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var o=new Xi(e,!1),s=o.width,a=o.height,c={data:o.getData(),width:s,height:a},h=new Bh(100).encode(c,100);return t.processJPEG.call(this,h,n,r,i)}}(St.API),V1.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var o=new V1(e),s=o.width,a=o.height,c={data:o.getData(),width:s,height:a},h=new Bh(100).encode(c,100);return t.processJPEG.call(this,h,n,r,i)}}(St.API),St.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,c=0,h=0;h<i;h+=4){var d=r[h],y=r[h+1],S=r[h+2],p=r[h+3];o[a++]=d,o[a++]=y,o[a++]=S,s[c++]=p}var N=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:N,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},St.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ca=St.API,qu=Ca.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,c=a.fof?a.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=h.fof?h.fof:1,y=e.doKerning!==!1,S=0,p=t.length,N=0,R=a[0]||c,L=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?L.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(S=y&&gn(h[r])==="object"&&!isNaN(parseInt(h[r][N],10))?h[r][N]/d:0,L.push((a[r]||R)/c+S)),N=r;return L},I1=Ca.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Ca.processArabic&&(t=Ca.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:qu.apply(this,arguments).reduce(function(o,s){return o+s},0)},C1=function(t,e,n,r){for(var i=[],o=0,s=t.length,a=0;o!==s&&a+e[o]<n;)a+=e[o],o++;i.push(t.slice(0,o));var c=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(t.slice(c,o)),a=0,c=o),a+=e[o],o++;return c!==o&&i.push(t.slice(c,o)),i},N1=function(t,e,n){n||(n={});var r,i,o,s,a,c,h,d=[],y=[d],S=n.textIndent||0,p=0,N=0,R=t.split(" "),L=qu.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?R[0].length+2:n.lineIndent||0){var C=Array(c).join(" "),F=[];R.map(function(M){(M=M.split(/\s*\n/)).length>1?F=F.concat(M.map(function(Z,ue){return(ue&&Z.length?`
`:"")+Z})):F.push(M[0])}),R=F,c=I1.apply(this,[C,n])}for(o=0,s=R.length;o<s;o++){var B=0;if(r=R[o],c&&r[0]==`
`&&(r=r.substr(1),B=1),S+p+(N=(i=qu.apply(this,[r,n])).reduce(function(M,Z){return M+Z},0))>e||B){if(N>e){for(a=C1.apply(this,[r,i,e-(S+p),e]),d.push(a.shift()),d=[a.pop()];a.length;)y.push([a.shift()]);N=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(M,Z){return M+Z},0)}else d=[r];y.push(d),S=N+c,p=L}else d.push(r),S+=p+N,p=L}return h=c?function(M,Z){return(Z?C:"")+M.join(" ")}:function(M){return M.join(" ")},y.map(h)},Ca.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var y=this.internal.getFont(d.fontName,d.fontStyle),S="Unicode";return y.metadata[S]?{widths:y.metadata[S].widths||{0:1},kerning:y.metadata[S].kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var a,c,h=[];for(a=0,c=r.length;a<c;a++)h=h.concat(N1.apply(this,[r[a],s,o]));return h},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},o=0;o<16;o++)r[n[o]]=e[o],i[e[o]]=n[o];var s=function(S){return"0x"+parseInt(S,10).toString(16)},a=t.__fontmetrics__.compress=function(S){var p,N,R,L,C=["{"];for(var F in S){if(p=S[F],isNaN(parseInt(F,10))?N="'"+F+"'":(F=parseInt(F,10),N=(N=s(F).slice(2)).slice(0,-1)+i[N.slice(-1)]),typeof p=="number")p<0?(R=s(p).slice(3),L="-"):(R=s(p).slice(2),L=""),R=L+R.slice(0,-1)+i[R.slice(-1)];else{if(gn(p)!=="object")throw new Error("Don't know what to do with value type "+gn(p)+".");R=a(p)}C.push(N+R)}return C.push("}"),C.join("")},c=t.__fontmetrics__.uncompress=function(S){if(typeof S!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,N,R,L,C={},F=1,B=C,M=[],Z="",ue="",V=S.length-1,E=1;E<V;E+=1)(L=S[E])=="'"?p?(R=p.join(""),p=void 0):p=[]:p?p.push(L):L=="{"?(M.push([B,R]),B={},R=void 0):L=="}"?((N=M.pop())[0][N[1]]=B,R=void 0,B=N[0]):L=="-"?F=-1:R===void 0?r.hasOwnProperty(L)?(Z+=r[L],R=parseInt(Z,16)*F,F=1,Z=""):Z+=L:r.hasOwnProperty(L)?(ue+=r[L],B[R]=parseInt(ue,16)*F,F=1,R=void 0,ue=""):ue+=L;return C},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},y={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(S){var p=S.font,N=y.Unicode[p.postScriptName];N&&(p.metadata.Unicode={},p.metadata.Unicode.widths=N.widths,p.metadata.Unicode.kerning=N.kerning);var R=d.Unicode[p.postScriptName];R&&(p.metadata.Unicode.encoding=R,p.encoding=R.codePages[0])}])}(St.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=n.charCodeAt(o);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Ju(a)),s.metadata=t.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(St),St.API.addSvgAsImage=function(t,e,n,r,i,o,s,a){if(isNaN(e)||isNaN(n))throw An.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw An.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var h=c.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return(Dt.canvg?Promise.resolve(Dt.canvg):vh(()=>import("./index.es-B05_bWHf.js"),__vite__mapDeps([0,1,2,3,4,5]))).catch(function(S){return Promise.reject(new Error("Could not load canvg: "+S))}).then(function(S){return S.default?S.default:S}).then(function(S){return S.fromString(h,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(d)}).then(function(){y.addImage(c.toDataURL("image/jpeg",1),e,n,r,i,s,a)})},St.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},St.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),c=[],h=0,d=0,y=0;function S(N,R){var L,C=!1;for(L=0;L<N.length;L+=1)N[L]===R&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=a.length;for(y=0;y<p;y+=1)n[a[y]].value=n[a[y]].defaultValue,n[a[y]].explicitSet=!1}if(gn(t)==="object"){for(i in t)if(o=t[i],S(a,i)&&o!==void 0){if(n[i].type==="boolean"&&typeof o=="boolean")n[i].value=o;else if(n[i].type==="name"&&S(n[i].valueSet,o))n[i].value=o;else if(n[i].type==="integer"&&Number.isInteger(o))n[i].value=o;else if(n[i].type==="array"){for(h=0;h<o.length;h+=1)if(r=!0,o[h].length===1&&typeof o[h][0]=="number")c.push(String(o[h]-1));else if(o[h].length>1){for(d=0;d<o[h].length;d+=1)typeof o[h][d]!="number"&&(r=!1);r===!0&&c.push([o[h][0]-1,o[h][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,R=[];for(N in n)n[N].explicitSet===!0&&(n[N].type==="name"?R.push("/"+N+" /"+n[N].value):R.push("/"+N+" "+n[N].value));R.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+R.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),h=o.length+s.length+a.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(St.API),function(t){var e=t.API,n=e.pdfEscape16=function(o,s){for(var a,c=s.metadata.Unicode.widths,h=["","0","00","000","0000"],d=[""],y=0,S=o.length;y<S;++y){if(a=s.metadata.characterToGlyph(o.charCodeAt(y)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(y),c.indexOf(a)==-1&&(c.push(a),c.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(h[4-a.length],a)}return d.join("")},r=function(o){var s,a,c,h,d,y,S;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],y=0,S=(a=Object.keys(o).sort(function(p,N){return p-N})).length;y<S;y++)s=a[y],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(h=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+h+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var a=s.font,c=s.out,h=s.newObject,d=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var y=a.metadata.Unicode.widths,S=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",N=0;N<S.length;N++)p+=String.fromCharCode(S[N]);var R=h();d({data:p,addLength1:!0,objectId:R}),c("endobj");var L=h();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:L}),c("endobj");var C=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Da(a.fontName)),c("/FontFile2 "+R+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),c("/Flags "+a.metadata.flags),c("/StemV "+a.metadata.stemV),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c(">>"),c("endobj");var F=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+Da(a.fontName)),c("/FontDescriptor "+C+" 0 R"),c("/W "+t.API.PDFObject.convert(y)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+a.encoding+")"),c(">>"),c(">>"),c("endobj"),a.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+L+" 0 R"),c("/BaseFont /"+Da(a.fontName)),c("/Encoding /"+a.encoding),c("/DescendantFonts ["+F+" 0 R]"),c(">>"),c("endobj"),a.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var a=s.font,c=s.out,h=s.newObject,d=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var y=a.metadata.rawData,S="",p=0;p<y.length;p++)S+=String.fromCharCode(y[p]);var N=h();d({data:S,addLength1:!0,objectId:N}),c("endobj");var R=h();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:R}),c("endobj");var L=h();c("<<"),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c("/StemV "+a.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+N+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),c("/FontName /"+Da(a.fontName)),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c(">>"),c("endobj"),a.objectNumber=h();for(var C=0;C<a.metadata.hmtx.widths.length;C++)a.metadata.hmtx.widths[C]=parseInt(a.metadata.hmtx.widths[C]*(1e3/a.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+R+" 0 R/BaseFont/"+Da(a.fontName)+"/FontDescriptor "+L+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),c("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var s,a=o.text||"",c=o.x,h=o.y,d=o.options||{},y=o.mutex||{},S=y.pdfEscape,p=y.activeFontKey,N=y.fonts,R=p,L="",C=0,F="",B=N[R].encoding;if(N[R].encoding!=="Identity-H")return{text:a,x:c,y:h,options:d,mutex:y};for(F=a,R=p,Array.isArray(a)&&(F=a[0]),C=0;C<F.length;C+=1)N[R].metadata.hasOwnProperty("cmap")&&(s=N[R].metadata.cmap.unicode.codeMap[F[C].charCodeAt(0)]),s||F[C].charCodeAt(0)<256&&N[R].metadata.hasOwnProperty("Unicode")?L+=F[C]:L+="";var M="";return parseInt(R.slice(1))<14||B==="WinAnsiEncoding"?M=S(L,R).split("").map(function(Z){return Z.charCodeAt(0).toString(16)}).join(""):B==="Identity-H"&&(M=n(L,N[R])),y.isHex=!0,{text:M,x:c,y:h,options:d,mutex:y}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],c={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var h=0;for(h=0;h<s.length;h+=1)Array.isArray(s[h])&&s[h].length===3?a.push([i(Object.assign({},c,{text:s[h][0]})).text,s[h][1],s[h][2]]):a.push(i(Object.assign({},c,{text:s[h]})).text);o.text=a}else o.text=i(Object.assign({},c,{text:s})).text}])}(St),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(St.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,o,s,a,c,h,d,y=e,S=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},R={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},L=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),F=!1,B=0;this.__bidiEngine__={};var M=function(_){var w=_.charCodeAt(),x=w>>8,U=R[x];return U!==void 0?y[256*U+(255&w)]:x===252||x===253?"AL":C.test(x)?"L":x===8?"R":"N"},Z=function(_){for(var w,x=0;x<_.length;x++){if((w=M(_.charAt(x)))==="L")return!1;if(w==="R")return!0}return!1},ue=function(_,w,x,U){var re,le,ae,J,fe=w[U];switch(fe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":F=!1;break;case"N":case"AN":break;case"EN":F&&(fe="AN");break;case"AL":F=!0,fe="R";break;case"WS":case"BN":fe="N";break;case"CS":U<1||U+1>=w.length||(re=x[U-1])!=="EN"&&re!=="AN"||(le=w[U+1])!=="EN"&&le!=="AN"?fe="N":F&&(le="AN"),fe=le===re?le:"N";break;case"ES":fe=(re=U>0?x[U-1]:"B")==="EN"&&U+1<w.length&&w[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&x[U-1]==="EN"){fe="EN";break}if(F){fe="N";break}for(ae=U+1,J=w.length;ae<J&&w[ae]==="ET";)ae++;fe=ae<J&&w[ae]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(J=w.length,ae=U+1;ae<J&&w[ae]==="NSM";)ae++;if(ae<J){var be=_[U],ge=be>=1425&&be<=2303||be===64286;if(re=w[ae],ge&&(re==="R"||re==="AL")){fe="R";break}}}fe=U<1||(re=w[U-1])==="B"?"N":x[U-1];break;case"B":F=!1,i=!0,fe=B;break;case"S":o=!0,fe="N"}return fe},V=function(_,w,x){var U=_.split("");return x&&E(U,x,{hiLevel:B}),U.reverse(),w&&w.reverse(),U.join("")},E=function(_,w,x){var U,re,le,ae,J,fe=-1,be=_.length,ge=0,T=[],H=B?p:S,X=[];for(F=!1,i=!1,o=!1,re=0;re<be;re++)X[re]=M(_[re]);for(le=0;le<be;le++){if(J=ge,T[le]=ue(_,X,T,le),U=240&(ge=H[J][N[T[le]]]),ge&=15,w[le]=ae=H[ge][5],U>0)if(U===16){for(re=fe;re<le;re++)w[re]=1;fe=-1}else fe=-1;if(H[ge][6])fe===-1&&(fe=le);else if(fe>-1){for(re=fe;re<le;re++)w[re]=ae;fe=-1}X[le]==="B"&&(w[le]=0),x.hiLevel|=ae}o&&function(ee,ne,he){for(var ke=0;ke<he;ke++)if(ee[ke]==="S"){ne[ke]=B;for(var Te=ke-1;Te>=0&&ee[Te]==="WS";Te--)ne[Te]=B}}(X,w,be)},b=function(_,w,x,U,re){if(!(re.hiLevel<_)){if(_===1&&B===1&&!i)return w.reverse(),void(x&&x.reverse());for(var le,ae,J,fe,be=w.length,ge=0;ge<be;){if(U[ge]>=_){for(J=ge+1;J<be&&U[J]>=_;)J++;for(fe=ge,ae=J-1;fe<ae;fe++,ae--)le=w[fe],w[fe]=w[ae],w[ae]=le,x&&(le=x[fe],x[fe]=x[ae],x[ae]=le);ge=J}ge++}}},I=function(_,w,x){var U=_.split(""),re={hiLevel:B};return x||(x=[]),E(U,x,re),function(le,ae,J){if(J.hiLevel!==0&&d)for(var fe,be=0;be<le.length;be++)ae[be]===1&&(fe=L.indexOf(le[be]))>=0&&(le[be]=L[fe+1])}(U,x,re),b(2,U,w,x,re),b(1,U,w,x,re),U.join("")};return this.__bidiEngine__.doBidiReorder=function(_,w,x){if(function(re,le){if(le)for(var ae=0;ae<re.length;ae++)le[ae]=ae;a===void 0&&(a=Z(re)),h===void 0&&(h=Z(re))}(_,w),s||!c||h)if(s&&c&&a^h)B=a?1:0,_=V(_,w,x);else if(!s&&c&&h)B=a?1:0,_=I(_,w,x),_=V(_,w);else if(!s||a||c||h){if(s&&!c&&a^h)_=V(_,w),a?(B=0,_=I(_,w,x)):(B=1,_=I(_,w,x),_=V(_,w));else if(s&&a&&!c&&h)B=1,_=I(_,w,x),_=V(_,w);else if(!s&&!c&&a^h){var U=d;a?(B=1,_=I(_,w,x),B=0,d=!1,_=I(_,w,x),d=U):(B=0,_=I(_,w,x),_=V(_,w),B=1,d=!1,_=I(_,w,x),d=U,_=V(_,w))}}else B=0,_=I(_,w,x);else B=a?1:0,_=I(_,w,x);return _},this.__bidiEngine__.setOptions=function(_){_&&(s=_.isInputVisual,c=_.isOutputVisual,a=_.isInputRtl,h=_.isOutputRtl,d=_.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var s=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(s=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?s.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([n.doBidiReorder(i[a])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(St),St.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Cs(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new ub(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new K_(this.contents),this.head=new X_(this),this.name=new nb(this),this.cmap=new d2(this),this.toUnicode={},this.hhea=new J_(this),this.maxp=new rb(this),this.hmtx=new ib(this),this.post=new eb(this),this.os2=new Z_(this),this.loca=new lb(this),this.glyf=new ob(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,a,c,h;for(h=[],s=0,a=(c=this.bbox).length;s<a;s++)e=c[s],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var oo,Cs=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,o,s,a,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)n=e[r],o.push(this.writeByte(n));return o},t}(),K_=function(){var t;function e(n){var r,i,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,o,s,a,c,h,d,y,S,p,N,R;for(R in p=Object.keys(n).length,c=Math.log(2),y=16*Math.floor(Math.log(p)/c),s=Math.floor(y/c),d=16*p-y,(i=new Cs).writeInt(this.scalarType),i.writeShort(p),i.writeShort(y),i.writeShort(s),i.writeShort(d),o=16*p,h=i.pos+o,a=null,N=[],n)for(S=n[R],i.writeString(R),i.writeInt(t(S)),i.writeInt(h),i.writeInt(S.length),N=N.concat(S),R==="head"&&(a=h),h+=S.length;h%4;)N.push(0),h++;return i.write(N),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,o,s;for(n=p2.call(n);n.length%4;)n.push(0);for(o=new Cs(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},e}(),Q_={}.hasOwnProperty,To=function(t,e){for(var n in e)Q_.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};oo=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var X_=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return To(t,oo),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Cs).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),j1=function(){function t(e,n){var r,i,o,s,a,c,h,d,y,S,p,N,R,L,C,F,B;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),S=p/2,e.pos+=6,o=function(){var M,Z;for(Z=[],c=M=0;0<=S?M<S:M>S;c=0<=S?++M:--M)Z.push(e.readUInt16());return Z}(),e.pos+=2,R=function(){var M,Z;for(Z=[],c=M=0;0<=S?M<S:M>S;c=0<=S?++M:--M)Z.push(e.readUInt16());return Z}(),h=function(){var M,Z;for(Z=[],c=M=0;0<=S?M<S:M>S;c=0<=S?++M:--M)Z.push(e.readUInt16());return Z}(),d=function(){var M,Z;for(Z=[],c=M=0;0<=S?M<S:M>S;c=0<=S?++M:--M)Z.push(e.readUInt16());return Z}(),i=(this.length-e.pos+this.offset)/2,a=function(){var M,Z;for(Z=[],c=M=0;0<=i?M<i:M>i;c=0<=i?++M:--M)Z.push(e.readUInt16());return Z}(),c=C=0,B=o.length;C<B;c=++C)for(L=o[c],r=F=N=R[c];N<=L?F<=L:F>=L;r=N<=L?++F:--F)d[c]===0?s=r+h[c]:(s=a[d[c]/2+(r-N)-(S-c)]||0)!==0&&(s+=h[c]),this.codeMap[r]=65535&s}e.pos=y}return t.encode=function(e,n){var r,i,o,s,a,c,h,d,y,S,p,N,R,L,C,F,B,M,Z,ue,V,E,b,I,_,w,x,U,re,le,ae,J,fe,be,ge,T,H,X,ee,ne,he,ke,Te,Ie,Pe,qe;switch(U=new Cs,s=Object.keys(e).sort(function(Xe,st){return Xe-st}),n){case"macroman":for(R=0,L=function(){var Xe=[];for(N=0;N<256;++N)Xe.push(0);return Xe}(),F={0:0},o={},re=0,fe=s.length;re<fe;re++)F[Te=e[i=s[re]]]==null&&(F[Te]=++R),o[i]={old:e[i],new:F[e[i]]},L[i]=F[e[i]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(L),{charMap:o,subtable:U.data,maxGlyphID:R+1};case"unicode":for(w=[],y=[],B=0,F={},r={},C=h=null,le=0,be=s.length;le<be;le++)F[Z=e[i=s[le]]]==null&&(F[Z]=++B),r[i]={old:Z,new:F[Z]},a=F[Z]-i,C!=null&&a===h||(C&&y.push(C),w.push(i),h=a),C=i;for(C&&y.push(C),y.push(65535),w.push(65535),I=2*(b=w.length),E=2*Math.pow(Math.log(b)/Math.LN2,2),S=Math.log(E/2)/Math.LN2,V=2*b-E,c=[],ue=[],p=[],N=ae=0,ge=w.length;ae<ge;N=++ae){if(_=w[N],d=y[N],_===65535){c.push(0),ue.push(0);break}if(_-(x=r[_].new)>=32768)for(c.push(0),ue.push(2*(p.length+b-N)),i=J=_;_<=d?J<=d:J>=d;i=_<=d?++J:--J)p.push(r[i].new);else c.push(x-_),ue.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*b+2*p.length),U.writeUInt16(0),U.writeUInt16(I),U.writeUInt16(E),U.writeUInt16(S),U.writeUInt16(V),he=0,T=y.length;he<T;he++)i=y[he],U.writeUInt16(i);for(U.writeUInt16(0),ke=0,H=w.length;ke<H;ke++)i=w[ke],U.writeUInt16(i);for(Ie=0,X=c.length;Ie<X;Ie++)a=c[Ie],U.writeUInt16(a);for(Pe=0,ee=ue.length;Pe<ee;Pe++)M=ue[Pe],U.writeUInt16(M);for(qe=0,ne=p.length;qe<ne;qe++)R=p[qe],U.writeUInt16(R);return{charMap:r,subtable:U.data,maxGlyphID:B+1}}},t}(),d2=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return To(t,oo),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new j1(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=j1.encode(e,n),(i=new Cs).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),J_=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return To(t,oo),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Z_=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return To(t,oo),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),eb=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return To(t,oo),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var s,a,c;for(c=[],o=s=0,a=this.file.maxp.numGlyphs;0<=a?s<a:s>a;o=0<=a?++s:--s)c.push(e.readUInt32());return c}).call(this)}},t}(),tb=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},nb=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return To(t,oo),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,o,s,a,c,h,d,y,S;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(c={},o=d=0,y=r.length;d<y;o=++d)i=r[o],e.pos=i.offset,h=e.readString(i.length),s=new tb(h,i),c[S=i.nameID]==null&&(c[S]=[]),c[i.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),rb=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return To(t,oo),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),ib=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return To(t,oo),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,o,s,a,c;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,d;for(d=[],n=h=0;0<=i?h<i:h>i;n=0<=i?++h:--h)d.push(e.readInt16());return d}(),this.widths=(function(){var h,d,y,S;for(S=[],h=0,d=(y=this.metrics).length;h<d;h++)o=y[h],S.push(o.advance);return S}).call(this),r=this.widths[this.widths.length-1],c=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)c.push(this.widths.push(r));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),p2=[].slice,ob=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return To(t,oo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,o,s,a,c,h,d,y;return e in this.cache?this.cache[e]:(o=this.file.loca,n=this.file.contents,r=o.indexOf(e),(i=o.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,s=(a=new Cs(n.read(i))).readShort(),h=a.readShort(),y=a.readShort(),c=a.readShort(),d=a.readShort(),this.cache[e]=s===-1?new ab(a,h,y,c,d):new sb(a,s,h,y,c,d),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,o,s,a,c;for(s=[],o=[],a=0,c=n.length;a<c;a++)i=e[n[a]],o.push(s.length),i&&(s=s.concat(i.encode(r)));return o.push(s.length),{table:s,offsets:o}},t}(),sb=function(){function t(e,n,r,i,o,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),ab=function(){function t(e,n,r,i,o){var s,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Cs(p2.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),lb=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return To(t,oo),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<r.length;++s)if(r[s]=i,o<n.length&&n[o]==s){++o,r[s]=i;var a=this.offsets[s],c=this.offsets[s+1]-a;c>0&&(i+=c)}for(var h=new Array(4*r.length),d=0;d<r.length;++d)h[4*d+3]=255&r[d],h[4*d+2]=(65280&r[d])>>8,h[4*d+1]=(16711680&r[d])>>16,h[4*d]=(4278190080&r[d])>>24;return h},t}(),ub=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,o;for(n in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,o,s,a,c;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in n=[],i)(r=i[o])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(o in c=this.glyphsFor(n))r=c[o],i[o]=r;return i},t.prototype.encode=function(e,n){var r,i,o,s,a,c,h,d,y,S,p,N,R,L,C;for(i in r=d2.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),p={0:0},C=r.charMap)p[(c=C[i]).old]=c.new;for(N in S=r.maxGlyphID,s)N in p||(p[N]=S++);return d=function(F){var B,M;for(B in M={},F)M[F[B]]=B;return M}(p),y=Object.keys(d).sort(function(F,B){return F-B}),R=function(){var F,B,M;for(M=[],F=0,B=y.length;F<B;F++)a=y[F],M.push(d[a]);return M}(),o=this.font.glyf.encode(s,R,p),h=this.font.loca.encode(o.offsets,R),L={cmap:this.font.cmap.raw(),glyf:o.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(L["OS/2"]=this.font.os2.raw()),this.font.directory.encode(L)},t}();St.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,o,s;if(Array.isArray(n))return"["+function(){var a,c,h;for(h=[],a=0,c=n.length;a<c;a++)r=n[a],h.push(e.convert(r));return h}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in o=["<<"],n)s=n[i],o.push("/"+i+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+n},e}();var Ka,_s,nu,zr,qi,Oc,Qa,fn,rc,m2,g2,v2,y2,ic,wf,Af,Sf,xf;class cb{constructor(){Bi(this,fn);Bi(this,Ka,null);Bi(this,_s,!1);Bi(this,nu,{orientation:"portrait",unit:"mm",format:"a4"});Bi(this,zr,{width:210,height:297});Bi(this,qi,{top:20,left:20,right:20,bottom:20});Bi(this,Oc,{primary:"#003e5a",secondary:"#A1C6EA",accent:"#F2F4F6",white:"#FFFFFF"});Bi(this,Qa,{heightPercent:.15,horizontalPaddingPercent:.25,bottomPaddingPercent:.025});pr(this,fn,rc).call(this)}async generateRegulamin(e={}){const{filename:n="regulamin.pdf",download:r=!0}=e;Gt(this,_s)||await pr(this,fn,rc).call(this);const i=new St(Gt(this,nu));return pr(this,fn,wf).call(this,i),pr(this,fn,Af).call(this,i),pr(this,fn,Sf).call(this,i),pr(this,fn,xf).call(this,i),r?(i.save(n),i):i.output("blob")}async getAsBlob(){return this.generateRegulamin({download:!1})}async getAsBase64(){Gt(this,_s)||await pr(this,fn,rc).call(this);const e=new St(Gt(this,nu));return pr(this,fn,wf).call(this,e),pr(this,fn,Af).call(this,e),pr(this,fn,Sf).call(this,e),pr(this,fn,xf).call(this,e),e.output("datauristring")}async openInNewTab(){const e=await this.getAsBlob(),n=URL.createObjectURL(e);window.open(n,"_blank"),setTimeout(()=>{URL.revokeObjectURL(n)},1e3)}}Ka=new WeakMap,_s=new WeakMap,nu=new WeakMap,zr=new WeakMap,qi=new WeakMap,Oc=new WeakMap,Qa=new WeakMap,fn=new WeakSet,rc=async function(){try{const e=new URL("/tlenujemy/assets/logo-DstYoE77.png",import.meta.url).href,r=await(await fetch(e)).blob();Ks(this,Ka,await pr(this,fn,m2).call(this,r)),Ks(this,_s,!0)}catch(e){console.error("Bd podczas adowania logo:",e),Ks(this,_s,!1)}},m2=function(e){return new Promise((n,r)=>{const i=new FileReader;i.onloadend=()=>n(i.result),i.onerror=r,i.readAsDataURL(e)})},g2=function(e){const n=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear();return`${n}/${r}/${i} r.`},v2=function(){return["Lorem ipsum dolor sit amet, consectetur adipiscing elit.","Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.","Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.","Duis aute irure dolor in reprehenderit in voluptate velit esse.","Excepteur sint occaecat cupidatat non proident, sunt in culpa.","Nulla facilisi morbi tempus iaculis urna id volutpat lacus.","Pellentesque habitant morbi tristique senectus et netus et malesuada.","Fames ac turpis egestas sed tempus urna et pharetra pharetra.","Massa tincidunt dui ut ornare lectus sit amet est placerat.","Viverra accumsan in nisl nisi scelerisque eu ultrices vitae auctor.","Amet consectetur adipiscing elit pellentesque habitant morbi tristique.","Lorem ipsum dolor sit amet, consectetur adipiscing elit."]},y2=function(e){const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:{r:0,g:0,b:0}},ic=function(){const e=Gt(this,zr).height*Gt(this,Qa).heightPercent,n=Gt(this,zr).width*Gt(this,Qa).horizontalPaddingPercent,r=Gt(this,zr).height*Gt(this,Qa).bottomPaddingPercent;return{x:0,y:0,width:Gt(this,zr).width,height:e,logoAreaX:n,logoAreaWidth:Gt(this,zr).width-n*2,bottomPadding:r,contentStartY:e+r}},wf=function(e){const n=pr(this,fn,ic).call(this),r=pr(this,fn,y2).call(this,Gt(this,Oc).primary);if(e.setFillColor(r.r,r.g,r.b),e.rect(n.x,n.y,n.width,n.height,"F"),Gt(this,_s)&&Gt(this,Ka)){const i=n.height,o=n.logoAreaWidth*.5,s=1;let a=o,c=a/s;c>i&&(c=i,a=c*s);const h=(Gt(this,zr).width-a)/2,d=(n.height-c)/2;e.addImage(Gt(this,Ka),"PNG",h,d,a,c)}},Af=function(e){const r=pr(this,fn,ic).call(this).contentStartY+10,i=pr(this,fn,g2).call(this,new Date);e.setFont("helvetica","bold"),e.setFontSize(18),e.setTextColor(0,0,0);const o="Regulamin",s=e.getTextWidth(o),a=Gt(this,zr).width/2-s/2;e.text(o,a,r),e.setFont("helvetica","normal"),e.setFontSize(12);const c=e.getTextWidth(i),h=Gt(this,zr).width-Gt(this,qi).right-c;e.text(i,h,r),e.setDrawColor(200,200,200),e.setLineWidth(.5),e.line(Gt(this,qi).left,r+10,Gt(this,zr).width-Gt(this,qi).right,r+10)},Sf=function(e){const n=pr(this,fn,v2).call(this),r=pr(this,fn,ic).call(this),i=r.contentStartY+20,o=r.bottomPadding+12,s=i+o,a=12,c=Gt(this,zr).width-Gt(this,qi).left-Gt(this,qi).right-15;e.setFont("helvetica","normal"),e.setFontSize(11);let h=s;n.forEach((d,y)=>{e.setFont("helvetica","bold"),e.text(`${y}.`,Gt(this,qi).left,h),e.setFont("helvetica","normal");const S=e.splitTextToSize(d,c);S.forEach((p,N)=>{e.text(p,Gt(this,qi).left+15,h+N*5)}),h+=a+(S.length-1)*5,h>Gt(this,zr).height-Gt(this,qi).bottom&&(e.addPage(),h=Gt(this,qi).top)})},xf=function(e){const r=`Terapia tlenem hiperbarycznym. Tlenovo  ${new Date().getFullYear()}r.`,i=Gt(this,zr).height-10;e.setFont("helvetica","normal"),e.setFontSize(9),e.setTextColor(128,128,128);const o=e.getTextWidth(r),s=(Gt(this,zr).width-o)/2;e.text(r,s,i)};const qh=new cb;function hb(){const t=et(!1),e=et(null);async function n(o="regulamin.pdf"){t.value=!0,e.value=null;try{await qh.generateRegulamin({filename:o,download:!0})}catch(s){e.value=s.message,console.error("Bd podczas generowania PDF:",s)}finally{t.value=!1}}async function r(){t.value=!0,e.value=null;try{return await qh.getAsBlob()}catch(o){return e.value=o.message,console.error("Bd podczas generowania PDF:",o),null}finally{t.value=!1}}async function i(){t.value=!0,e.value=null;try{await qh.openInNewTab()}catch(o){e.value=o.message,console.error("Bd podczas otwierania PDF:",o)}finally{t.value=!1}}return{isGenerating:t,error:e,downloadRegulamin:n,getRegulaminBlob:r,openRegulaminInNewTab:i}}const fb={class:"PhoneEmulator"},db={class:"PhoneEmulator__device"},pb={class:"PhoneEmulator__videoWrapper"},mb={__name:"PhoneEmulator",setup(t){const e=et(null);let n=!1,r=0,i=0,o=0,s=0,a=0,c=null,h=null;const d=(F,B)=>function(...Z){const ue=()=>{clearTimeout(h),F(...Z)};clearTimeout(h),h=setTimeout(ue,B)};let y=0;const S=(F,B)=>function(...M){const Z=Date.now();Z-y>=B&&(y=Z,F.apply(this,M))},p=()=>{if(!e.value)return null;const F=[e.value.querySelector(".q-tab-panels"),e.value.querySelector(".q-tab-panel"),e.value.querySelector(".MainLayout__pageContainer"),e.value.querySelector('[class*="scroll"]'),e.value.querySelector(".q-layout"),e.value];for(const B of F)if(B&&B.scrollHeight>B.clientHeight)return B;return e.value},N=F=>{c=p(),c&&(n=!0,r=F.touches?F.touches[0].clientY:F.clientY,i=c.scrollTop,o=0,s=0,a=0,F.preventDefault())},R=F=>{if(!n||!c)return;const B=F.touches?F.touches[0].clientY:F.clientY,M=B-r,Z=i-M,ue=c.scrollHeight-c.clientHeight,V=Math.max(0,Math.min(ue,Z));c.scrollTop=V,o=(r-B)*.8},L=S(F=>{R(F),F.preventDefault()},16),C=F=>{if(!n||!c)return;n=!1,d(()=>{if(Math.abs(o)>1){s=.8*o;const M=Date.now(),Z=()=>{const ue=Date.now()-M,V=s*Math.exp(-ue/325);if(Math.abs(V)>.5){const E=c.scrollHeight-c.clientHeight,b=c.scrollTop+V;c.scrollTop=Math.max(0,Math.min(E,b)),a=requestAnimationFrame(Z)}else cancelAnimationFrame(a)};Z()}},50)(),F.preventDefault()};return Yr(()=>{e.value&&(e.value.addEventListener("touchstart",N,{passive:!1}),e.value.addEventListener("touchmove",L,{passive:!1}),e.value.addEventListener("touchend",C,{passive:!1}),e.value.addEventListener("mousedown",N),e.value.addEventListener("mousemove",L),e.value.addEventListener("mouseup",C),e.value.addEventListener("mouseleave",C))}),Bc(()=>{a&&cancelAnimationFrame(a),h&&clearTimeout(h)}),(F,B)=>(wt(),Dn("div",fb,[se("div",db,[B[0]||(B[0]=se("div",{class:"PhoneEmulator__notch"},null,-1)),se("div",{class:"PhoneEmulator__screen",ref_key:"screenRef",ref:e},[dp(F.$slots,"default",{},void 0)],512),B[1]||(B[1]=se("div",{class:"PhoneEmulator__homeIndicator"},null,-1))]),se("div",pb,[dp(F.$slots,"video",{},void 0)])]))}},gb=Rr(mb,[["__scopeId","data-v-cdfe918a"]]),vb={__name:"TlenovoBookBtn",emits:["book"],setup(t,{emit:e}){const n=e;function r(){n("book")}return(i,o)=>(wt(),Xt(Yn,{class:"TlenovoBookBtn",label:"Zarezerwuj termin",rounded:"",size:"lg",color:"primary",icon:"calendar_month",onClick:r}))}},B1=Rr(vb,[["__scopeId","data-v-4118d168"]]),yb={ratio:[String,Number]};function _b(t,e){return ye(()=>{const n=Number(t.ratio||(e!==void 0?e.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}const bb=1.7778,wb=Mn({name:"QImg",props:{...yb,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:bb},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(t,{slots:e,emit:n}){const r=et(t.initialRatio),i=_b(t,r),o=Cn(),{registerTimeout:s,removeTimeout:a}=Wl(),{registerTimeout:c,removeTimeout:h}=Wl(),d=ye(()=>t.placeholderSrc!==void 0?{src:t.placeholderSrc}:null),y=ye(()=>t.errorSrc!==void 0?{src:t.errorSrc,__qerror:!0}:null),S=[et(null),et(d.value)],p=et(0),N=et(!1),R=et(!1),L=ye(()=>`q-img q-img--${t.noNativeMenu===!0?"no-":""}menu`),C=ye(()=>({width:t.width,height:t.height})),F=ye(()=>`q-img__image ${t.imgClass!==void 0?t.imgClass+" ":""}q-img__image--with${t.noTransition===!0?"out":""}-transition q-img__image--`),B=ye(()=>({...t.imgStyle,objectFit:t.fit,objectPosition:t.position}));function M(){if(h(),t.loadingShowDelay===0){N.value=!0;return}c(()=>{N.value=!0},t.loadingShowDelay)}function Z(){h(),N.value=!1}function ue({target:w}){Va(o)===!1&&(a(),r.value=w.naturalHeight===0?.5:w.naturalWidth/w.naturalHeight,V(w,1))}function V(w,x){x===1e3||Va(o)===!0||(w.complete===!0?E(w):s(()=>{V(w,x+1)},50))}function E(w){Va(o)!==!0&&(p.value=p.value^1,S[p.value].value=null,Z(),w.getAttribute("__qerror")!=="true"&&(R.value=!1),n("load",w.currentSrc||w.src))}function b(w){a(),Z(),R.value=!0,S[p.value].value=y.value,S[p.value^1].value=d.value,n("error",w)}function I(w){const x=S[w].value,U={key:"img_"+w,class:F.value,style:B.value,alt:t.alt,crossorigin:t.crossorigin,decoding:t.decoding,referrerpolicy:t.referrerpolicy,height:t.height,width:t.width,loading:t.loading,fetchpriority:t.fetchpriority,"aria-hidden":"true",draggable:t.draggable,...x};return p.value===w?Object.assign(U,{class:U.class+"current",onLoad:ue,onError:b}):U.class+="loaded",_e("div",{class:"q-img__container absolute-full",key:"img"+w},_e("img",U))}function _(){return N.value===!1?_e("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},gr(e[R.value===!0?"error":"default"])):_e("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},e.loading!==void 0?e.loading():t.noSpinner===!0?void 0:[_e(hm,{color:t.spinnerColor,size:t.spinnerSize})])}{let w=function(){Jt(()=>t.src||t.srcset||t.sizes?{src:t.src,srcset:t.srcset,sizes:t.sizes}:null,x=>{a(),R.value=!1,x===null?(Z(),S[p.value^1].value=d.value):M(),S[p.value].value=x},{immediate:!0})};Fc.value===!0?Yr(w):w()}return()=>{const w=[];return i.value!==null&&w.push(_e("div",{key:"filler",style:i.value})),S[0].value!==null&&w.push(I(0)),S[1].value!==null&&w.push(I(1)),w.push(_e(Hr,{name:"q-transition--fade"},_)),_e("div",{key:"main",class:L.value,style:C.value,role:"img","aria-label":t.alt},w)}}}),Ab="/tlenujemy/assets/logo-DstYoE77.png",Sb={__name:"TlenovoLogo",props:{isMobile:Boolean},setup(t){return(e,n)=>(wt(),Xt(wb,{class:Ss(["TlenovoLogo",{"TlenovoLogo--small":t.isMobile}]),src:Ab,"spinner-color":"white"},null,8,["class"]))}},q1=Rr(Sb,[["__scopeId","data-v-8ee9994b"]]),xb={__name:"TlenovoPhoneAnchor",setup(t){const e=et(!1);let n;return Yr(()=>{n=setInterval(()=>{e.value=!0,setTimeout(()=>{e.value=!1},1e3)},5e3)}),Bc(()=>{clearInterval(n)}),(r,i)=>(wt(),Dn("a",{href:"tel:+48733096056",class:Ss({TlenovoPhoneBtn:!0,"TlenovoPhoneBtn--shake":e.value})},[xt(mr,{name:"call",size:"md"})],2))}},z1=Rr(xb,[["__scopeId","data-v-8327fdbd"]]),_2=Mn({name:"QCard",props:{...ca,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(t,{slots:e}){const{proxy:{$q:n}}=Cn(),r=ha(t,n),i=ye(()=>"q-card"+(r.value===!0?" q-card--dark q-dark":"")+(t.bordered===!0?" q-card--bordered":"")+(t.square===!0?" q-card--square no-border-radius":"")+(t.flat===!0?" q-card--flat no-shadow":""));return()=>_e(t.tag,{class:i.value},gr(e.default))}}),b2=Yv("snackbarStore",{state:()=>({message:"",color:"positive",timeout:3e3,icon:"check_circle_outline",iconSize:"lg",position:"bottom",visible:!1,timeoutId:null}),getters:{simpleGet:t=>t.message},actions:{showSnackbar(t,e={}){this.timeoutId&&clearTimeout(this.timeoutId),this.message=t,this.color=e.color||this.color,this.timeout=e.timeout||this.timeout,this.icon=e.icon||this.icon,this.position=e.position||this.position,this.visible=!0,this.timeout>0&&(this.timeoutId=setTimeout(()=>{this.hideSnackbar()},this.timeout))},hideSnackbar(){this.visible=!1,this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}}}),Tb={class:"TlenovoSnackbar__content"},kb={class:"TlenovoSnackbar__message"},Eb={__name:"TlenovoSnackbar",setup(t){const e=b2(),{visible:n,message:r,color:i,icon:o,iconSize:s}=Kv(e);return(a,c)=>(wt(),Xt(Hr,{name:"snackbar-slide"},{default:rn(()=>[wo(n)?(wt(),Xt(_2,{key:0,class:"TlenovoSnackbar",flat:"",bordered:"",dark:""},{default:rn(()=>[se("div",Tb,[se("span",kb,Wr(wo(r)),1),xt(mr,{class:"TlenovoSnackbar__icon",name:wo(o),color:wo(i),size:wo(s)},null,8,["name","color","size"])])]),_:1})):qn("",!0)]),_:1}))}},U1=Rr(Eb,[["__scopeId","data-v-ca55a2bf"]]),$c=Mn({name:"QPageContainer",setup(t,{slots:e}){const{proxy:{$q:n}}=Cn(),r=ol(Hf,zi);if(r===zi)return console.error("QPageContainer needs to be child of QLayout"),zi;qc(Qv,!0);const i=ye(()=>{const o={};return r.header.space===!0&&(o.paddingTop=`${r.header.size}px`),r.right.space===!0&&(o[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${r.right.size}px`),r.footer.space===!0&&(o.paddingBottom=`${r.footer.size}px`),r.left.space===!0&&(o[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${r.left.size}px`),o});return()=>_e("div",{class:"q-page-container",style:i.value},gr(e.default))}}),Ib={};function Cb(t,e){return wt(),Xt($c,{class:"TlenovoContraView"},{default:rn(()=>e[0]||(e[0]=[se("div",{class:"TlenovoContraView__background"},[se("div",{class:"TlenovoContraView__shape TlenovoContraView__shape--1"}),se("div",{class:"TlenovoContraView__shape TlenovoContraView__shape--2"}),se("div",{class:"TlenovoContraView__shape TlenovoContraView__shape--3"}),se("div",{class:"TlenovoContraView__shape TlenovoContraView__shape--footer"})],-1),se("header",{class:"TlenovoContraView__header"},[se("h1",null,"Informacje o Przeciwwskazaniach"),se("p",{class:"TlenovoContraView__headerTagline"}," Zapoznaj si z przeciwwskazaniami dla hiperbarii ")],-1),se("section",{class:"TlenovoContraView__content"},[se("div",{class:"TlenovoContraView__contentItem"},[se("h2",{class:"TlenovoContraView__contentItemTitle"},"Bezwzgldne przeciwwskazania do hiperbarii:"),se("ul",{class:"TlenovoContraView__contentItemList"},[se("li",{class:"TlenovoContraView__contentItemListElement"},"nieleczona odma pucna"),se("li",{class:"TlenovoContraView__contentItemListElement"},"przyjmowanie bleomycyny"),se("li",{class:"TlenovoContraView__contentItemListElement"},"przymowanie doksorubicyny"),se("li",{class:"TlenovoContraView__contentItemListElement"},"przyjmowanie cisplatyny"),se("li",{class:"TlenovoContraView__contentItemListElement"},"przyjmowanie disulfiramu"),se("li",{class:"TlenovoContraView__contentItemListElement"},"chemioterapia"),se("li",{class:"TlenovoContraView__contentItemListElement"},"klaustrofobia")])]),se("div",{class:"TlenovoContraView__contentItem"},[se("h2",{class:"TlenovoContraView__contentItemTitle"},"Przeciwwskazania wzgldne:"),se("ul",{class:"TlenovoContraView__contentItemList"},[se("li",{class:"TlenovoContraView__contentItemListElement"},"zastosowanie tlenoterapii hiperbarycznej w ciy"),se("li",{class:"TlenovoContraView__contentItemListElement"},"rozrusznik serca"),se("li",{class:"TlenovoContraView__contentItemListElement"},"zama"),se("li",{class:"TlenovoContraView__contentItemListElement"},"zesp niedokrwistoci hemolitycznej"),se("li",{class:"TlenovoContraView__contentItemListElement"},"infekcje wirusowe puc i zatok"),se("li",{class:"TlenovoContraView__contentItemListElement"},"sferocytoza"),se("li",{class:"TlenovoContraView__contentItemListElement"},"rozedma puc"),se("li",{class:"TlenovoContraView__contentItemListElement"},"nowotwory leczone radioterapi (niezbdna konsultacja z lekarzem)")])])],-1)])),_:1})}const Nb=Rr(Ib,[["render",Cb],["__scopeId","data-v-6058981c"]]),Lb={class:"TlenovoFact"},Pb={class:"TlenovoFact__cardContent"},Rb={class:"TlenovoFact__iconContainer"},Db={class:"TlenovoFact__textContent"},Mb={class:"TlenovoFact__description"},Ob={class:"TlenovoFact__linkContainer"},Fb={__name:"TlenovoFact",props:{text:{type:String,required:!0},linkText:{type:String,required:!0},link:{type:String,required:!0},icon:{type:String,required:!0}},setup(t){function e(n){window.open(n,"_blank")}return(n,r)=>(wt(),Dn("div",Lb,[r[1]||(r[1]=se("span",{class:"TlenovoFact__backgroundCircle"},[se("svg",{class:"TlenovoFact__logo",width:"300",height:"300",viewBox:"0 0 300 300",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[se("text",{x:"60",y:"125","font-family":"Arial","font-size":"72",fill:"#FFF","font-weight":"bold"},"O"),se("text",{x:"115",y:"145","font-family":"Arial","font-size":"36",fill:"#FFF","font-weight":"bold"},"2")])],-1)),se("div",Pb,[se("span",Rb,Wr(t.icon),1),se("div",Db,[se("p",Mb,Wr(t.text),1)]),se("div",Ob,[se("span",{class:"TlenovoFact__exploreLink",onClick:r[0]||(r[0]=i=>e(t.link))},Wr(t.linkText),1)])])]))}},Na=Rr(Fb,[["__scopeId","data-v-812698c8"]]),Vb={class:"TlenovoInfoView__content"},jb={class:"TlenovoInfoView__row TlenovoInfoView__row--full",id:"naturalna-regeneracja"},Bb={class:"TlenovoInfoView__row"},qb={class:"TlenovoInfoView__col",id:"najlepsza-koncentracja"},zb={class:"TlenovoInfoView__col",id:"wzrost-energii"},Ub={class:"TlenovoInfoView__row TlenovoInfoView__row--full",id:"proces-terapii"},$b={class:"TlenovoInfoView__row"},Hb={class:"TlenovoInfoView__col",id:"wzrost-odpornosci"},Wb={class:"TlenovoInfoView__col",id:"wzrost-vo2max"},Gb={__name:"TlenovoInfoView",props:{targetBenefit:String},setup(t){const e=t;Yr(()=>{e.targetBenefit&&c(e.targetBenefit)});const n={text:"Badania kliniczne na zdrowych dorosych wykazay, e regularne sesje HBOT zwikszaj ilo krcych komrek macierzystych (CD34+) a o 800% po penym cyklu zabiegw (2040 sesji), przekadajc si na skokowy wzrost zdolnoci regeneracyjnych i odpornoci organizmu.",linkText:"Department of Internal Medicine, University of Texas Southwestern Medical Center",link:"https://pmc.ncbi.nlm.nih.gov/articles/PMC10318163",icon:""},r={text:"Terapia ta nie tylko zwiksza natlenienie mzgu, ale take uruchamia procesy neuroregeneracji, co przekada si na wiksz efektywno pracy, nauki i codziennych aktywnoci. Kada nawet drobna poprawa uwagi, szybkoci reakcji czy sprawnoci umysowej oznacza przewag w pracy, sporcie i yciu.",linkText:"Sackler School of Medicine, Tel-Aviv University, Tel-Aviv, Israel",link:"https://pmc.ncbi.nlm.nih.gov/articles/PMC7377835",icon:""},i={text:"Regularne sesje w komorze hiperbarycznej to sprawdzony sposb, by naturalnie podnie poziom energii, zredukowa chroniczne zmczenie oraz odzyska chci do aktywnego ycia szczeglnie w okresie jesienno-zimowym.",linkText:"Annals of Military and Health Sciences Research",link:"https://brieflands.com/articles/amhsr-59684",icon:""},o={text:"HBOT intensywnie natlenia tkanki, przyspiesza regeneracj tkanek mikkich, skry, cigien i koci po urazach, otwartych zamaniach czy operacjach  efekty potwierdzone w licznych badaniach klinicznych na zdrowych dorosych i sportowcach: wzrost neowaskularyzacji, produkcji kolagenu i zmniejszenie stanw zapalnych.",linkText:"Prince of Wales Hospital, Department of Anaesthesia, Barker Street, Randwick, NSW, Australia",link:"https://pmc.ncbi.nlm.nih.gov/articles/PMC7387126",icon:""},s={text:"Wysoki poziom komrek macierzystych po terapii HBOT przyspiesza gojenie si ran, regeneracj skry, narzdw oraz tkanek, co wspiera szybk mobilizacj ukadu immunologicznego podczas walki z infekcjami czy przewlekymi schorzeniami.",linkText:"Departamento de Biologa, Universidad de Chile, Santiago, Chile",link:"https://pmc.ncbi.nlm.nih.gov/articles/PMC6078002",icon:""},a={text:"Sesje w komorze hiperbarycznej to przeomowy sposb na naturaln popraw VOMax, czyli maksymalnej zdolnoci organizmu do wykorzystania tlenu. Kada nawet niewielka poprawa VOMax przekada si na dusze i intensywniejsze treningi, szybsz regeneracj oraz wymierne efekty zarwno w profesjonalnym sporcie, jak i codziennej aktywnoci.",linkText:"Physical Therapy Department, Shamir Medical Center, Zerifin, Israel",link:"https://pmc.ncbi.nlm.nih.gov/articles/PMC8825926",icon:""};function c(h){const d=document.getElementById(h);d&&d.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}return(h,d)=>(wt(),Xt($c,{class:"TlenovoInfoView"},{default:rn(()=>[d[0]||(d[0]=se("div",{class:"TlenovoInfoView__background"},[se("div",{class:"TlenovoInfoView__shape TlenovoInfoView__shape--1"}),se("div",{class:"TlenovoInfoView__shape TlenovoInfoView__shape--2"}),se("div",{class:"TlenovoInfoView__shape TlenovoInfoView__shape--3"}),se("div",{class:"TlenovoInfoView__shape TlenovoInfoView__shape--footer"})],-1)),d[1]||(d[1]=se("header",{class:"TlenovoInfoView__header"},[se("h1",null,"Informacje o Tlenoterapii"),se("p",{class:"TlenovoInfoView__headerTagline"}," Poznaj korzyci i zastosowanie tlenoterapii hiperbarycznej ")],-1)),se("section",Vb,[se("div",jb,[xt(Na,{ref:"naturalnaRegeneracja",text:n.text,linkText:n.linkText,link:n.link,icon:n.icon},null,8,["text","linkText","link","icon"])]),se("div",Bb,[se("div",qb,[xt(Na,{ref:"najlepszaKoncentracja",text:r.text,linkText:r.linkText,link:r.link,icon:r.icon},null,8,["text","linkText","link","icon"])]),se("div",zb,[xt(Na,{ref:"wzrostEnergii",text:i.text,linkText:i.linkText,link:i.link,icon:i.icon},null,8,["text","linkText","link","icon"])])]),se("div",Ub,[xt(Na,{ref:"procesTerapii",text:o.text,linkText:o.linkText,link:o.link,icon:o.icon},null,8,["text","linkText","link","icon"])]),se("div",$b,[se("div",Hb,[xt(Na,{ref:"wzrostOdpornosci",text:s.text,linkText:s.linkText,link:s.link,icon:s.icon},null,8,["text","linkText","link","icon"])]),se("div",Wb,[xt(Na,{ref:"wzrostVo2max",text:a.text,linkText:a.linkText,link:a.link,icon:a.icon},null,8,["text","linkText","link","icon"])])])])]),_:1}))}},Yb=Rr(Gb,[["__scopeId","data-v-95c7f708"]]),Kb=()=>{};var $1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Qb=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},A2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,d=o>>2,y=(o&3)<<4|a>>4;let S=(a&15)<<2|h>>6,p=h&63;c||(p=64,s||(S=64)),r.push(n[d],n[y],n[S],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(w2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Qb(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||h==null||y==null)throw new Xb;const S=o<<2|a>>4;if(r.push(S),h!==64){const p=a<<4&240|h>>2;if(r.push(p),y!==64){const N=h<<6&192|y;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Xb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jb=function(t){const e=w2(t);return A2.encodeByteArray(e,!0)},yc=function(t){return Jb(t).replace(/\./g,"")},Zb=function(t){try{return A2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=()=>ew().__FIREBASE_DEFAULTS__,nw=()=>{if(typeof process>"u"||typeof $1>"u")return;const t=$1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rw=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Zb(t[1]);return e&&JSON.parse(e)},td=()=>{try{return Kb()||tw()||nw()||rw()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iw=t=>{var e,n;return(n=(e=td())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ow=t=>{const e=iw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},S2=()=>{var t;return(t=td())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yc(JSON.stringify(n)),yc(JSON.stringify(s)),""].join(".")}const Bl={};function uw(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bl))Bl[e]?t.emulator.push(e):t.prod.push(e);return t}function cw(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let H1=!1;function hw(t,e){if(typeof window>"u"||typeof document>"u"||!nd(window.location.host)||Bl[t]===e||Bl[t]||H1)return;Bl[t]=e;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",o=uw().prod.length>0;function s(){const S=document.getElementById(r);S&&S.remove()}function a(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function c(S,p){S.setAttribute("width","24"),S.setAttribute("id",p),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function h(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{H1=!0,s()},S}function d(S,p){S.setAttribute("id",p),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function y(){const S=cw(r),p=n("text"),N=document.getElementById(p)||document.createElement("span"),R=n("learnmore"),L=document.getElementById(R)||document.createElement("a"),C=n("preprendIcon"),F=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const B=S.element;a(B),d(L,R);const M=h();c(F,C),B.append(F,N,L,M),document.body.appendChild(B)}o?(N.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dw(){var t;const e=(t=td())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pw(){return!dw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mw(){try{return typeof indexedDB=="object"}catch{return!1}}function gw(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="FirebaseError";class al extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vw,Object.setPrototypeOf(this,al.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,x2.prototype.create)}}class x2{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?yw(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new al(i,a,r)}}function yw(t,e){return t.replace(_w,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _w=/\{\$([^}]+)}/g;function _c(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(W1(o)&&W1(s)){if(!_c(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function W1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t){return t&&t._delegate?t._delegate:t}class Ql{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Aw(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ww(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ww(t){return t===Xs?void 0:t}function Aw(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(on||(on={}));const xw={debug:on.DEBUG,verbose:on.VERBOSE,info:on.INFO,warn:on.WARN,error:on.ERROR,silent:on.SILENT},Tw=on.INFO,kw={[on.DEBUG]:"log",[on.VERBOSE]:"log",[on.INFO]:"info",[on.WARN]:"warn",[on.ERROR]:"error"},Ew=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=kw[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class T2{constructor(e){this.name=e,this._logLevel=Tw,this._logHandler=Ew,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in on))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,on.DEBUG,...e),this._logHandler(this,on.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,on.VERBOSE,...e),this._logHandler(this,on.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,on.INFO,...e),this._logHandler(this,on.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,on.WARN,...e),this._logHandler(this,on.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,on.ERROR,...e),this._logHandler(this,on.ERROR,...e)}}const Iw=(t,e)=>e.some(n=>t instanceof n);let G1,Y1;function Cw(){return G1||(G1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nw(){return Y1||(Y1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k2=new WeakMap,Tf=new WeakMap,E2=new WeakMap,zh=new WeakMap,rd=new WeakMap;function Lw(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ks(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&k2.set(n,t)}).catch(()=>{}),rd.set(e,t),e}function Pw(t){if(Tf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Tf.set(t,e)}let kf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||E2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Rw(t){kf=t(kf)}function Dw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Uh(this),e,...n);return E2.set(r,e.sort?e.sort():[e]),ks(r)}:Nw().includes(t)?function(...e){return t.apply(Uh(this),e),ks(k2.get(this))}:function(...e){return ks(t.apply(Uh(this),e))}}function Mw(t){return typeof t=="function"?Dw(t):(t instanceof IDBTransaction&&Pw(t),Iw(t,Cw())?new Proxy(t,kf):t)}function ks(t){if(t instanceof IDBRequest)return Lw(t);if(zh.has(t))return zh.get(t);const e=Mw(t);return e!==t&&(zh.set(t,e),rd.set(e,t)),e}const Uh=t=>rd.get(t);function Ow(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=ks(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ks(s.result),c.oldVersion,c.newVersion,ks(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}const Fw=["get","getKey","getAll","getAllKeys","count"],Vw=["put","add","delete","clear"],$h=new Map;function K1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($h.get(e))return $h.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Vw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Fw.includes(n)))return;const o=async function(s,...a){const c=this.transaction(s,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&c.done]))[0]};return $h.set(e,o),o}Rw(t=>({...t,get:(e,n,r)=>K1(e,n)||t.get(e,n,r),has:(e,n)=>!!K1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Bw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Bw(t){const e=t.getComponent();return e?.type==="VERSION"}const Ef="@firebase/app",Q1="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new T2("@firebase/app"),qw="@firebase/app-compat",zw="@firebase/analytics-compat",Uw="@firebase/analytics",$w="@firebase/app-check-compat",Hw="@firebase/app-check",Ww="@firebase/auth",Gw="@firebase/auth-compat",Yw="@firebase/database",Kw="@firebase/data-connect",Qw="@firebase/database-compat",Xw="@firebase/functions",Jw="@firebase/functions-compat",Zw="@firebase/installations",e4="@firebase/installations-compat",t4="@firebase/messaging",n4="@firebase/messaging-compat",r4="@firebase/performance",i4="@firebase/performance-compat",o4="@firebase/remote-config",s4="@firebase/remote-config-compat",a4="@firebase/storage",l4="@firebase/storage-compat",u4="@firebase/firestore",c4="@firebase/ai",h4="@firebase/firestore-compat",f4="firebase",d4="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="[DEFAULT]",p4={[Ef]:"fire-core",[qw]:"fire-core-compat",[Uw]:"fire-analytics",[zw]:"fire-analytics-compat",[Hw]:"fire-app-check",[$w]:"fire-app-check-compat",[Ww]:"fire-auth",[Gw]:"fire-auth-compat",[Yw]:"fire-rtdb",[Kw]:"fire-data-connect",[Qw]:"fire-rtdb-compat",[Xw]:"fire-fn",[Jw]:"fire-fn-compat",[Zw]:"fire-iid",[e4]:"fire-iid-compat",[t4]:"fire-fcm",[n4]:"fire-fcm-compat",[r4]:"fire-perf",[i4]:"fire-perf-compat",[o4]:"fire-rc",[s4]:"fire-rc-compat",[a4]:"fire-gcs",[l4]:"fire-gcs-compat",[u4]:"fire-fst",[h4]:"fire-fst-compat",[c4]:"fire-vertex","fire-js":"fire-js",[f4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Map,m4=new Map,Cf=new Map;function X1(t,e){try{t.container.addComponent(e)}catch(n){Yo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wc(t){const e=t.name;if(Cf.has(e))return Yo.debug(`There were multiple attempts to register component ${e}.`),!1;Cf.set(e,t);for(const n of bc.values())X1(n,t);for(const n of m4.values())X1(n,t);return!0}function g4(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function v4(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new x2("app","Firebase",y4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ql("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=d4;function I2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:If,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Es.create("bad-app-name",{appName:String(i)});if(n||(n=S2()),!n)throw Es.create("no-options");const o=bc.get(i);if(o){if(_c(n,o.options)&&_c(r,o.config))return o;throw Es.create("duplicate-app",{appName:i})}const s=new Sw(i);for(const c of Cf.values())s.addComponent(c);const a=new _4(n,r,s);return bc.set(i,a),a}function w4(t=If){const e=bc.get(t);if(!e&&t===If&&S2())return I2();if(!e)throw Es.create("no-app",{appName:t});return e}function Wa(t,e,n){var r;let i=(r=p4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yo.warn(a.join(" "));return}wc(new Ql(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="firebase-heartbeat-database",S4=1,Xl="firebase-heartbeat-store";let Hh=null;function C2(){return Hh||(Hh=Ow(A4,S4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Es.create("idb-open",{originalErrorMessage:t.message})})),Hh}async function x4(t){try{const n=(await C2()).transaction(Xl),r=await n.objectStore(Xl).get(N2(t));return await n.done,r}catch(e){if(e instanceof al)Yo.warn(e.message);else{const n=Es.create("idb-get",{originalErrorMessage:e?.message});Yo.warn(n.message)}}}async function J1(t,e){try{const r=(await C2()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(e,N2(t)),await r.done}catch(n){if(n instanceof al)Yo.warn(n.message);else{const r=Es.create("idb-set",{originalErrorMessage:n?.message});Yo.warn(r.message)}}}function N2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=1024,k4=30;class E4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new C4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Z1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>k4){const s=N4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Yo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Z1(),{heartbeatsToSend:r,unsentEntries:i}=I4(this._heartbeatsCache.heartbeats),o=yc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Yo.warn(n),""}}}function Z1(){return new Date().toISOString().substring(0,10)}function I4(t,e=T4){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),e0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),e0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class C4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mw()?gw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await x4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return J1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return J1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function e0(t){return yc(JSON.stringify({version:2,heartbeats:t})).length}function N4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t){wc(new Ql("platform-logger",e=>new jw(e),"PRIVATE")),wc(new Ql("heartbeat",e=>new E4(e),"PRIVATE")),Wa(Ef,Q1,t),Wa(Ef,Q1,"esm2017"),Wa("fire-js","")}L4("");var P4="firebase",R4="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wa(P4,R4,"app");var t0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var id;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,E){function b(){}b.prototype=E.prototype,V.D=E.prototype,V.prototype=new b,V.prototype.constructor=V,V.C=function(I,_,w){for(var x=Array(arguments.length-2),U=2;U<arguments.length;U++)x[U-2]=arguments[U];return E.prototype[_].apply(I,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(V,E,b){b||(b=0);var I=Array(16);if(typeof E=="string")for(var _=0;16>_;++_)I[_]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(_=0;16>_;++_)I[_]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=V.g[0],b=V.g[1],_=V.g[2];var w=V.g[3],x=E+(w^b&(_^w))+I[0]+3614090360&4294967295;E=b+(x<<7&4294967295|x>>>25),x=w+(_^E&(b^_))+I[1]+3905402710&4294967295,w=E+(x<<12&4294967295|x>>>20),x=_+(b^w&(E^b))+I[2]+606105819&4294967295,_=w+(x<<17&4294967295|x>>>15),x=b+(E^_&(w^E))+I[3]+3250441966&4294967295,b=_+(x<<22&4294967295|x>>>10),x=E+(w^b&(_^w))+I[4]+4118548399&4294967295,E=b+(x<<7&4294967295|x>>>25),x=w+(_^E&(b^_))+I[5]+1200080426&4294967295,w=E+(x<<12&4294967295|x>>>20),x=_+(b^w&(E^b))+I[6]+2821735955&4294967295,_=w+(x<<17&4294967295|x>>>15),x=b+(E^_&(w^E))+I[7]+4249261313&4294967295,b=_+(x<<22&4294967295|x>>>10),x=E+(w^b&(_^w))+I[8]+1770035416&4294967295,E=b+(x<<7&4294967295|x>>>25),x=w+(_^E&(b^_))+I[9]+2336552879&4294967295,w=E+(x<<12&4294967295|x>>>20),x=_+(b^w&(E^b))+I[10]+4294925233&4294967295,_=w+(x<<17&4294967295|x>>>15),x=b+(E^_&(w^E))+I[11]+2304563134&4294967295,b=_+(x<<22&4294967295|x>>>10),x=E+(w^b&(_^w))+I[12]+1804603682&4294967295,E=b+(x<<7&4294967295|x>>>25),x=w+(_^E&(b^_))+I[13]+4254626195&4294967295,w=E+(x<<12&4294967295|x>>>20),x=_+(b^w&(E^b))+I[14]+2792965006&4294967295,_=w+(x<<17&4294967295|x>>>15),x=b+(E^_&(w^E))+I[15]+1236535329&4294967295,b=_+(x<<22&4294967295|x>>>10),x=E+(_^w&(b^_))+I[1]+4129170786&4294967295,E=b+(x<<5&4294967295|x>>>27),x=w+(b^_&(E^b))+I[6]+3225465664&4294967295,w=E+(x<<9&4294967295|x>>>23),x=_+(E^b&(w^E))+I[11]+643717713&4294967295,_=w+(x<<14&4294967295|x>>>18),x=b+(w^E&(_^w))+I[0]+3921069994&4294967295,b=_+(x<<20&4294967295|x>>>12),x=E+(_^w&(b^_))+I[5]+3593408605&4294967295,E=b+(x<<5&4294967295|x>>>27),x=w+(b^_&(E^b))+I[10]+38016083&4294967295,w=E+(x<<9&4294967295|x>>>23),x=_+(E^b&(w^E))+I[15]+3634488961&4294967295,_=w+(x<<14&4294967295|x>>>18),x=b+(w^E&(_^w))+I[4]+3889429448&4294967295,b=_+(x<<20&4294967295|x>>>12),x=E+(_^w&(b^_))+I[9]+568446438&4294967295,E=b+(x<<5&4294967295|x>>>27),x=w+(b^_&(E^b))+I[14]+3275163606&4294967295,w=E+(x<<9&4294967295|x>>>23),x=_+(E^b&(w^E))+I[3]+4107603335&4294967295,_=w+(x<<14&4294967295|x>>>18),x=b+(w^E&(_^w))+I[8]+1163531501&4294967295,b=_+(x<<20&4294967295|x>>>12),x=E+(_^w&(b^_))+I[13]+2850285829&4294967295,E=b+(x<<5&4294967295|x>>>27),x=w+(b^_&(E^b))+I[2]+4243563512&4294967295,w=E+(x<<9&4294967295|x>>>23),x=_+(E^b&(w^E))+I[7]+1735328473&4294967295,_=w+(x<<14&4294967295|x>>>18),x=b+(w^E&(_^w))+I[12]+2368359562&4294967295,b=_+(x<<20&4294967295|x>>>12),x=E+(b^_^w)+I[5]+4294588738&4294967295,E=b+(x<<4&4294967295|x>>>28),x=w+(E^b^_)+I[8]+2272392833&4294967295,w=E+(x<<11&4294967295|x>>>21),x=_+(w^E^b)+I[11]+1839030562&4294967295,_=w+(x<<16&4294967295|x>>>16),x=b+(_^w^E)+I[14]+4259657740&4294967295,b=_+(x<<23&4294967295|x>>>9),x=E+(b^_^w)+I[1]+2763975236&4294967295,E=b+(x<<4&4294967295|x>>>28),x=w+(E^b^_)+I[4]+1272893353&4294967295,w=E+(x<<11&4294967295|x>>>21),x=_+(w^E^b)+I[7]+4139469664&4294967295,_=w+(x<<16&4294967295|x>>>16),x=b+(_^w^E)+I[10]+3200236656&4294967295,b=_+(x<<23&4294967295|x>>>9),x=E+(b^_^w)+I[13]+681279174&4294967295,E=b+(x<<4&4294967295|x>>>28),x=w+(E^b^_)+I[0]+3936430074&4294967295,w=E+(x<<11&4294967295|x>>>21),x=_+(w^E^b)+I[3]+3572445317&4294967295,_=w+(x<<16&4294967295|x>>>16),x=b+(_^w^E)+I[6]+76029189&4294967295,b=_+(x<<23&4294967295|x>>>9),x=E+(b^_^w)+I[9]+3654602809&4294967295,E=b+(x<<4&4294967295|x>>>28),x=w+(E^b^_)+I[12]+3873151461&4294967295,w=E+(x<<11&4294967295|x>>>21),x=_+(w^E^b)+I[15]+530742520&4294967295,_=w+(x<<16&4294967295|x>>>16),x=b+(_^w^E)+I[2]+3299628645&4294967295,b=_+(x<<23&4294967295|x>>>9),x=E+(_^(b|~w))+I[0]+4096336452&4294967295,E=b+(x<<6&4294967295|x>>>26),x=w+(b^(E|~_))+I[7]+1126891415&4294967295,w=E+(x<<10&4294967295|x>>>22),x=_+(E^(w|~b))+I[14]+2878612391&4294967295,_=w+(x<<15&4294967295|x>>>17),x=b+(w^(_|~E))+I[5]+4237533241&4294967295,b=_+(x<<21&4294967295|x>>>11),x=E+(_^(b|~w))+I[12]+1700485571&4294967295,E=b+(x<<6&4294967295|x>>>26),x=w+(b^(E|~_))+I[3]+2399980690&4294967295,w=E+(x<<10&4294967295|x>>>22),x=_+(E^(w|~b))+I[10]+4293915773&4294967295,_=w+(x<<15&4294967295|x>>>17),x=b+(w^(_|~E))+I[1]+2240044497&4294967295,b=_+(x<<21&4294967295|x>>>11),x=E+(_^(b|~w))+I[8]+1873313359&4294967295,E=b+(x<<6&4294967295|x>>>26),x=w+(b^(E|~_))+I[15]+4264355552&4294967295,w=E+(x<<10&4294967295|x>>>22),x=_+(E^(w|~b))+I[6]+2734768916&4294967295,_=w+(x<<15&4294967295|x>>>17),x=b+(w^(_|~E))+I[13]+1309151649&4294967295,b=_+(x<<21&4294967295|x>>>11),x=E+(_^(b|~w))+I[4]+4149444226&4294967295,E=b+(x<<6&4294967295|x>>>26),x=w+(b^(E|~_))+I[11]+3174756917&4294967295,w=E+(x<<10&4294967295|x>>>22),x=_+(E^(w|~b))+I[2]+718787259&4294967295,_=w+(x<<15&4294967295|x>>>17),x=b+(w^(_|~E))+I[9]+3951481745&4294967295,V.g[0]=V.g[0]+E&4294967295,V.g[1]=V.g[1]+(_+(x<<21&4294967295|x>>>11))&4294967295,V.g[2]=V.g[2]+_&4294967295,V.g[3]=V.g[3]+w&4294967295}r.prototype.u=function(V,E){E===void 0&&(E=V.length);for(var b=E-this.blockSize,I=this.B,_=this.h,w=0;w<E;){if(_==0)for(;w<=b;)i(this,V,w),w+=this.blockSize;if(typeof V=="string"){for(;w<E;)if(I[_++]=V.charCodeAt(w++),_==this.blockSize){i(this,I),_=0;break}}else for(;w<E;)if(I[_++]=V[w++],_==this.blockSize){i(this,I),_=0;break}}this.h=_,this.o+=E},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var E=1;E<V.length-8;++E)V[E]=0;var b=8*this.o;for(E=V.length-8;E<V.length;++E)V[E]=b&255,b/=256;for(this.u(V),V=Array(16),E=b=0;4>E;++E)for(var I=0;32>I;I+=8)V[b++]=this.g[E]>>>I&255;return V};function o(V,E){var b=a;return Object.prototype.hasOwnProperty.call(b,V)?b[V]:b[V]=E(V)}function s(V,E){this.h=E;for(var b=[],I=!0,_=V.length-1;0<=_;_--){var w=V[_]|0;I&&w==E||(b[_]=w,I=!1)}this.g=b}var a={};function c(V){return-128<=V&&128>V?o(V,function(E){return new s([E|0],0>E?-1:0)}):new s([V|0],0>V?-1:0)}function h(V){if(isNaN(V)||!isFinite(V))return y;if(0>V)return L(h(-V));for(var E=[],b=1,I=0;V>=b;I++)E[I]=V/b|0,b*=4294967296;return new s(E,0)}function d(V,E){if(V.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(V.charAt(0)=="-")return L(d(V.substring(1),E));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=h(Math.pow(E,8)),I=y,_=0;_<V.length;_+=8){var w=Math.min(8,V.length-_),x=parseInt(V.substring(_,_+w),E);8>w?(w=h(Math.pow(E,w)),I=I.j(w).add(h(x))):(I=I.j(b),I=I.add(h(x)))}return I}var y=c(0),S=c(1),p=c(16777216);t=s.prototype,t.m=function(){if(R(this))return-L(this).m();for(var V=0,E=1,b=0;b<this.g.length;b++){var I=this.i(b);V+=(0<=I?I:4294967296+I)*E,E*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(N(this))return"0";if(R(this))return"-"+L(this).toString(V);for(var E=h(Math.pow(V,6)),b=this,I="";;){var _=M(b,E).g;b=C(b,_.j(E));var w=((0<b.g.length?b.g[0]:b.h)>>>0).toString(V);if(b=_,N(b))return w+I;for(;6>w.length;)w="0"+w;I=w+I}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function N(V){if(V.h!=0)return!1;for(var E=0;E<V.g.length;E++)if(V.g[E]!=0)return!1;return!0}function R(V){return V.h==-1}t.l=function(V){return V=C(this,V),R(V)?-1:N(V)?0:1};function L(V){for(var E=V.g.length,b=[],I=0;I<E;I++)b[I]=~V.g[I];return new s(b,~V.h).add(S)}t.abs=function(){return R(this)?L(this):this},t.add=function(V){for(var E=Math.max(this.g.length,V.g.length),b=[],I=0,_=0;_<=E;_++){var w=I+(this.i(_)&65535)+(V.i(_)&65535),x=(w>>>16)+(this.i(_)>>>16)+(V.i(_)>>>16);I=x>>>16,w&=65535,x&=65535,b[_]=x<<16|w}return new s(b,b[b.length-1]&-2147483648?-1:0)};function C(V,E){return V.add(L(E))}t.j=function(V){if(N(this)||N(V))return y;if(R(this))return R(V)?L(this).j(L(V)):L(L(this).j(V));if(R(V))return L(this.j(L(V)));if(0>this.l(p)&&0>V.l(p))return h(this.m()*V.m());for(var E=this.g.length+V.g.length,b=[],I=0;I<2*E;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(var _=0;_<V.g.length;_++){var w=this.i(I)>>>16,x=this.i(I)&65535,U=V.i(_)>>>16,re=V.i(_)&65535;b[2*I+2*_]+=x*re,F(b,2*I+2*_),b[2*I+2*_+1]+=w*re,F(b,2*I+2*_+1),b[2*I+2*_+1]+=x*U,F(b,2*I+2*_+1),b[2*I+2*_+2]+=w*U,F(b,2*I+2*_+2)}for(I=0;I<E;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=E;I<2*E;I++)b[I]=0;return new s(b,0)};function F(V,E){for(;(V[E]&65535)!=V[E];)V[E+1]+=V[E]>>>16,V[E]&=65535,E++}function B(V,E){this.g=V,this.h=E}function M(V,E){if(N(E))throw Error("division by zero");if(N(V))return new B(y,y);if(R(V))return E=M(L(V),E),new B(L(E.g),L(E.h));if(R(E))return E=M(V,L(E)),new B(L(E.g),E.h);if(30<V.g.length){if(R(V)||R(E))throw Error("slowDivide_ only works with positive integers.");for(var b=S,I=E;0>=I.l(V);)b=Z(b),I=Z(I);var _=ue(b,1),w=ue(I,1);for(I=ue(I,2),b=ue(b,2);!N(I);){var x=w.add(I);0>=x.l(V)&&(_=_.add(b),w=x),I=ue(I,1),b=ue(b,1)}return E=C(V,_.j(E)),new B(_,E)}for(_=y;0<=V.l(E);){for(b=Math.max(1,Math.floor(V.m()/E.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),w=h(b),x=w.j(E);R(x)||0<x.l(V);)b-=I,w=h(b),x=w.j(E);N(w)&&(w=S),_=_.add(w),V=C(V,x)}return new B(_,V)}t.A=function(V){return M(this,V).h},t.and=function(V){for(var E=Math.max(this.g.length,V.g.length),b=[],I=0;I<E;I++)b[I]=this.i(I)&V.i(I);return new s(b,this.h&V.h)},t.or=function(V){for(var E=Math.max(this.g.length,V.g.length),b=[],I=0;I<E;I++)b[I]=this.i(I)|V.i(I);return new s(b,this.h|V.h)},t.xor=function(V){for(var E=Math.max(this.g.length,V.g.length),b=[],I=0;I<E;I++)b[I]=this.i(I)^V.i(I);return new s(b,this.h^V.h)};function Z(V){for(var E=V.g.length+1,b=[],I=0;I<E;I++)b[I]=V.i(I)<<1|V.i(I-1)>>>31;return new s(b,V.h)}function ue(V,E){var b=E>>5;E%=32;for(var I=V.g.length-b,_=[],w=0;w<I;w++)_[w]=0<E?V.i(w+b)>>>E|V.i(w+b+1)<<32-E:V.i(w+b);return new s(_,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=d,id=s}).apply(typeof t0<"u"?t0:typeof self<"u"?self:typeof window<"u"?window:{});var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var L2,Ml,P2,oc,Nf,R2,D2,M2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,v,k){return u==Array.prototype||u==Object.prototype||(u[v]=k.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zu=="object"&&zu];for(var v=0;v<u.length;++v){var k=u[v];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(u,v){if(v)e:{var k=r;u=u.split(".");for(var z=0;z<u.length-1;z++){var me=u[z];if(!(me in k))break e;k=k[me]}u=u[u.length-1],z=k[u],v=v(z),v!=z&&v!=null&&e(k,u,{configurable:!0,writable:!0,value:v})}}function o(u,v){u instanceof String&&(u+="");var k=0,z=!1,me={next:function(){if(!z&&k<u.length){var Se=k++;return{value:v(Se,u[Se]),done:!1}}return z=!0,{done:!0,value:void 0}}};return me[Symbol.iterator]=function(){return me},me}i("Array.prototype.values",function(u){return u||function(){return o(this,function(v,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function c(u){var v=typeof u;return v=v!="object"?v:u?Array.isArray(u)?"array":v:"null",v=="array"||v=="object"&&typeof u.length=="number"}function h(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function d(u,v,k){return u.call.apply(u.bind,arguments)}function y(u,v,k){if(!u)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var me=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(me,z),u.apply(v,me)}}return function(){return u.apply(v,arguments)}}function S(u,v,k){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:y,S.apply(null,arguments)}function p(u,v){var k=Array.prototype.slice.call(arguments,1);return function(){var z=k.slice();return z.push.apply(z,arguments),u.apply(this,z)}}function N(u,v){function k(){}k.prototype=v.prototype,u.aa=v.prototype,u.prototype=new k,u.prototype.constructor=u,u.Qb=function(z,me,Se){for(var Ge=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)Ge[Zt-2]=arguments[Zt];return v.prototype[me].apply(z,Ge)}}function R(u){const v=u.length;if(0<v){const k=Array(v);for(let z=0;z<v;z++)k[z]=u[z];return k}return[]}function L(u,v){for(let k=1;k<arguments.length;k++){const z=arguments[k];if(c(z)){const me=u.length||0,Se=z.length||0;u.length=me+Se;for(let Ge=0;Ge<Se;Ge++)u[me+Ge]=z[Ge]}else u.push(z)}}class C{constructor(v,k){this.i=v,this.j=k,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function F(u){return/^[\s\xa0]*$/.test(u)}function B(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function M(u){return M[" "](u),u}M[" "]=function(){};var Z=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function ue(u,v,k){for(const z in u)v.call(k,u[z],z,u)}function V(u,v){for(const k in u)v.call(void 0,u[k],k,u)}function E(u){const v={};for(const k in u)v[k]=u[k];return v}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,v){let k,z;for(let me=1;me<arguments.length;me++){z=arguments[me];for(k in z)u[k]=z[k];for(let Se=0;Se<b.length;Se++)k=b[Se],Object.prototype.hasOwnProperty.call(z,k)&&(u[k]=z[k])}}function _(u){var v=1;u=u.split(":");const k=[];for(;0<v&&u.length;)k.push(u.shift()),v--;return u.length&&k.push(u.join(":")),k}function w(u){a.setTimeout(()=>{throw u},0)}function x(){var u=fe;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class U{constructor(){this.h=this.g=null}add(v,k){const z=re.get();z.set(v,k),this.h?this.h.next=z:this.g=z,this.h=z}}var re=new C(()=>new le,u=>u.reset());class le{constructor(){this.next=this.g=this.h=null}set(v,k){this.h=v,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,J=!1,fe=new U,be=()=>{const u=a.Promise.resolve(void 0);ae=()=>{u.then(ge)}};var ge=()=>{for(var u;u=x();){try{u.h.call(u.g)}catch(k){w(k)}var v=re;v.j(u),100>v.h&&(v.h++,u.next=v.g,v.g=u)}J=!1};function T(){this.s=this.s,this.C=this.C}T.prototype.s=!1,T.prototype.ma=function(){this.s||(this.s=!0,this.N())},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const k=()=>{};a.addEventListener("test",k,v),a.removeEventListener("test",k,v)}catch{}return u}();function ee(u,v){if(H.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var k=this.type=u.type,z=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget){if(Z){e:{try{M(v.nodeName);var me=!0;break e}catch{}me=!1}me||(v=null)}}else k=="mouseover"?v=u.fromElement:k=="mouseout"&&(v=u.toElement);this.relatedTarget=v,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ne[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ee.aa.h.call(this)}}N(ee,H);var ne={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),ke=0;function Te(u,v,k,z,me){this.listener=u,this.proxy=null,this.src=v,this.type=k,this.capture=!!z,this.ha=me,this.key=++ke,this.da=this.fa=!1}function Ie(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pe(u){this.src=u,this.g={},this.h=0}Pe.prototype.add=function(u,v,k,z,me){var Se=u.toString();u=this.g[Se],u||(u=this.g[Se]=[],this.h++);var Ge=Xe(u,v,z,me);return-1<Ge?(v=u[Ge],k||(v.fa=!1)):(v=new Te(v,this.src,Se,!!z,me),v.fa=k,u.push(v)),v};function qe(u,v){var k=v.type;if(k in u.g){var z=u.g[k],me=Array.prototype.indexOf.call(z,v,void 0),Se;(Se=0<=me)&&Array.prototype.splice.call(z,me,1),Se&&(Ie(v),u.g[k].length==0&&(delete u.g[k],u.h--))}}function Xe(u,v,k,z){for(var me=0;me<u.length;++me){var Se=u[me];if(!Se.da&&Se.listener==v&&Se.capture==!!k&&Se.ha==z)return me}return-1}var st="closure_lm_"+(1e6*Math.random()|0),W={};function Qe(u,v,k,z,me){if(Array.isArray(v)){for(var Se=0;Se<v.length;Se++)Qe(u,v[Se],k,z,me);return null}return k=ct(k),u&&u[he]?u.K(v,k,h(z)?!!z.capture:!1,me):At(u,v,k,!1,z,me)}function At(u,v,k,z,me,Se){if(!v)throw Error("Invalid event type");var Ge=h(me)?!!me.capture:!!me,Zt=De(u);if(Zt||(u[st]=Zt=new Pe(u)),k=Zt.add(v,k,z,Ge,Se),k.proxy)return k;if(z=bt(),k.proxy=z,z.src=u,z.listener=k,u.addEventListener)X||(me=Ge),me===void 0&&(me=!1),u.addEventListener(v.toString(),z,me);else if(u.attachEvent)u.attachEvent(tt(v.toString()),z);else if(u.addListener&&u.removeListener)u.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return k}function bt(){function u(k){return v.call(u.src,u.listener,k)}const v=Ee;return u}function Oe(u,v,k,z,me){if(Array.isArray(v))for(var Se=0;Se<v.length;Se++)Oe(u,v[Se],k,z,me);else z=h(z)?!!z.capture:!!z,k=ct(k),u&&u[he]?(u=u.i,v=String(v).toString(),v in u.g&&(Se=u.g[v],k=Xe(Se,k,z,me),-1<k&&(Ie(Se[k]),Array.prototype.splice.call(Se,k,1),Se.length==0&&(delete u.g[v],u.h--)))):u&&(u=De(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Xe(v,k,z,me)),(k=-1<u?v[u]:null)&&ht(k))}function ht(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[he])qe(v.i,u);else{var k=u.type,z=u.proxy;v.removeEventListener?v.removeEventListener(k,z,u.capture):v.detachEvent?v.detachEvent(tt(k),z):v.addListener&&v.removeListener&&v.removeListener(z),(k=De(v))?(qe(k,u),k.h==0&&(k.src=null,v[st]=null)):Ie(u)}}}function tt(u){return u in W?W[u]:W[u]="on"+u}function Ee(u,v){if(u.da)u=!0;else{v=new ee(v,this);var k=u.listener,z=u.ha||u.src;u.fa&&ht(u),u=k.call(z,v)}return u}function De(u){return u=u[st],u instanceof Pe?u:null}var rt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ct(u){return typeof u=="function"?u:(u[rt]||(u[rt]=function(v){return u.handleEvent(v)}),u[rt])}function Ye(){T.call(this),this.i=new Pe(this),this.M=this,this.F=null}N(Ye,T),Ye.prototype[he]=!0,Ye.prototype.removeEventListener=function(u,v,k,z){Oe(this,u,v,k,z)};function We(u,v){var k,z=u.F;if(z)for(k=[];z;z=z.F)k.push(z);if(u=u.M,z=v.type||v,typeof v=="string")v=new H(v,u);else if(v instanceof H)v.target=v.target||u;else{var me=v;v=new H(z,u),I(v,me)}if(me=!0,k)for(var Se=k.length-1;0<=Se;Se--){var Ge=v.g=k[Se];me=it(Ge,z,!0,v)&&me}if(Ge=v.g=u,me=it(Ge,z,!0,v)&&me,me=it(Ge,z,!1,v)&&me,k)for(Se=0;Se<k.length;Se++)Ge=v.g=k[Se],me=it(Ge,z,!1,v)&&me}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var u=this.i,v;for(v in u.g){for(var k=u.g[v],z=0;z<k.length;z++)Ie(k[z]);delete u.g[v],u.h--}}this.F=null},Ye.prototype.K=function(u,v,k,z){return this.i.add(String(u),v,!1,k,z)},Ye.prototype.L=function(u,v,k,z){return this.i.add(String(u),v,!0,k,z)};function it(u,v,k,z){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();for(var me=!0,Se=0;Se<v.length;++Se){var Ge=v[Se];if(Ge&&!Ge.da&&Ge.capture==k){var Zt=Ge.listener,Bn=Ge.ha||Ge.src;Ge.fa&&qe(u.i,Ge),me=Zt.call(Bn,z)!==!1&&me}}return me&&!z.defaultPrevented}function Je(u,v,k){if(typeof u=="function")k&&(u=S(u,k));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:a.setTimeout(u,v||0)}function gt(u){u.g=Je(()=>{u.g=null,u.i&&(u.i=!1,gt(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class pe extends T{constructor(v,k){super(),this.m=v,this.l=k,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:gt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Me(u){T.call(this),this.h=u,this.g={}}N(Me,T);var Ke=[];function Ze(u){ue(u.g,function(v,k){this.g.hasOwnProperty(k)&&ht(v)},u),u.g={}}Me.prototype.N=function(){Me.aa.N.call(this),Ze(this)},Me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ot=a.JSON.stringify,Ut=a.JSON.parse,He=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Ct(){}Ct.prototype.h=null;function lt(u){return u.h||(u.h=u.i())}function Lt(){}var Yt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mt(){H.call(this,"d")}N(Mt,H);function vt(){H.call(this,"c")}N(vt,H);var jt={},ei=null;function Nn(){return ei=ei||new Ye}jt.La="serverreachability";function ti(u){H.call(this,jt.La,u)}N(ti,H);function or(u){const v=Nn();We(v,new ti(v))}jt.STAT_EVENT="statevent";function Et(u,v){H.call(this,jt.STAT_EVENT,u),this.stat=v}N(Et,H);function yn(u){const v=Nn();We(v,new Et(v,u))}jt.Ma="timingevent";function ni(u,v){H.call(this,jt.Ma,u),this.size=v}N(ni,H);function Q(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},v)}function oe(){this.g=!0}oe.prototype.xa=function(){this.g=!1};function xe(u,v,k,z,me,Se){u.info(function(){if(u.g)if(Se)for(var Ge="",Zt=Se.split("&"),Bn=0;Bn<Zt.length;Bn++){var Wt=Zt[Bn].split("=");if(1<Wt.length){var un=Wt[0];Wt=Wt[1];var Sn=un.split("_");Ge=2<=Sn.length&&Sn[1]=="type"?Ge+(un+"="+Wt+"&"):Ge+(un+"=redacted&")}}else Ge=null;else Ge=Se;return"XMLHTTP REQ ("+z+") [attempt "+me+"]: "+v+`
`+k+`
`+Ge})}function Ue(u,v,k,z,me,Se,Ge){u.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+me+"]: "+v+`
`+k+`
`+Se+" "+Ge})}function $e(u,v,k,z){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+at(u,k)+(z?" "+z:"")})}function Rt(u,v){u.info(function(){return"TIMEOUT: "+v})}oe.prototype.info=function(){};function at(u,v){if(!u.g)return v;if(!v)return null;try{var k=JSON.parse(v);if(k){for(u=0;u<k.length;u++)if(Array.isArray(k[u])){var z=k[u];if(!(2>z.length)){var me=z[1];if(Array.isArray(me)&&!(1>me.length)){var Se=me[0];if(Se!="noop"&&Se!="stop"&&Se!="close")for(var Ge=1;Ge<me.length;Ge++)me[Ge]=""}}}}return ot(k)}catch{return v}}var kt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$t={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function Dr(){}N(Dr,Ct),Dr.prototype.g=function(){return new XMLHttpRequest},Dr.prototype.i=function(){return{}},Qn=new Dr;function Xn(u,v,k,z){this.j=u,this.i=v,this.l=k,this.R=z||1,this.U=new Me(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new so}function so(){this.i=null,this.g="",this.h=!1}var hi={},$i={};function ao(u,v,k){u.L=1,u.v=No(ur(v)),u.m=k,u.P=!0,ko(u,null)}function ko(u,v){u.F=Date.now(),lo(u),u.A=ur(u.v);var k=u.A,z=u.R;Array.isArray(z)||(z=[String(z)]),wa(k.i,"t",z),u.C=0,k=u.j.J,u.h=new so,u.g=Un(u.j,k?v:null,!u.m),0<u.O&&(u.M=new pe(S(u.Y,u,u.g),u.O)),v=u.U,k=u.g,z=u.ca;var me="readystatechange";Array.isArray(me)||(me&&(Ke[0]=me.toString()),me=Ke);for(var Se=0;Se<me.length;Se++){var Ge=Qe(k,me[Se],z||v.handleEvent,!1,v.h||v);if(!Ge)break;v.g[Ge.key]=Ge}v=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,v)):(u.u="GET",u.g.ea(u.A,u.u,null,v)),or(),xe(u.i,u.u,u.A,u.l,u.R,u.m)}Xn.prototype.ca=function(u){u=u.target;const v=this.M;v&&Kr(u)==3?v.j():this.Y(u)},Xn.prototype.Y=function(u){try{if(u==this.g)e:{const Sn=Kr(this.g);var v=this.g.Ba();const pi=this.g.Z();if(!(3>Sn)&&(Sn!=3||this.g&&(this.h.h||this.g.oa()||Us(this.g)))){this.J||Sn!=4||v==7||(v==8||0>=pi?or(3):or(2)),Ko(this);var k=this.g.Z();this.X=k;t:if(Eo(this)){var z=Us(this.g);u="";var me=z.length,Se=Kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fi(this),vr(this);var Ge="";break t}this.h.i=new a.TextDecoder}for(v=0;v<me;v++)this.h.h=!0,u+=this.h.i.decode(z[v],{stream:!(Se&&v==me-1)});z.length=0,this.h.g+=u,this.C=0,Ge=this.h.g}else Ge=this.g.oa();if(this.o=k==200,Ue(this.i,this.u,this.A,this.l,this.R,Sn,k),this.o){if(this.T&&!this.K){t:{if(this.g){var Zt,Bn=this.g;if((Zt=Bn.g?Bn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Zt)){var Wt=Zt;break t}}Wt=null}if(k=Wt)$e(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qo(this,k);else{this.o=!1,this.s=3,yn(12),fi(this),vr(this);break e}}if(this.P){k=!0;let Mr;for(;!this.J&&this.C<Ge.length;)if(Mr=cl(this,Ge),Mr==$i){Sn==4&&(this.s=4,yn(14),k=!1),$e(this.i,this.l,null,"[Incomplete Response]");break}else if(Mr==hi){this.s=4,yn(15),$e(this.i,this.l,Ge,"[Invalid Chunk]"),k=!1;break}else $e(this.i,this.l,Mr,null),Qo(this,Mr);if(Eo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Sn!=4||Ge.length!=0||this.h.h||(this.s=1,yn(16),k=!1),this.o=this.o&&k,!k)$e(this.i,this.l,Ge,"[Invalid Chunked Response]"),fi(this),vr(this);else if(0<Ge.length&&!this.W){this.W=!0;var un=this.j;un.g==this&&un.ba&&!un.M&&(un.j.info("Great, no buffering proxy detected. Bytes received: "+Ge.length),ut(un),un.M=!0,yn(11))}}else $e(this.i,this.l,Ge,null),Qo(this,Ge);Sn==4&&fi(this),this.o&&!this.J&&(Sn==4?Ot(this.j,this):(this.o=!1,lo(this)))}else Sa(this.g),k==400&&0<Ge.indexOf("Unknown SID")?(this.s=3,yn(12)):(this.s=0,yn(13)),fi(this),vr(this)}}}catch{}finally{}};function Eo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function cl(u,v){var k=u.C,z=v.indexOf(`
`,k);return z==-1?$i:(k=Number(v.substring(k,z)),isNaN(k)?hi:(z+=1,z+k>v.length?$i:(v=v.slice(z,z+k),u.C=z+k,v)))}Xn.prototype.cancel=function(){this.J=!0,fi(this)};function lo(u){u.S=Date.now()+u.I,Ds(u,u.I)}function Ds(u,v){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Q(S(u.ba,u),v)}function Ko(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Xn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Rt(this.i,this.A),this.L!=2&&(or(),yn(17)),fi(this),this.s=2,vr(this)):Ds(this,this.S-u)};function vr(u){u.j.G==0||u.J||Ot(u.j,u)}function fi(u){Ko(u);var v=u.M;v&&typeof v.ma=="function"&&v.ma(),u.M=null,Ze(u.U),u.g&&(v=u.g,u.g=null,v.abort(),v.ma())}function Qo(u,v){try{var k=u.j;if(k.G!=0&&(k.g==u||ri(k.h,u))){if(!u.K&&ri(k.h,u)&&k.G==3){try{var z=k.Da.g.parse(v)}catch{z=null}if(Array.isArray(z)&&z.length==3){var me=z;if(me[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<u.F)Pt(k),Di(k);else break e;Fe(k),yn(18)}}else k.za=me[1],0<k.za-k.T&&37500>me[2]&&k.F&&k.v==0&&!k.C&&(k.C=Q(S(k.Za,k),6e3));if(1>=Vs(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else cn(k,11)}else if((u.K||k.g==u)&&Pt(k),!F(v))for(me=k.Da.g.parse(v),v=0;v<me.length;v++){let Wt=me[v];if(k.T=Wt[0],Wt=Wt[1],k.G==2)if(Wt[0]=="c"){k.K=Wt[1],k.ia=Wt[2];const un=Wt[3];un!=null&&(k.la=un,k.j.info("VER="+k.la));const Sn=Wt[4];Sn!=null&&(k.Aa=Sn,k.j.info("SVER="+k.Aa));const pi=Wt[5];pi!=null&&typeof pi=="number"&&0<pi&&(z=1.5*pi,k.L=z,k.j.info("backChannelRequestTimeoutMs_="+z)),z=k;const Mr=u.g;if(Mr){const xr=Mr.g?Mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xr){var Se=z.h;Se.g||xr.indexOf("spdy")==-1&&xr.indexOf("quic")==-1&&xr.indexOf("h2")==-1||(Se.j=Se.l,Se.g=new Set,Se.h&&(uo(Se,Se.h),Se.h=null))}if(z.D){const Gi=Mr.g?Mr.g.getResponseHeader("X-HTTP-Session-Id"):null;Gi&&(z.ya=Gi,Kt(z.I,z.D,Gi))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-u.F,k.j.info("Handshake RTT: "+k.R+"ms")),z=k;var Ge=u;if(z.qa=dn(z,z.J?z.ia:null,z.W),Ge.K){ga(z.h,Ge);var Zt=Ge,Bn=z.L;Bn&&(Zt.I=Bn),Zt.B&&(Ko(Zt),lo(Zt)),z.g=Ge}else Ne(z);0<k.i.length&&m(k)}else Wt[0]!="stop"&&Wt[0]!="close"||cn(k,7);else k.G==3&&(Wt[0]=="stop"||Wt[0]=="close"?Wt[0]=="stop"?cn(k,7):ns(k):Wt[0]!="noop"&&k.l&&k.l.ta(Wt),k.v=0)}}or(4)}catch{}}var Ms=class{constructor(u,v){this.g=u,this.map=v}};function Os(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Vs(u){return u.h?1:u.g?u.g.size:0}function ri(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function uo(u,v){u.g?u.g.add(v):u.h=v}function ga(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}Os.prototype.cancel=function(){if(this.i=On(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function On(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const k of u.g.values())v=v.concat(k.D);return v}return R(u.i)}function va(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var v=[],k=u.length,z=0;z<k;z++)v.push(u[z]);return v}v=[],k=0;for(z in u)v[k++]=u[z];return v}function Ii(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var v=[];u=u.length;for(var k=0;k<u;k++)v.push(k);return v}v=[],k=0;for(const z in u)v[k++]=z;return v}}}function Io(u,v){if(u.forEach&&typeof u.forEach=="function")u.forEach(v,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,v,void 0);else for(var k=Ii(u),z=va(u),me=z.length,Se=0;Se<me;Se++)v.call(void 0,z[Se],k&&k[Se],u)}var js=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ii(u,v){if(u){u=u.split("&");for(var k=0;k<u.length;k++){var z=u[k].indexOf("="),me=null;if(0<=z){var Se=u[k].substring(0,z);me=u[k].substring(z+1)}else Se=u[k];v(Se,me?decodeURIComponent(me.replace(/\+/g," ")):"")}}}function _n(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof _n){this.h=u.h,Co(this,u.j),this.o=u.o,this.g=u.g,Xo(this,u.s),this.l=u.l;var v=u.i,k=new Sr;k.i=v.i,v.g&&(k.g=new Map(v.g),k.h=v.h),ya(this,k),this.m=u.m}else u&&(v=String(u).match(js))?(this.h=!1,Co(this,v[1]||"",!0),this.o=co(v[2]||""),this.g=co(v[3]||"",!0),Xo(this,v[4]),this.l=co(v[5]||"",!0),ya(this,v[6]||"",!0),this.m=co(v[7]||"")):(this.h=!1,this.i=new Sr(null,this.h))}_n.prototype.toString=function(){var u=[],v=this.j;v&&u.push(Ci(v,_a,!0),":");var k=this.g;return(k||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Ci(v,_a,!0),"@"),u.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&u.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&u.push("/"),u.push(Ci(k,k.charAt(0)=="/"?fl:hl,!0))),(k=this.i.toString())&&u.push("?",k),(k=this.m)&&u.push("#",Ci(k,ba)),u.join("")};function ur(u){return new _n(u)}function Co(u,v,k){u.j=k?co(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function Xo(u,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);u.s=v}else u.s=null}function ya(u,v,k){v instanceof Sr?(u.i=v,dl(u.i,u.h)):(k||(v=Ci(v,Bs)),u.i=new Sr(v,u.h))}function Kt(u,v,k){u.i.set(v,k)}function No(u){return Kt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function co(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ci(u,v,k){return typeof u=="string"?(u=encodeURI(u).replace(v,Lo),k&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Lo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _a=/[#\/\?@]/g,hl=/[#\?:]/g,fl=/[#\?]/g,Bs=/[#\?@]/g,ba=/#/g;function Sr(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function Ni(u){u.g||(u.g=new Map,u.h=0,u.i&&ii(u.i,function(v,k){u.add(decodeURIComponent(v.replace(/\+/g," ")),k)}))}t=Sr.prototype,t.add=function(u,v){Ni(this),this.i=null,u=Nt(this,u);var k=this.g.get(u);return k||this.g.set(u,k=[]),k.push(v),this.h+=1,this};function ho(u,v){Ni(u),v=Nt(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function Jo(u,v){return Ni(u),v=Nt(u,v),u.g.has(v)}t.forEach=function(u,v){Ni(this),this.g.forEach(function(k,z){k.forEach(function(me){u.call(v,me,z,this)},this)},this)},t.na=function(){Ni(this);const u=Array.from(this.g.values()),v=Array.from(this.g.keys()),k=[];for(let z=0;z<v.length;z++){const me=u[z];for(let Se=0;Se<me.length;Se++)k.push(v[z])}return k},t.V=function(u){Ni(this);let v=[];if(typeof u=="string")Jo(this,u)&&(v=v.concat(this.g.get(Nt(this,u))));else{u=Array.from(this.g.values());for(let k=0;k<u.length;k++)v=v.concat(u[k])}return v},t.set=function(u,v){return Ni(this),this.i=null,u=Nt(this,u),Jo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},t.get=function(u,v){return u?(u=this.V(u),0<u.length?String(u[0]):v):v};function wa(u,v,k){ho(u,v),0<k.length&&(u.i=null,u.g.set(Nt(u,v),R(k)),u.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(var k=0;k<v.length;k++){var z=v[k];const Se=encodeURIComponent(String(z)),Ge=this.V(z);for(z=0;z<Ge.length;z++){var me=Se;Ge[z]!==""&&(me+="="+encodeURIComponent(String(Ge[z]))),u.push(me)}}return this.i=u.join("&")};function Nt(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function dl(u,v){v&&!u.j&&(Ni(u),u.i=null,u.g.forEach(function(k,z){var me=z.toLowerCase();z!=me&&(ho(this,z),wa(this,me,k))},u)),u.j=v}function pl(u,v){const k=new oe;if(a.Image){const z=new Image;z.onload=p(yr,k,"TestLoadImage: loaded",!0,v,z),z.onerror=p(yr,k,"TestLoadImage: error",!1,v,z),z.onabort=p(yr,k,"TestLoadImage: abort",!1,v,z),z.ontimeout=p(yr,k,"TestLoadImage: timeout",!1,v,z),a.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=u}else v(!1)}function ml(u,v){const k=new oe,z=new AbortController,me=setTimeout(()=>{z.abort(),yr(k,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:z.signal}).then(Se=>{clearTimeout(me),Se.ok?yr(k,"TestPingServer: ok",!0,v):yr(k,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(me),yr(k,"TestPingServer: error",!1,v)})}function yr(u,v,k,z,me){try{me&&(me.onload=null,me.onerror=null,me.onabort=null,me.ontimeout=null),z(k)}catch{}}function Hi(){this.g=new He}function gl(u,v,k){const z=k||"";try{Io(u,function(me,Se){let Ge=me;h(me)&&(Ge=ot(me)),v.push(z+Se+"="+encodeURIComponent(Ge))})}catch(me){throw v.push(z+"type="+encodeURIComponent("_badmap")),me}}function Zo(u){this.l=u.Ub||null,this.j=u.eb||!1}N(Zo,Ct),Zo.prototype.g=function(){return new Wi(this.l,this.j)},Zo.prototype.i=function(u){return function(){return u}}({});function Wi(u,v){Ye.call(this),this.D=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Wi,Ye),t=Wi.prototype,t.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=v,this.readyState=1,Po(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(v.body=u),(this.D||a).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Po(this)),this.g&&(this.readyState=3,Po(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;es(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function es(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?di(this):Po(this),this.readyState==3&&es(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,di(this))},t.Qa=function(u){this.g&&(this.response=u,di(this))},t.ga=function(){this.g&&di(this)};function di(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Po(u)}t.setRequestHeader=function(u,v){this.u.append(u,v)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var k=v.next();!k.done;)k=k.value,u.push(k[0]+": "+k[1]),k=v.next();return u.join(`\r
`)};function Po(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Li(u){let v="";return ue(u,function(k,z){v+=z,v+=":",v+=k,v+=`\r
`}),v}function qs(u,v,k){e:{for(z in k){var z=!1;break e}z=!0}z||(k=Li(k),typeof u=="string"?k!=null&&encodeURIComponent(String(k)):Kt(u,v,k))}function vn(u){Ye.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(vn,Ye);var zs=/^https?$/i,Aa=["POST","PUT"];t=vn.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,v,k,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?lt(this.o):lt(Qn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(Se){Pi(this,Se);return}if(u=k||"",k=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var me in z)k.set(me,z[me]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const Se of z.keys())k.set(Se,z.get(Se));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(k.keys()).find(Se=>Se.toLowerCase()=="content-type"),me=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Aa,v,void 0))||z||me||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Se,Ge]of k)this.g.setRequestHeader(Se,Ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{po(this),this.u=!0,this.g.send(u),this.u=!1}catch(Se){Pi(this,Se)}};function Pi(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.m=5,ts(u),fo(u)}function ts(u){u.A||(u.A=!0,We(u,"complete"),We(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,We(this,"complete"),We(this,"abort"),fo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fo(this,!0)),vn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ro(this):this.bb())},t.bb=function(){Ro(this)};function Ro(u){if(u.h&&typeof s<"u"&&(!u.v[1]||Kr(u)!=4||u.Z()!=2)){if(u.u&&Kr(u)==4)Je(u.Ea,0,u);else if(We(u,"readystatechange"),Kr(u)==4){u.h=!1;try{const Ge=u.Z();e:switch(Ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var k;if(!(k=v)){var z;if(z=Ge===0){var me=String(u.D).match(js)[1]||null;!me&&a.self&&a.self.location&&(me=a.self.location.protocol.slice(0,-1)),z=!zs.test(me?me.toLowerCase():"")}k=z}if(k)We(u,"complete"),We(u,"success");else{u.m=6;try{var Se=2<Kr(u)?u.g.statusText:""}catch{Se=""}u.l=Se+" ["+u.Z()+"]",ts(u)}}finally{fo(u)}}}}function fo(u,v){if(u.g){po(u);const k=u.g,z=u.v[0]?()=>{}:null;u.g=null,u.v=null,v||We(u,"ready");try{k.onreadystatechange=z}catch{}}}function po(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Kr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Kr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),Ut(v)}};function Us(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Sa(u){const v={};u=(u.g&&2<=Kr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<u.length;z++){if(F(u[z]))continue;var k=_(u[z]);const me=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const Se=v[me]||[];v[me]=Se,Se.push(k)}V(v,function(z){return z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qr(u,v,k){return k&&k.internalChannelParams&&k.internalChannelParams[u]||v}function Ri(u){this.Aa=0,this.i=[],this.j=new oe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qr("baseRetryDelayMs",5e3,u),this.cb=Qr("retryDelaySeedMs",1e4,u),this.Wa=Qr("forwardChannelMaxRetries",2,u),this.wa=Qr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Os(u&&u.concurrentRequestLimit),this.Da=new Hi,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ri.prototype,t.la=8,t.G=1,t.connect=function(u,v,k,z){yn(0),this.W=u,this.H=v||{},k&&z!==void 0&&(this.H.OSID=k,this.H.OAID=z),this.F=this.X,this.I=dn(this,null,this.W),m(this)};function ns(u){if($s(u),u.G==3){var v=u.U++,k=ur(u.I);if(Kt(k,"SID",u.K),Kt(k,"RID",v),Kt(k,"TYPE","terminate"),te(u,k),v=new Xn(u,u.j,v),v.L=2,v.v=No(ur(k)),k=!1,a.navigator&&a.navigator.sendBeacon)try{k=a.navigator.sendBeacon(v.v.toString(),"")}catch{}!k&&a.Image&&(new Image().src=v.v,k=!0),k||(v.g=Un(v.j,null),v.g.ea(v.v)),v.F=Date.now(),lo(v)}Fn(u)}function Di(u){u.g&&(ut(u),u.g.cancel(),u.g=null)}function $s(u){Di(u),u.u&&(a.clearTimeout(u.u),u.u=null),Pt(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function m(u){if(!Fs(u.h)&&!u.s){u.s=!0;var v=u.Ga;ae||be(),J||(ae(),J=!0),fe.add(v,u),u.B=0}}function P(u,v){return Vs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=v.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Q(S(u.Ga,u,v),Qt(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const me=new Xn(this,this.j,u);let Se=this.o;if(this.S&&(Se?(Se=E(Se),I(Se,this.S)):Se=this.S),this.m!==null||this.O||(me.H=Se,Se=null),this.P)e:{for(var v=0,k=0;k<this.i.length;k++){t:{var z=this.i[k];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(v+=z,4096<v){v=k;break e}if(v===4096||k===this.i.length-1){v=k+1;break e}}v=1e3}else v=1e3;v=de(this,me,v),k=ur(this.I),Kt(k,"RID",u),Kt(k,"CVER",22),this.D&&Kt(k,"X-HTTP-Session-Id",this.D),te(this,k),Se&&(this.O?v="headers="+encodeURIComponent(String(Li(Se)))+"&"+v:this.m&&qs(k,this.m,Se)),uo(this.h,me),this.Ua&&Kt(k,"TYPE","init"),this.P?(Kt(k,"$req",v),Kt(k,"SID","null"),me.T=!0,ao(me,k,null)):ao(me,k,v),this.G=2}}else this.G==3&&(u?G(this,u):this.i.length==0||Fs(this.h)||G(this))};function G(u,v){var k;v?k=v.l:k=u.U++;const z=ur(u.I);Kt(z,"SID",u.K),Kt(z,"RID",k),Kt(z,"AID",u.T),te(u,z),u.m&&u.o&&qs(z,u.m,u.o),k=new Xn(u,u.j,k,u.B+1),u.m===null&&(k.H=u.o),v&&(u.i=v.D.concat(u.i)),v=de(u,k,1e3),k.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),uo(u.h,k),ao(k,z,v)}function te(u,v){u.H&&ue(u.H,function(k,z){Kt(v,z,k)}),u.l&&Io({},function(k,z){Kt(v,z,k)})}function de(u,v,k){k=Math.min(u.i.length,k);var z=u.l?S(u.l.Na,u.l,u):null;e:{var me=u.i;let Se=-1;for(;;){const Ge=["count="+k];Se==-1?0<k?(Se=me[0].g,Ge.push("ofs="+Se)):Se=0:Ge.push("ofs="+Se);let Zt=!0;for(let Bn=0;Bn<k;Bn++){let Wt=me[Bn].g;const un=me[Bn].map;if(Wt-=Se,0>Wt)Se=Math.max(0,me[Bn].g-100),Zt=!1;else try{gl(un,Ge,"req"+Wt+"_")}catch{z&&z(un)}}if(Zt){z=Ge.join("&");break e}}}return u=u.i.splice(0,k),v.D=u,z}function Ne(u){if(!u.g&&!u.u){u.Y=1;var v=u.Fa;ae||be(),J||(ae(),J=!0),fe.add(v,u),u.v=0}}function Fe(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Q(S(u.Fa,u),Qt(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,pt(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Q(S(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yn(10),Di(this),pt(this))};function ut(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function pt(u){u.g=new Xn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var v=ur(u.qa);Kt(v,"RID","rpc"),Kt(v,"SID",u.K),Kt(v,"AID",u.T),Kt(v,"CI",u.F?"0":"1"),!u.F&&u.ja&&Kt(v,"TO",u.ja),Kt(v,"TYPE","xmlhttp"),te(u,v),u.m&&u.o&&qs(v,u.m,u.o),u.L&&(u.g.I=u.L);var k=u.g;u=u.ia,k.L=1,k.v=No(ur(v)),k.m=null,k.P=!0,ko(k,u)}t.Za=function(){this.C!=null&&(this.C=null,Di(this),Fe(this),yn(19))};function Pt(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Ot(u,v){var k=null;if(u.g==v){Pt(u),ut(u),u.g=null;var z=2}else if(ri(u.h,v))k=v.D,ga(u.h,v),z=1;else return;if(u.G!=0){if(v.o)if(z==1){k=v.m?v.m.length:0,v=Date.now()-v.F;var me=u.B;z=Nn(),We(z,new ni(z,k)),m(u)}else Ne(u);else if(me=v.s,me==3||me==0&&0<v.X||!(z==1&&P(u,v)||z==2&&Fe(u)))switch(k&&0<k.length&&(v=u.h,v.i=v.i.concat(k)),me){case 1:cn(u,5);break;case 4:cn(u,10);break;case 3:cn(u,6);break;default:cn(u,2)}}}function Qt(u,v){let k=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(k*=2),k*v}function cn(u,v){if(u.j.info("Error code "+v),v==2){var k=S(u.fb,u),z=u.Xa;const me=!z;z=new _n(z||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Co(z,"https"),No(z),me?pl(z.toString(),k):ml(z.toString(),k)}else yn(2);u.G=0,u.l&&u.l.sa(v),Fn(u),$s(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),yn(2)):(this.j.info("Failed to ping google.com"),yn(1))};function Fn(u){if(u.G=0,u.ka=[],u.l){const v=On(u.h);(v.length!=0||u.i.length!=0)&&(L(u.ka,v),L(u.ka,u.i),u.h.i.length=0,R(u.i),u.i.length=0),u.l.ra()}}function dn(u,v,k){var z=k instanceof _n?ur(k):new _n(k);if(z.g!="")v&&(z.g=v+"."+z.g),Xo(z,z.s);else{var me=a.location;z=me.protocol,v=v?v+"."+me.hostname:me.hostname,me=+me.port;var Se=new _n(null);z&&Co(Se,z),v&&(Se.g=v),me&&Xo(Se,me),k&&(Se.l=k),z=Se}return k=u.D,v=u.ya,k&&v&&Kt(z,k,v),Kt(z,"VER",u.la),te(u,z),z}function Un(u,v,k){if(v&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Ca&&!u.pa?new vn(new Zo({eb:k})):new vn(u.pa),v.Ha(u.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vn(){}t=Vn.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $n(){}$n.prototype.g=function(u,v){return new jn(u,v)};function jn(u,v){Ye.call(this),this.g=new Ri(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(u?u["X-WebChannel-Client-Profile"]=v.va:u={"X-WebChannel-Client-Profile":v.va}),this.g.S=u,(u=v&&v.Sb)&&!F(u)&&(this.g.m=u),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!F(v)&&(this.g.D=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new Oi(this)}N(jn,Ye),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){ns(this.g)},jn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var k={};k.__data__=u,u=k}else this.u&&(k={},k.__data__=ot(u),u=k);v.i.push(new Ms(v.Ya++,u)),v.G==3&&m(v)},jn.prototype.N=function(){this.g.l=null,delete this.j,ns(this.g),delete this.g,jn.aa.N.call(this)};function oi(u){Mt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const k in v){u=k;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}N(oi,Mt);function Mi(){vt.call(this),this.status=1}N(Mi,vt);function Oi(u){this.g=u}N(Oi,Vn),Oi.prototype.ua=function(){We(this.g,"a")},Oi.prototype.ta=function(u){We(this.g,new oi(u))},Oi.prototype.sa=function(u){We(this.g,new Mi)},Oi.prototype.ra=function(){We(this.g,"b")},$n.prototype.createWebChannel=$n.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,M2=function(){return new $n},D2=function(){return Nn()},R2=jt,Nf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kt.NO_ERROR=0,kt.TIMEOUT=8,kt.HTTP_ERROR=6,oc=kt,$t.COMPLETE="complete",P2=$t,Lt.EventType=Yt,Yt.OPEN="a",Yt.CLOSE="b",Yt.ERROR="c",Yt.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,Ml=Lt,vn.prototype.listenOnce=vn.prototype.L,vn.prototype.getLastError=vn.prototype.Ka,vn.prototype.getLastErrorCode=vn.prototype.Ba,vn.prototype.getStatus=vn.prototype.Z,vn.prototype.getResponseJson=vn.prototype.Oa,vn.prototype.getResponseText=vn.prototype.oa,vn.prototype.send=vn.prototype.ea,vn.prototype.setWithCredentials=vn.prototype.Ha,L2=vn}).apply(typeof zu<"u"?zu:typeof self<"u"?self:typeof window<"u"?window:{});const n0="@firebase/firestore",r0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ur.UNAUTHENTICATED=new Ur(null),Ur.GOOGLE_CREDENTIALS=new Ur("google-credentials-uid"),Ur.FIRST_PARTY=new Ur("first-party-uid"),Ur.MOCK_USER=new Ur("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ll="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new T2("@firebase/firestore");function Ma(){return sa.logLevel}function mt(t,...e){if(sa.logLevel<=on.DEBUG){const n=e.map(od);sa.debug(`Firestore (${ll}): ${t}`,...n)}}function aa(t,...e){if(sa.logLevel<=on.ERROR){const n=e.map(od);sa.error(`Firestore (${ll}): ${t}`,...n)}}function Za(t,...e){if(sa.logLevel<=on.WARN){const n=e.map(od);sa.warn(`Firestore (${ll}): ${t}`,...n)}}function od(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,O2(t,r,n)}function O2(t,e,n){let r=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw aa(r),new Error(r)}function Kn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||O2(e,i,r)}function Tn(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class It extends al{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ur.UNAUTHENTICATED))}shutdown(){}}class M4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class O4{constructor(e){this.t=e,this.currentUser=Ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Kn(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new na;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new na,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new na)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kn(typeof r.accessToken=="string",31837,{l:r}),new F2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kn(e===null||typeof e=="string",2055,{h:e}),new Ur(e)}}class F4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ur.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new F4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class i0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,v4(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Kn(this.o===void 0,3512);const r=o=>{o.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,mt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new i0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Kn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new i0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=B4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function ln(t,e){return t<e?-1:t>e?1:0}function Lf(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ln(r,i);{const o=q4(),s=z4(o.encode(o0(t,n)),o.encode(o0(e,n)));return s!==0?s:ln(r,i)}}n+=r>65535?2:1}return ln(t.length,e.length)}function o0(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function z4(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ln(t[n],e[n]);return ln(t.length,e.length)}function el(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="__name__";class bo{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ht(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ht(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return bo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=bo.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ln(e.length,n.length)}static compareSegments(e,n){const r=bo.isNumericId(e),i=bo.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?bo.extractNumericId(e).compare(bo.extractNumericId(n)):Lf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return id.fromString(e.substring(4,e.length-2))}}class zn extends bo{construct(e,n,r){return new zn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new It(Be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new zn(n)}static emptyPath(){return new zn([])}}const U4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lr extends bo{construct(e,n,r){return new Lr(e,n,r)}static isValidIdentifier(e){return U4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s0}static keyField(){return new Lr([s0])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new It(Be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new It(Be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new It(Be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new It(Be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lr(n)}static emptyPath(){return new Lr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.path=e}static fromPath(e){return new zt(zn.fromString(e))}static fromName(e){return new zt(zn.fromString(e).popFirst(5))}static empty(){return new zt(zn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return zn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zt(new zn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t,e,n){if(!n)throw new It(Be.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $4(t,e,n,r){if(e===!0&&r===!0)throw new It(Be.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function a0(t){if(!zt.isDocumentKey(t))throw new It(Be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function l0(t){if(zt.isDocumentKey(t))throw new It(Be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function j2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ad(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ht(12329,{type:typeof t})}function B2(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new It(Be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ad(t);throw new It(Be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t,e){const n={typeString:t};return e&&(n.value=e),n}function su(t,e){if(!j2(t))throw new It(Be.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new It(Be.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=-62135596800,c0=1e6;class Rn{static now(){return Rn.fromMillis(Date.now())}static fromDate(e){return Rn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*c0);return new Rn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new It(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new It(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<u0)throw new It(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new It(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c0}_compareTo(e){return this.seconds===e.seconds?ln(this.nanoseconds,e.nanoseconds):ln(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(su(e,Rn._jsonSchema))return new Rn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-u0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rn._jsonSchemaVersion="firestore/timestamp/1.0",Rn._jsonSchema={type:lr("string",Rn._jsonSchemaVersion),seconds:lr("number"),nanoseconds:lr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{static fromTimestamp(e){return new Pn(e)}static min(){return new Pn(new Rn(0,0))}static max(){return new Pn(new Rn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=-1;function H4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Pn.fromTimestamp(r===1e9?new Rn(n+1,0):new Rn(n,r));return new Ns(i,zt.empty(),e)}function W4(t){return new Ns(t.readTime,t.key,Jl)}class Ns{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ns(Pn.min(),zt.empty(),Jl)}static max(){return new Ns(Pn.max(),zt.empty(),Jl)}}function G4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=zt.comparator(t.documentKey,e.documentKey),n!==0?n:ln(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(t){if(t.code!==Be.FAILED_PRECONDITION||t.message!==Y4)throw t;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ht(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ve((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ve?n:Ve.resolve(n)}catch(n){return Ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ve.reject(n)}static resolve(e){return new Ve((n,r)=>{n(e)})}static reject(e){return new Ve((n,r)=>{r(e)})}static waitFor(e){return new Ve((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=Ve.resolve(!1);for(const r of e)n=n.next(i=>i?Ve.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Ve((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const h=c;n(e[h]).next(d=>{s[h]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new Ve((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function Q4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function au(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}ud.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=-1;function hd(t){return t==null}function Ac(t){return t===0&&1/t==-1/0}function X4(t){return typeof t=="number"&&Number.isInteger(t)&&!Ac(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="";function J4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=h0(e)),e=Z4(t.get(n),e);return h0(e)}function Z4(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case q2:n+="";break;default:n+=o}}return n}function h0(t){return t+q2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ul(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function z2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n){this.comparator=e,this.root=n||Cr.EMPTY}insert(e,n){return new ui(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cr.BLACK,null,null))}remove(e){return new ui(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uu(this.root,e,this.comparator,!0)}}class Uu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Cr.RED,this.left=i??Cr.EMPTY,this.right=o??Cr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Cr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Cr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Cr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ht(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ht(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ht(27949);return e+(this.isRed()?0:1)}}Cr.EMPTY=null,Cr.RED=!0,Cr.BLACK=!1;Cr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ht(57766)}get value(){throw Ht(16141)}get color(){throw Ht(16727)}get left(){throw Ht(29726)}get right(){throw Ht(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Cr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.comparator=e,this.data=new ui(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d0(this.data.getIterator())}getIteratorFrom(e){return new d0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pr(this.comparator);return n.data=e,n}}class d0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.fields=e,e.sort(Lr.comparator)}static empty(){return new no([])}unionWith(e){let n=new Pr(Lr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new no(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return el(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new e3("Invalid base64 string: "+o):o}}(e);return new So(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new So(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ln(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}So.EMPTY_BYTE_STRING=new So("");const t3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function la(t){if(Kn(!!t,39018),typeof t=="string"){let e=0;const n=t3.exec(t);if(Kn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nr(t.seconds),nanos:Nr(t.nanos)}}function Nr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function tl(t){return typeof t=="string"?So.fromBase64String(t):So.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="server_timestamp",$2="__type__",H2="__previous_value__",W2="__local_write_time__";function fd(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[$2])===null||n===void 0?void 0:n.stringValue)===U2}function dd(t){const e=t.mapValue.fields[H2];return fd(e)?dd(e):e}function Sc(t){const e=la(t.mapValue.fields[W2].timestampValue);return new Rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,n,r,i,o,s,a,c,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=d}}const xc="(default)";class Tc{constructor(e,n){this.projectId=e,this.database=n||xc}static empty(){return new Tc("","")}get isDefaultDatabase(){return this.database===xc}isEqual(e){return e instanceof Tc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="__type__",r3="__max__",$u={mapValue:{}},Y2="__vector__",Pf="value";function ua(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fd(t)?4:o3(t)?9007199254740991:i3(t)?10:11:Ht(28295,{value:t})}function xo(t,e){if(t===e)return!0;const n=ua(t);if(n!==ua(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sc(t).isEqual(Sc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=la(i.timestampValue),a=la(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return tl(i.bytesValue).isEqual(tl(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Nr(i.geoPointValue.latitude)===Nr(o.geoPointValue.latitude)&&Nr(i.geoPointValue.longitude)===Nr(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Nr(i.integerValue)===Nr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Nr(i.doubleValue),a=Nr(o.doubleValue);return s===a?Ac(s)===Ac(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return el(t.arrayValue.values||[],e.arrayValue.values||[],xo);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(f0(s)!==f0(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!xo(s[c],a[c])))return!1;return!0}(t,e);default:return Ht(52216,{left:t})}}function Zl(t,e){return(t.values||[]).find(n=>xo(n,e))!==void 0}function nl(t,e){if(t===e)return 0;const n=ua(t),r=ua(e);if(n!==r)return ln(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ln(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Nr(o.integerValue||o.doubleValue),c=Nr(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return p0(t.timestampValue,e.timestampValue);case 4:return p0(Sc(t),Sc(e));case 5:return Lf(t.stringValue,e.stringValue);case 6:return function(o,s){const a=tl(o),c=tl(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let h=0;h<a.length&&h<c.length;h++){const d=ln(a[h],c[h]);if(d!==0)return d}return ln(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ln(Nr(o.latitude),Nr(s.latitude));return a!==0?a:ln(Nr(o.longitude),Nr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return m0(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,h,d;const y=o.fields||{},S=s.fields||{},p=(a=y[Pf])===null||a===void 0?void 0:a.arrayValue,N=(c=S[Pf])===null||c===void 0?void 0:c.arrayValue,R=ln(((h=p?.values)===null||h===void 0?void 0:h.length)||0,((d=N?.values)===null||d===void 0?void 0:d.length)||0);return R!==0?R:m0(p,N)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===$u.mapValue&&s===$u.mapValue)return 0;if(o===$u.mapValue)return 1;if(s===$u.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),h=s.fields||{},d=Object.keys(h);c.sort(),d.sort();for(let y=0;y<c.length&&y<d.length;++y){const S=Lf(c[y],d[y]);if(S!==0)return S;const p=nl(a[c[y]],h[d[y]]);if(p!==0)return p}return ln(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Ht(23264,{le:n})}}function p0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ln(t,e);const n=la(t),r=la(e),i=ln(n.seconds,r.seconds);return i!==0?i:ln(n.nanos,r.nanos)}function m0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=nl(n[i],r[i]);if(o)return o}return ln(n.length,r.length)}function rl(t){return Rf(t)}function Rf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=la(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return tl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return zt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Rf(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Rf(n.fields[s])}`;return i+"}"}(t.mapValue):Ht(61005,{value:t})}function sc(t){switch(ua(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dd(t);return e?16+sc(e):16;case 5:return 2*t.stringValue.length;case 6:return tl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+sc(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ul(r.fields,(o,s)=>{i+=o.length+sc(s)}),i}(t.mapValue);default:throw Ht(13486,{value:t})}}function Df(t){return!!t&&"integerValue"in t}function pd(t){return!!t&&"arrayValue"in t}function ac(t){return!!t&&"mapValue"in t}function i3(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[G2])===null||n===void 0?void 0:n.stringValue)===Y2}function ql(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ul(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ql(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ql(t.arrayValue.values[n]);return e}return Object.assign({},t)}function o3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===r3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.value=e}static empty(){return new eo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ac(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(n)}setAll(e){let n=Lr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=ql(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());ac(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ac(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ul(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new eo(ql(this.value))}}function K2(t){const e=[];return ul(t.fields,(n,r)=>{const i=new Lr([n]);if(ac(r)){const o=K2(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new no(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ji(e,0,Pn.min(),Pn.min(),Pn.min(),eo.empty(),0)}static newFoundDocument(e,n,r,i){return new Ji(e,1,n,Pn.min(),r,i,0)}static newNoDocument(e,n){return new Ji(e,2,n,Pn.min(),Pn.min(),eo.empty(),0)}static newUnknownDocument(e,n){return new Ji(e,3,n,Pn.min(),Pn.min(),eo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=eo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=eo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ji&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ji(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n){this.position=e,this.inclusive=n}}function g0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=zt.comparator(zt.fromName(s.referenceValue),n.key):r=nl(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function v0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n="asc"){this.field=e,this.dir=n}}function s3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{}class Ar extends Q2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new l3(e,n,r):n==="array-contains"?new h3(e,r):n==="in"?new f3(e,r):n==="not-in"?new d3(e,r):n==="array-contains-any"?new p3(e,r):new Ar(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new u3(e,r):new c3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(nl(n,this.value)):n!==null&&ua(this.value)===ua(n)&&this.matchesComparison(nl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ht(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ls extends Q2{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Ls(e,n)}matches(e){return X2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function X2(t){return t.op==="and"}function J2(t){return a3(t)&&X2(t)}function a3(t){for(const e of t.filters)if(e instanceof Ls)return!1;return!0}function Mf(t){if(t instanceof Ar)return t.field.canonicalString()+t.op.toString()+rl(t.value);if(J2(t))return t.filters.map(e=>Mf(e)).join(",");{const e=t.filters.map(n=>Mf(n)).join(",");return`${t.op}(${e})`}}function Z2(t,e){return t instanceof Ar?function(r,i){return i instanceof Ar&&r.op===i.op&&r.field.isEqual(i.field)&&xo(r.value,i.value)}(t,e):t instanceof Ls?function(r,i){return i instanceof Ls&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Z2(s,i.filters[a]),!0):!1}(t,e):void Ht(19439)}function eg(t){return t instanceof Ar?function(n){return`${n.field.canonicalString()} ${n.op} ${rl(n.value)}`}(t):t instanceof Ls?function(n){return n.op.toString()+" {"+n.getFilters().map(eg).join(" ,")+"}"}(t):"Filter"}class l3 extends Ar{constructor(e,n,r){super(e,n,r),this.key=zt.fromName(r.referenceValue)}matches(e){const n=zt.comparator(e.key,this.key);return this.matchesComparison(n)}}class u3 extends Ar{constructor(e,n){super(e,"in",n),this.keys=tg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class c3 extends Ar{constructor(e,n){super(e,"not-in",n),this.keys=tg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tg(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>zt.fromName(r.referenceValue))}class h3 extends Ar{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pd(n)&&Zl(n.arrayValue,this.value)}}class f3 extends Ar{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class d3 extends Ar{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zl(this.value.arrayValue,n)}}class p3 extends Ar{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}}function y0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new m3(t,e,n,r,i,o,s)}function md(t){const e=Tn(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Mf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),hd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rl(r)).join(",")),e.Pe=n}return e.Pe}function gd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!s3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Z2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!v0(t.startAt,e.startAt)&&v0(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function g3(t,e,n,r,i,o,s,a){return new Hc(t,e,n,r,i,o,s,a)}function v3(t){return new Hc(t)}function _0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function y3(t){return t.collectionGroup!==null}function zl(t){const e=Tn(t);if(e.Te===null){e.Te=[];const n=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Pr(Lr.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(a=a.add(h.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Ec(o,r))}),n.has(Lr.keyField().canonicalString())||e.Te.push(new Ec(Lr.keyField(),r))}return e.Te}function ra(t){const e=Tn(t);return e.Ie||(e.Ie=_3(e,zl(t))),e.Ie}function _3(t,e){if(t.limitType==="F")return y0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Ec(i.field,o)});const n=t.endAt?new kc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new kc(t.startAt.position,t.startAt.inclusive):null;return y0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Of(t,e,n){return new Hc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ng(t,e){return gd(ra(t),ra(e))&&t.limitType===e.limitType}function rg(t){return`${md(ra(t))}|lt:${t.limitType}`}function Rl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>eg(i)).join(", ")}]`),hd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>rl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>rl(i)).join(",")),`Target(${r})`}(ra(t))}; limitType=${t.limitType})`}function vd(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):zt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of zl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){const h=g0(s,a,c);return s.inclusive?h<=0:h<0}(r.startAt,zl(r),i)||r.endAt&&!function(s,a,c){const h=g0(s,a,c);return s.inclusive?h>=0:h>0}(r.endAt,zl(r),i))}(t,e)}function b3(t){return(e,n)=>{let r=!1;for(const i of zl(t)){const o=w3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function w3(t,e,n){const r=t.field.isKeyField()?zt.comparator(e.key,n.key):function(o,s,a){const c=s.data.field(o),h=a.data.field(o);return c!==null&&h!==null?nl(c,h):Ht(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ht(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ul(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return z2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=new ui(zt.comparator);function Ic(){return A3}const ig=new ui(zt.comparator);function Hu(...t){let e=ig;for(const n of t)e=e.insert(n.key,n);return e}function og(t){let e=ig;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ea(){return Ul()}function sg(){return Ul()}function Ul(){return new pa(t=>t.toString(),(t,e)=>t.isEqual(e))}const S3=new ui(zt.comparator),x3=new Pr(zt.comparator);function $r(...t){let e=x3;for(const n of t)e=e.add(n);return e}const T3=new Pr(ln);function k3(){return T3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ac(e)?"-0":e}}function ag(t){return{integerValue:""+t}}function E3(t,e){return X4(e)?ag(e):yd(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this._=void 0}}function I3(t,e,n){return t instanceof Cc?function(i,o){const s={fields:{[$2]:{stringValue:U2},[W2]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&fd(o)&&(o=dd(o)),o&&(s.fields[H2]=o),{mapValue:s}}(n,e):t instanceof eu?ug(t,e):t instanceof tu?cg(t,e):function(i,o){const s=lg(i,o),a=b0(s)+b0(i.Ee);return Df(s)&&Df(i.Ee)?ag(a):yd(i.serializer,a)}(t,e)}function C3(t,e,n){return t instanceof eu?ug(t,e):t instanceof tu?cg(t,e):n}function lg(t,e){return t instanceof Nc?function(r){return Df(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Cc extends Wc{}class eu extends Wc{constructor(e){super(),this.elements=e}}function ug(t,e){const n=hg(e);for(const r of t.elements)n.some(i=>xo(i,r))||n.push(r);return{arrayValue:{values:n}}}class tu extends Wc{constructor(e){super(),this.elements=e}}function cg(t,e){let n=hg(e);for(const r of t.elements)n=n.filter(i=>!xo(i,r));return{arrayValue:{values:n}}}class Nc extends Wc{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function b0(t){return Nr(t.integerValue||t.doubleValue)}function hg(t){return pd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function N3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof eu&&i instanceof eu||r instanceof tu&&i instanceof tu?el(r.elements,i.elements,xo):r instanceof Nc&&i instanceof Nc?xo(r.Ee,i.Ee):r instanceof Cc&&i instanceof Cc}(t.transform,e.transform)}class L3{constructor(e,n){this.version=e,this.transformResults=n}}class Ho{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ho}static exists(e){return new Ho(void 0,e)}static updateTime(e){return new Ho(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gc{}function fg(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pg(t.key,Ho.none()):new lu(t.key,t.data,Ho.none());{const n=t.data,r=eo.empty();let i=new Pr(Lr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ma(t.key,r,new no(i.toArray()),Ho.none())}}function P3(t,e,n){t instanceof lu?function(i,o,s){const a=i.value.clone(),c=A0(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ma?function(i,o,s){if(!lc(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=A0(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(dg(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function $l(t,e,n,r){return t instanceof lu?function(o,s,a,c){if(!lc(o.precondition,s))return a;const h=o.value.clone(),d=S0(o.fieldTransforms,c,s);return h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof ma?function(o,s,a,c){if(!lc(o.precondition,s))return a;const h=S0(o.fieldTransforms,c,s),d=s.data;return d.setAll(dg(o)),d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(o,s,a){return lc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function R3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=lg(r.transform,i||null);o!=null&&(n===null&&(n=eo.empty()),n.set(r.field,o))}return n||null}function w0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&el(r,i,(o,s)=>N3(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lu extends Gc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ma extends Gc{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function dg(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function A0(t,e,n){const r=new Map;Kn(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,C3(s,a,n[i]))}return r}function S0(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,I3(o,s,e))}return r}class pg extends Gc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class D3 extends Gc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&P3(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$l(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$l(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sg();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const c=fg(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Pn.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),$r())}isEqual(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,(n,r)=>w0(n,r))&&el(this.baseMutations,e.baseMutations,(n,r)=>w0(n,r))}}class _d{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Kn(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return S3}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new _d(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ar,nn;function F3(t){switch(t){case Be.OK:return Ht(64938);case Be.CANCELLED:case Be.UNKNOWN:case Be.DEADLINE_EXCEEDED:case Be.RESOURCE_EXHAUSTED:case Be.INTERNAL:case Be.UNAVAILABLE:case Be.UNAUTHENTICATED:return!1;case Be.INVALID_ARGUMENT:case Be.NOT_FOUND:case Be.ALREADY_EXISTS:case Be.PERMISSION_DENIED:case Be.FAILED_PRECONDITION:case Be.ABORTED:case Be.OUT_OF_RANGE:case Be.UNIMPLEMENTED:case Be.DATA_LOSS:return!0;default:return Ht(15467,{code:t})}}function V3(t){if(t===void 0)return aa("GRPC error has no .code"),Be.UNKNOWN;switch(t){case ar.OK:return Be.OK;case ar.CANCELLED:return Be.CANCELLED;case ar.UNKNOWN:return Be.UNKNOWN;case ar.DEADLINE_EXCEEDED:return Be.DEADLINE_EXCEEDED;case ar.RESOURCE_EXHAUSTED:return Be.RESOURCE_EXHAUSTED;case ar.INTERNAL:return Be.INTERNAL;case ar.UNAVAILABLE:return Be.UNAVAILABLE;case ar.UNAUTHENTICATED:return Be.UNAUTHENTICATED;case ar.INVALID_ARGUMENT:return Be.INVALID_ARGUMENT;case ar.NOT_FOUND:return Be.NOT_FOUND;case ar.ALREADY_EXISTS:return Be.ALREADY_EXISTS;case ar.PERMISSION_DENIED:return Be.PERMISSION_DENIED;case ar.FAILED_PRECONDITION:return Be.FAILED_PRECONDITION;case ar.ABORTED:return Be.ABORTED;case ar.OUT_OF_RANGE:return Be.OUT_OF_RANGE;case ar.UNIMPLEMENTED:return Be.UNIMPLEMENTED;case ar.DATA_LOSS:return Be.DATA_LOSS;default:return Ht(39323,{code:t})}}(nn=ar||(ar={}))[nn.OK=0]="OK",nn[nn.CANCELLED=1]="CANCELLED",nn[nn.UNKNOWN=2]="UNKNOWN",nn[nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nn[nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nn[nn.NOT_FOUND=5]="NOT_FOUND",nn[nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",nn[nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",nn[nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",nn[nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nn[nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nn[nn.ABORTED=10]="ABORTED",nn[nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",nn[nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",nn[nn.INTERNAL=13]="INTERNAL",nn[nn.UNAVAILABLE=14]="UNAVAILABLE",nn[nn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new id([4294967295,4294967295],0);class j3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ff(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function B3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function q3(t,e){return Ff(t,e.toTimestamp())}function Ga(t){return Kn(!!t,49232),Pn.fromTimestamp(function(n){const r=la(n);return new Rn(r.seconds,r.nanos)}(t))}function mg(t,e){return Vf(t,e).canonicalString()}function Vf(t,e){const n=function(i){return new zn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function z3(t){const e=zn.fromString(t);return Kn(Q3(e),10190,{key:e.toString()}),e}function jf(t,e){return mg(t.databaseId,e.path)}function U3(t){const e=z3(t);return e.length===4?zn.emptyPath():H3(e)}function $3(t){return new zn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function H3(t){return Kn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function x0(t,e,n){return{name:jf(t,e),fields:n.value.mapValue.fields}}function W3(t,e){let n;if(e instanceof lu)n={update:x0(t,e.key,e.value)};else if(e instanceof pg)n={delete:jf(t,e.key)};else if(e instanceof ma)n={update:x0(t,e.key,e.data),updateMask:K3(e.fieldMask)};else{if(!(e instanceof D3))return Ht(16599,{Rt:e.type});n={verify:jf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Cc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof eu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof tu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Nc)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw Ht(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:q3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ht(27497)}(t,e.precondition)),n}function G3(t,e){return t&&t.length>0?(Kn(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Ga(i.updateTime):Ga(o);return s.isEqual(Pn.min())&&(s=Ga(o)),new L3(s,i.transformResults||[])}(n,e))):[]}function Y3(t){let e=U3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Kn(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(y){const S=gg(y);return S instanceof Ls&&J2(S)?S.getFilters():[S]}(n.where));let s=[];n.orderBy&&(s=function(y){return y.map(S=>function(N){return new Ec(Oa(N.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(S))}(n.orderBy));let a=null;n.limit&&(a=function(y){let S;return S=typeof y=="object"?y.value:y,hd(S)?null:S}(n.limit));let c=null;n.startAt&&(c=function(y){const S=!!y.before,p=y.values||[];return new kc(p,S)}(n.startAt));let h=null;return n.endAt&&(h=function(y){const S=!y.before,p=y.values||[];return new kc(p,S)}(n.endAt)),g3(e,i,s,o,a,"F",c,h)}function gg(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Oa(n.unaryFilter.field);return Ar.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Oa(n.unaryFilter.field);return Ar.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Oa(n.unaryFilter.field);return Ar.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Oa(n.unaryFilter.field);return Ar.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ht(61313);default:return Ht(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ar.create(Oa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ht(58110);default:return Ht(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ls.create(n.compositeFilter.filters.map(r=>gg(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ht(1026)}}(n.compositeFilter.op))}(t):Ht(30097,{filter:t})}function Oa(t){return Lr.fromServerFormat(t.fieldPath)}function K3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Q3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.gt=e}}function J3(t){const e=Y3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Of(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(){this.Dn=new e6}addToCollectionParentIndex(e,n){return this.Dn.add(n),Ve.resolve()}getCollectionParents(e,n){return Ve.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return Ve.resolve()}deleteFieldIndex(e,n){return Ve.resolve()}deleteAllFieldIndexes(e){return Ve.resolve()}createTargetIndexes(e,n){return Ve.resolve()}getDocumentsMatchingTarget(e,n){return Ve.resolve(null)}getIndexType(e,n){return Ve.resolve(0)}getFieldIndexes(e,n){return Ve.resolve([])}getNextCollectionGroupToUpdate(e){return Ve.resolve(null)}getMinOffset(e,n){return Ve.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,n){return Ve.resolve(Ns.min())}updateCollectionGroup(e,n,r){return Ve.resolve()}updateIndexEntries(e,n){return Ve.resolve()}}class e6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pr(zn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pr(zn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vg=41943040;class li{static withCacheSize(e){return new li(e,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */li.DEFAULT_COLLECTION_PERCENTILE=10,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,li.DEFAULT=new li(vg,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),li.DISABLED=new li(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new il(0)}static ur(){return new il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="LruGarbageCollector",t6=1048576;function E0([t,e],[n,r]){const i=ln(t,n);return i===0?ln(e,r):i}class n6{constructor(e){this.Tr=e,this.buffer=new Pr(E0),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();E0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class r6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){mt(k0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){au(n)?mt(k0,"Ignoring IndexedDB error during garbage collection: ",n):await ld(n)}await this.Rr(3e5)})}}class i6{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ve.resolve(ud.ue);const r=new n6(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),Ve.resolve(T0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T0):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,a,c,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,s=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,a=Date.now(),this.removeTargets(e,r,n))).next(y=>(o=y,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(h=Date.now(),Ma()<=on.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${y} documents in `+(h-c)+`ms
Total Duration: ${h-d}ms`),Ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y})))}}function o6(t,e){return new i6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(){this.changes=new pa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ji.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&$l(r.mutation,i,no.empty(),Rn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,$r()).next(()=>r))}getLocalViewOfDocuments(e,n,r=$r()){const i=ea();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Hu();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ea();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,$r()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Ic();const s=Ul(),a=function(){return Ul()}();return n.forEach((c,h)=>{const d=r.get(h.key);i.has(h.key)&&(d===void 0||d.mutation instanceof ma)?o=o.insert(h.key,h):d!==void 0?(s.set(h.key,d.mutation.getFieldMask()),$l(d.mutation,h,d.mutation.getFieldMask(),Rn.now())):s.set(h.key,no.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((h,d)=>s.set(h,d)),n.forEach((h,d)=>{var y;return a.set(h,new a6(d,(y=s.get(h))!==null&&y!==void 0?y:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ul();let i=new ui((s,a)=>s-a),o=$r();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let d=r.get(c)||no.empty();d=a.applyToLocalView(h,d),r.set(c,d);const y=(i.get(a.batchId)||$r()).add(c);i=i.insert(a.batchId,y)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),h=c.key,d=c.value,y=sg();d.forEach(S=>{if(!o.has(S)){const p=fg(n.get(S),r.get(S));p!==null&&y.set(S,p),o=o.add(S)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,y))}return Ve.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return zt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):y3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Ve.resolve(ea());let a=Jl,c=o;return s.next(h=>Ve.forEach(h,(d,y)=>(a<y.largestBatchId&&(a=y.largestBatchId),o.get(d)?Ve.resolve():this.remoteDocumentCache.getEntry(e,d).next(S=>{c=c.insert(d,S)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,c,h,$r())).next(d=>({batchId:a,changes:og(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new zt(n)).next(r=>{let i=Hu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Hu();return this.indexManager.getCollectionParents(e,o).next(a=>Ve.forEach(a,c=>{const h=function(y,S){return new Hc(S,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(d=>{d.forEach((y,S)=>{s=s.insert(y,S)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,h)=>{const d=h.getKey();s.get(d)===null&&(s=s.insert(d,Ji.newInvalidDocument(d)))});let a=Hu();return s.forEach((c,h)=>{const d=o.get(c);d!==void 0&&$l(d.mutation,h,no.empty(),Rn.now()),vd(n,h)&&(a=a.insert(c,h))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return Ve.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ga(i.createTime)}}(n)),Ve.resolve()}getNamedQuery(e,n){return Ve.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:J3(i.bundledQuery),readTime:Ga(i.readTime)}}(n)),Ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(){this.overlays=new ui(zt.comparator),this.kr=new Map}getOverlay(e,n){return Ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ea();return Ve.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),Ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),Ve.resolve()}getOverlaysForCollection(e,n,r){const i=ea(),o=n.length+1,s=new zt(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ui((h,d)=>h-d);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=o.get(h.largestBatchId);d===null&&(d=ea(),o=o.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const a=ea(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,d)=>a.set(h,d)),!(a.size()>=i)););return Ve.resolve(a)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new O3(n,r));let o=this.kr.get(n);o===void 0&&(o=$r(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this.sessionToken=So.EMPTY_BYTE_STRING}getSessionToken(e){return Ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(){this.qr=new Pr(_r.Qr),this.$r=new Pr(_r.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new _r(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new _r(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new zt(new zn([])),r=new _r(n,e),i=new _r(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new zt(new zn([])),r=new _r(n,e),i=new _r(n,e+1);let o=$r();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new _r(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _r{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return zt.comparator(e.key,n.key)||ln(e.Hr,n.Hr)}static Ur(e,n){return ln(e.Hr,n.Hr)||zt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Pr(_r.Qr)}checkEmpty(e){return Ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new M3(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Yr=this.Yr.add(new _r(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ve.resolve(s)}lookupMutationBatch(e,n){return Ve.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return Ve.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ve.resolve(this.mutationQueue.length===0?cd:this.er-1)}getAllMutationBatches(e){return Ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _r(n,0),i=new _r(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{const a=this.Zr(s.Hr);o.push(a)}),Ve.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pr(ln);return n.forEach(i=>{const o=new _r(i,0),s=new _r(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),Ve.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;zt.isDocumentKey(o)||(o=o.child(""));const s=new _r(new zt(o),0);let a=new Pr(ln);return this.Yr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(a=a.add(c.Hr)),!0)},s),Ve.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Kn(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Ve.forEach(n.mutations,i=>{const o=new _r(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new _r(n,0),i=this.Yr.firstAfterOrEqual(r);return Ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ve.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.ni=e,this.docs=function(){return new ui(zt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ve.resolve(r?r.document.mutableCopy():Ji.newInvalidDocument(n))}getEntries(e,n){let r=Ic();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ji.newInvalidDocument(i))}),Ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ic();const s=n.path,a=new zt(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:h,value:{document:d}}=c.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||G4(W4(d),r)<=0||(i.has(d.key)||vd(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return Ve.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ht(9500)}ri(e,n){return Ve.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new p6(this)}getSize(e){return Ve.resolve(this.size)}}class p6 extends s6{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),Ve.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.persistence=e,this.ii=new pa(n=>md(n),gd),this.lastRemoteSnapshotVersion=Pn.min(),this.highestTargetId=0,this.si=0,this.oi=new bd,this.targetCount=0,this._i=il.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),Ve.resolve()}getLastRemoteSnapshotVersion(e){return Ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ve.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),Ve.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new il(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,Ve.resolve()}updateTargetData(e,n){return this.hr(n),Ve.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Ve.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ve.waitFor(o).next(()=>i)}getTargetCount(e){return Ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return Ve.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),Ve.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Ve.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),Ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return Ve.resolve(r)}containsKey(e,n){return Ve.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n){this.ai={},this.overlays={},this.ui=new ud(0),this.ci=!1,this.ci=!0,this.li=new h6,this.referenceDelegate=e(this),this.hi=new m6(this),this.indexManager=new Z3,this.remoteDocumentCache=function(i){return new d6(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new X3(n),this.Ti=new u6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new c6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new f6(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){mt("MemoryPersistence","Starting transaction:",e);const i=new g6(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return Ve.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class g6 extends K4{constructor(e){super(),this.currentSequenceNumber=e}}class wd{constructor(e){this.persistence=e,this.Ai=new bd,this.Ri=null}static Vi(e){return new wd(e)}get mi(){if(this.Ri)return this.Ri;throw Ht(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),Ve.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),Ve.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),Ve.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ve.forEach(this.mi,r=>{const i=zt.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,Pn.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return Ve.or([()=>Ve.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Lc{constructor(e,n){this.persistence=e,this.gi=new pa(r=>J4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=o6(this,n)}static Vi(e,n){return new Lc(e,n)}Ii(){}di(e){return Ve.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return Ve.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?Ve.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,Pn.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),Ve.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Ve.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Ve.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),Ve.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sc(e.data.value)),n}Sr(e,n,r){return Ve.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return Ve.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=$r(),i=$r();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Ad(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return pw()?8:Q4(fw())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new v6;return this.ws(e,n,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,n,s,a.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Ma()<=on.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",Rl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Ve.resolve()):(Ma()<=on.DEBUG&&mt("QueryEngine","Query:",Rl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ma()<=on.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",Rl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ra(n))):Ve.resolve())}ps(e,n){if(_0(n))return Ve.resolve(null);let r=ra(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Of(n,null,"F"),r=ra(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=$r(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.bs(n,a);return this.Ds(n,h,s,c.readTime)?this.ps(e,Of(n,null,"F")):this.vs(e,h,n,c)}))})))}ys(e,n,r,i){return _0(n)||i.isEqual(Pn.min())?Ve.resolve(null):this.gs.getDocuments(e,r).next(o=>{const s=this.bs(n,o);return this.Ds(n,s,r,i)?Ve.resolve(null):(Ma()<=on.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Rl(n)),this.vs(e,s,n,H4(i,Jl)).next(a=>a))})}bs(e,n){let r=new Pr(b3(e));return n.forEach((i,o)=>{vd(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return Ma()<=on.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Rl(n)),this.gs.getDocumentsMatchingQuery(e,n,Ns.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6="LocalStore";class b6{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new ui(ln),this.Ms=new pa(o=>md(o),gd),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new l6(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function w6(t,e,n,r){return new b6(t,e,n,r)}async function _g(t,e){const n=Tn(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=$r();for(const h of i){s.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}for(const h of o){a.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(h=>({Bs:h,removedBatchIds:s,addedBatchIds:a}))})})}function A6(t,e){const n=Tn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,c,h,d){const y=h.batch,S=y.keys();let p=Ve.resolve();return S.forEach(N=>{p=p.next(()=>d.getEntry(c,N)).next(R=>{const L=h.docVersions.get(N);Kn(L!==null,48541),R.version.compareTo(L)<0&&(y.applyToRemoteDocument(R,h),R.isValidDocument()&&(R.setReadTime(h.commitVersion),d.addEntry(R)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,y))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=$r();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(c=c.add(a.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function S6(t){const e=Tn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function x6(t,e){const n=Tn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=cd),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class I0{constructor(){this.activeTargetIds=k3()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class T6{constructor(){this.Fo=new I0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new I0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="ConnectivityMonitor";class N0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){mt(C0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){mt(C0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu=null;function Bf(){return Wu===null?Wu=function(){return 268435456+Math.round(2147483648*Math.random())}():Wu++,"0x"+Wu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh="RestConnection",E6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class I6{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===xc?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const s=Bf(),a=this.Go(e,n.toUriEncodedString());mt(Wh,`Sending RPC '${e}' ${s}:`,a,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);const{host:h}=new URL(a),d=nd(h);return this.jo(e,a,c,r,d).then(y=>(mt(Wh,`Received RPC '${e}' ${s}: `,y),y),y=>{throw Za(Wh,`RPC '${e}' ${s} failed with error: `,y,"url: ",a,"request:",r),y})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ll}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){const r=E6[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="WebChannelConnection";class N6 extends I6{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){const s=Bf();return new Promise((a,c)=>{const h=new L2;h.setWithCredentials(!0),h.listenOnce(P2.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case oc.NO_ERROR:const y=h.getResponseJson();mt(qr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(y)),a(y);break;case oc.TIMEOUT:mt(qr,`RPC '${e}' ${s} timed out`),c(new It(Be.DEADLINE_EXCEEDED,"Request time out"));break;case oc.HTTP_ERROR:const S=h.getStatus();if(mt(qr,`RPC '${e}' ${s} failed with status:`,S,"response text:",h.getResponseText()),S>0){let p=h.getResponseJson();Array.isArray(p)&&(p=p[0]);const N=p?.error;if(N&&N.status&&N.message){const R=function(C){const F=C.toLowerCase().replace(/_/g,"-");return Object.values(Be).indexOf(F)>=0?F:Be.UNKNOWN}(N.status);c(new It(R,N.message))}else c(new It(Be.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new It(Be.UNAVAILABLE,"Connection failed."));break;default:Ht(9055,{c_:e,streamId:s,l_:h.getLastErrorCode(),h_:h.getLastError()})}}finally{mt(qr,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);mt(qr,`RPC '${e}' ${s} sending request:`,i),h.send(n,"POST",d,r,15)})}P_(e,n,r){const i=Bf(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=M2(),a=D2(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=o.join("");mt(qr,`Creating RPC '${e}' stream ${i}: ${d}`,c);const y=s.createWebChannel(d,c);this.T_(y);let S=!1,p=!1;const N=new C6({Ho:L=>{p?mt(qr,`Not sending because RPC '${e}' stream ${i} is closed:`,L):(S||(mt(qr,`Opening RPC '${e}' stream ${i} transport.`),y.open(),S=!0),mt(qr,`RPC '${e}' stream ${i} sending:`,L),y.send(L))},Yo:()=>y.close()}),R=(L,C,F)=>{L.listen(C,B=>{try{F(B)}catch(M){setTimeout(()=>{throw M},0)}})};return R(y,Ml.EventType.OPEN,()=>{p||(mt(qr,`RPC '${e}' stream ${i} transport opened.`),N.s_())}),R(y,Ml.EventType.CLOSE,()=>{p||(p=!0,mt(qr,`RPC '${e}' stream ${i} transport closed`),N.__(),this.I_(y))}),R(y,Ml.EventType.ERROR,L=>{p||(p=!0,Za(qr,`RPC '${e}' stream ${i} transport errored. Name:`,L.name,"Message:",L.message),N.__(new It(Be.UNAVAILABLE,"The operation could not be completed")))}),R(y,Ml.EventType.MESSAGE,L=>{var C;if(!p){const F=L.data[0];Kn(!!F,16349);const B=F,M=B?.error||((C=B[0])===null||C===void 0?void 0:C.error);if(M){mt(qr,`RPC '${e}' stream ${i} received error:`,M);const Z=M.status;let ue=function(b){const I=ar[b];if(I!==void 0)return V3(I)}(Z),V=M.message;ue===void 0&&(ue=Be.INTERNAL,V="Unknown error status: "+Z+" with message "+M.message),p=!0,N.__(new It(ue,V)),y.close()}else mt(qr,`RPC '${e}' stream ${i} received:`,F),N.a_(F)}}),R(a,R2.STAT_EVENT,L=>{L.stat===Nf.PROXY?mt(qr,`RPC '${e}' stream ${i} detected buffering proxy`):L.stat===Nf.NOPROXY&&mt(qr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.o_()},0),N}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Gh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t){return new j3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&mt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="PersistentStream";class L6{constructor(e,n,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new bg(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===Be.RESOURCE_EXHAUSTED?(aa(n.toString()),aa("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===Be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new It(Be.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return mt(L0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(mt(L0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class P6 extends L6{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Kn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Kn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Kn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=G3(e.writeResults,e.commitTime),r=Ga(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=$3(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>W3(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{}class D6 extends R6{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new It(Be.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,Vf(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new It(Be.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,Vf(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new It(Be.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class M6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(aa(n),this._a=!1):mt("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu="RemoteStore";class O6{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{hu(this)&&(mt(uu,"Restarting streams for network reachability change."),await async function(c){const h=Tn(c);h.Ia.add(4),await cu(h),h.Aa.set("Unknown"),h.Ia.delete(4),await Kc(h)}(this))})}),this.Aa=new M6(r,i)}}async function Kc(t){if(hu(t))for(const e of t.da)await e(!0)}async function cu(t){for(const e of t.da)await e(!1)}function hu(t){return Tn(t).Ia.size===0}async function wg(t,e,n){if(!au(e))throw e;t.Ia.add(1),await cu(t),t.Aa.set("Offline"),n||(n=()=>S6(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{mt(uu,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Kc(t)})}function Ag(t,e){return e().catch(n=>wg(t,n,e))}async function Qc(t){const e=Tn(t),n=Ps(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:cd;for(;F6(e);)try{const i=await x6(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,V6(e,i)}catch(i){await wg(e,i)}Sg(e)&&xg(e)}function F6(t){return hu(t)&&t.Pa.length<10}function V6(t,e){t.Pa.push(e);const n=Ps(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function Sg(t){return hu(t)&&!Ps(t).M_()&&t.Pa.length>0}function xg(t){Ps(t).start()}async function j6(t){Ps(t).na()}async function B6(t){const e=Ps(t);for(const n of t.Pa)e.X_(n.mutations)}async function q6(t,e,n){const r=t.Pa.shift(),i=_d.from(r,e,n);await Ag(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Qc(t)}async function z6(t,e){e&&Ps(t).Z_&&await async function(r,i){if(function(s){return F3(s)&&s!==Be.ABORTED}(i.code)){const o=r.Pa.shift();Ps(r).N_(),await Ag(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Qc(r)}}(t,e),Sg(t)&&xg(t)}async function P0(t,e){const n=Tn(t);n.asyncQueue.verifyOperationInProgress(),mt(uu,"RemoteStore received new credentials");const r=hu(n);n.Ia.add(3),await cu(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Kc(n)}async function U6(t,e){const n=Tn(t);e?(n.Ia.delete(2),await Kc(n)):e||(n.Ia.add(2),await cu(n),n.Aa.set("Unknown"))}function Ps(t){return t.ma||(t.ma=function(n,r,i){const o=Tn(n);return o.ia(),new P6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:j6.bind(null,t),n_:z6.bind(null,t),ea:B6.bind(null,t),ta:q6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Qc(t)):(await t.ma.stop(),t.Pa.length>0&&(mt(uu,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Sd(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new It(Be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(t,e){if(aa("AsyncQueue",`${e}: ${t}`),au(t))return new It(Be.UNAVAILABLE,`${e}: ${t}`);throw t}class $6{constructor(){this.queries=R0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=Tn(n),o=i.queries;i.queries=R0(),o.forEach((s,a)=>{for(const c of a.wa)c.onError(r)})})(this,new It(Be.ABORTED,"Firestore shutting down"))}}function R0(){return new pa(t=>rg(t),ng)}function H6(t){t.Da.forEach(e=>{e.next()})}var D0,M0;(M0=D0||(D0={})).Fa="default",M0.Cache="cache";const W6="SyncEngine";class G6{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new pa(a=>rg(a),ng),this.Tu=new Map,this.Iu=new Set,this.du=new ui(zt.comparator),this.Eu=new Map,this.Au=new bd,this.Ru={},this.Vu=new Map,this.mu=il.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Y6(t,e,n){const r=J6(t);try{const i=await function(s,a){const c=Tn(s),h=Rn.now(),d=a.reduce((p,N)=>p.add(N.key),$r());let y,S;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let N=Ic(),R=$r();return c.Os.getEntries(p,d).next(L=>{N=L,N.forEach((C,F)=>{F.isValidDocument()||(R=R.add(C))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,N)).next(L=>{y=L;const C=[];for(const F of a){const B=R3(F,y.get(F.key).overlayedDocument);B!=null&&C.push(new ma(F.key,B,K2(B.value.mapValue),Ho.exists(!0)))}return c.mutationQueue.addMutationBatch(p,h,C,a)}).next(L=>{S=L;const C=L.applyToLocalDocumentSet(y,R);return c.documentOverlayCache.saveOverlays(p,L.batchId,C)})}).then(()=>({batchId:S.batchId,changes:og(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let h=s.Ru[s.currentUser.toKey()];h||(h=new ui(ln)),h=h.insert(a,c),s.Ru[s.currentUser.toKey()]=h}(r,i.batchId,n),await Xc(r,i.changes),await Qc(r.remoteStore)}catch(i){const o=Tg(i,"Failed to persist write");n.reject(o)}}function O0(t,e,n){const r=Tn(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const c=Tn(s);c.onlineState=a;let h=!1;c.queries.forEach((d,y)=>{for(const S of y.wa)S.va(a)&&(h=!0)}),h&&H6(c)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function K6(t,e){const n=Tn(t),r=e.batch.batchId;try{const i=await A6(n.localStore,e);Eg(n,r,null),kg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xc(n,i)}catch(i){await ld(i)}}async function Q6(t,e,n){const r=Tn(t);try{const i=await function(s,a){const c=Tn(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return c.mutationQueue.lookupMutationBatch(h,a).next(y=>(Kn(y!==null,37113),d=y.keys(),c.mutationQueue.removeMutationBatch(h,y))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>c.localDocuments.getDocuments(h,d))})}(r.localStore,e);Eg(r,e,n),kg(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xc(r,i)}catch(i){await ld(i)}}function kg(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function Eg(t,e,n){const r=Tn(t);let i=r.Ru[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}async function Xc(t,e,n){const r=Tn(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,n).then(h=>{var d;if((h||n)&&r.isPrimaryClient){const y=h?!h.fromCache:(d=void 0)===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,y?"current":"not-current")}if(h){i.push(h);const y=Ad.Es(c.targetId,h);o.push(y)}}))}),await Promise.all(s),r.hu.J_(i),await async function(c,h){const d=Tn(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>Ve.forEach(h,S=>Ve.forEach(S.Is,p=>d.persistence.referenceDelegate.addReference(y,S.targetId,p)).next(()=>Ve.forEach(S.ds,p=>d.persistence.referenceDelegate.removeReference(y,S.targetId,p)))))}catch(y){if(!au(y))throw y;mt(_6,"Failed to update sequence numbers: "+y)}for(const y of h){const S=y.targetId;if(!y.fromCache){const p=d.Fs.get(S),N=p.snapshotVersion,R=p.withLastLimboFreeSnapshotVersion(N);d.Fs=d.Fs.insert(S,R)}}}(r.localStore,o))}async function X6(t,e){const n=Tn(t);if(!n.currentUser.isEqual(e)){mt(W6,"User change. New user:",e.toKey());const r=await _g(n.localStore,e);n.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new It(Be.CANCELLED,s))})}),o.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xc(n,r.Bs)}}function J6(t){const e=Tn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=K6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Q6.bind(null,e),e}class Pc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return w6(this.persistence,new y6,e.initialUser,this.serializer)}Du(e){return new yg(wd.Vi,this.serializer)}bu(e){return new T6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pc.provider={build:()=>new Pc};class Z6 extends Pc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Kn(this.persistence.referenceDelegate instanceof Lc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new r6(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?li.withCacheSize(this.cacheSizeBytes):li.DEFAULT;return new yg(r=>Lc.Vi(r,n),this.serializer)}}class qf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>O0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=X6.bind(null,this.syncEngine),await U6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $6}()}createDatastore(e){const n=Yc(e.databaseInfo.databaseId),r=function(o){return new N6(o)}(e.databaseInfo);return function(o,s,a,c){return new D6(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new O6(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>O0(this.syncEngine,n,0),function(){return N0.C()?new N0:new k6}())}createSyncEngine(e,n){return function(i,o,s,a,c,h,d){const y=new G6(i,o,s,a,c,h);return d&&(y.fu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Tn(i);mt(uu,"RemoteStore shutting down."),o.Ia.add(5),await cu(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}qf.provider={build:()=>new qf};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="FirestoreClient";class eA{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ur.UNAUTHENTICATED,this.clientId=sd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{mt(Rs,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(mt(Rs,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Tg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yh(t,e){t.asyncQueue.verifyOperationInProgress(),mt(Rs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await _g(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Za("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{mt("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Za("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function F0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tA(t);mt(Rs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>P0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>P0(e.remoteStore,i)),t._onlineComponents=e}async function tA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){mt(Rs,"Using user provided OfflineComponentProvider");try{await Yh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Be.FAILED_PRECONDITION||i.code===Be.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Za("Error using user provided cache. Falling back to memory cache: "+n),await Yh(t,new Pc)}}else mt(Rs,"Using default OfflineComponentProvider"),await Yh(t,new Z6(void 0));return t._offlineComponents}async function nA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(mt(Rs,"Using user provided OnlineComponentProvider"),await F0(t,t._uninitializedComponentsProvider._online)):(mt(Rs,"Using default OnlineComponentProvider"),await F0(t,new qf))),t._onlineComponents}function rA(t){return nA(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="firestore.googleapis.com",j0=!0;class B0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new It(Be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cg,this.ssl=j0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:j0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vg;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<t6)throw new It(Be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ig((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new It(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new It(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new It(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new It(Be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new It(Be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new D4;switch(r.type){case"firstParty":return new V4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new It(Be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=V0.get(n);r&&(mt("ComponentProvider","Removing Datastore"),V0.delete(n),r.terminate())}(this),Promise.resolve()}}function iA(t,e,n,r={}){var i;t=B2(t,Jc);const o=nd(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;o&&(aw(`https://${c}`),hw("Firestore",!0)),s.host!==Cg&&s.host!==c&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!_c(h,a)&&(t._setSettings(h),r.mockUserToken)){let d,y;if(typeof r.mockUserToken=="string")d=r.mockUserToken,y=Ur.MOCK_USER;else{d=lw(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new It(Be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Ur(S)}t._authCredentials=new M4(new F2(d,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xd(this.firestore,e,this._query)}}class Gr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gr(this.firestore,e,this._key)}toJSON(){return{type:Gr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(su(n,Gr._jsonSchema))return new Gr(e,r||null,new zt(zn.fromString(n.referencePath)))}}Gr._jsonSchemaVersion="firestore/documentReference/1.0",Gr._jsonSchema={type:lr("string",Gr._jsonSchemaVersion),referencePath:lr("string")};class Is extends xd{constructor(e,n,r){super(e,n,v3(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gr(this.firestore,null,new zt(e))}withConverter(e){return new Is(this.firestore,e,this._path)}}function oA(t,e,...n){if(t=Kl(t),V2("collection","path",e),t instanceof Jc){const r=zn.fromString(e,...n);return l0(r),new Is(t,null,r)}{if(!(t instanceof Gr||t instanceof Is))throw new It(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(zn.fromString(e,...n));return l0(r),new Is(t.firestore,null,r)}}function sA(t,e,...n){if(t=Kl(t),arguments.length===1&&(e=sd.newId()),V2("doc","path",e),t instanceof Jc){const r=zn.fromString(e,...n);return a0(r),new Gr(t,null,new zt(r))}{if(!(t instanceof Gr||t instanceof Is))throw new It(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(zn.fromString(e,...n));return a0(r),new Gr(t.firestore,t instanceof Is?t.converter:null,new zt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="AsyncQueue";class z0{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new bg(this,"async_queue_retry"),this.oc=()=>{const r=Gh();r&&mt(q0,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Gh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Gh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new na;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!au(e))throw e;mt(q0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,aa("INTERNAL UNHANDLED ERROR: ",U0(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=Sd.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&Ht(47125,{hc:U0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function U0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ng extends Jc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new z0,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z0(e),this._firestoreClient=void 0,await e}}}function aA(t,e){const n=typeof t=="object"?t:w4(),r=typeof t=="string"?t:xc,i=g4(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=ow("firestore");o&&iA(i,...o)}return i}function lA(t){if(t._terminated)throw new It(Be.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||uA(t),t._firestoreClient}function uA(t){var e,n,r;const i=t._freezeSettings(),o=function(a,c,h,d){return new n3(a,c,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Ig(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new eA(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this._byteString=e}static fromBase64String(e){try{return new to(So.fromBase64String(e))}catch(n){throw new It(Be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new to(So.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:to._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(su(e,to._jsonSchema))return to.fromBase64String(e.bytes)}}to._jsonSchemaVersion="firestore/bytes/1.0",to._jsonSchema={type:lr("string",to._jsonSchemaVersion),bytes:lr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new It(Be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new It(Be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new It(Be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ln(this._lat,e._lat)||ln(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wo._jsonSchemaVersion}}static fromJSON(e){if(su(e,Wo._jsonSchema))return new Wo(e.latitude,e.longitude)}}Wo._jsonSchemaVersion="firestore/geoPoint/1.0",Wo._jsonSchema={type:lr("string",Wo._jsonSchemaVersion),latitude:lr("number"),longitude:lr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Go._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(su(e,Go._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Go(e.vectorValues);throw new It(Be.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Go._jsonSchemaVersion="firestore/vectorValue/1.0",Go._jsonSchema={type:lr("string",Go._jsonSchemaVersion),vectorValues:lr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=/^__.*__$/;class hA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new lu(e,this.data,n,this.fieldTransforms)}}function Pg(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ht(40011,{Ec:t})}}class kd{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new kd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Rc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Pg(this.Ec)&&cA.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class fA{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yc(e)}Dc(e,n,r,i=!1){return new kd({Ec:e,methodName:n,bc:r,path:Lr.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dA(t){const e=t._freezeSettings(),n=Yc(t._databaseId);return new fA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pA(t,e,n,r,i,o={}){const s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);Og("Data must be an object, but it was:",s,r);const a=Dg(r,s);let c,h;if(o.merge)c=new no(s.fieldMask),h=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const y of o.mergeFields){const S=mA(e,y,n);if(!s.contains(S))throw new It(Be.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);vA(d,S)||d.push(S)}c=new no(d),h=s.fieldTransforms.filter(y=>c.covers(y.field))}else c=null,h=s.fieldTransforms;return new hA(new eo(a),c,h)}function Rg(t,e){if(Mg(t=Kl(t)))return Og("Unsupported field value:",e,t),Dg(t,e);if(t instanceof Lg)return function(r,i){if(!Pg(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let c=Rg(a,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Kl(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return E3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Rn.fromDate(r);return{timestampValue:Ff(i.serializer,o)}}if(r instanceof Rn){const o=new Rn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ff(i.serializer,o)}}if(r instanceof Wo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof to)return{bytesValue:B3(i.serializer,r._byteString)};if(r instanceof Gr){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:mg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Go)return function(s,a){return{mapValue:{fields:{[G2]:{stringValue:Y2},[Pf]:{arrayValue:{values:s.toArray().map(h=>{if(typeof h!="number")throw a.wc("VectorValues must only contain numeric values.");return yd(a.serializer,h)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${ad(r)}`)}(t,e)}function Dg(t,e){const n={};return z2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ul(t,(r,i)=>{const o=Rg(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Mg(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rn||t instanceof Wo||t instanceof to||t instanceof Gr||t instanceof Lg||t instanceof Go)}function Og(t,e,n){if(!Mg(n)||!j2(n)){const r=ad(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function mA(t,e,n){if((e=Kl(e))instanceof Td)return e._internalPath;if(typeof e=="string")return Fg(t,e);throw Rc("Field path arguments must be of type string or ",t,!1,void 0,n)}const gA=new RegExp("[~\\*/\\[\\]]");function Fg(t,e,n){if(e.search(gA)>=0)throw Rc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Td(...e.split("."))._internalPath}catch{throw Rc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rc(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new It(Be.INVALID_ARGUMENT,a+t+c)}function vA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yA extends Vg{data(){return super.data()}}function jg(t,e){return typeof e=="string"?Fg(t,e):e instanceof Td?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Gu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ya extends Vg{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(jg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new It(Be.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ya._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ya._jsonSchema={type:lr("string",Ya._jsonSchemaVersion),bundleSource:lr("string","DocumentSnapshot"),bundleName:lr("string"),bundle:lr("string")};class uc extends Ya{data(e={}){return super.data(e)}}class Hl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Gu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new uc(this._firestore,this._userDataWriter,r.key,r,new Gu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new It(Be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const c=new uc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const c=new uc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,d=-1;return a.type!==0&&(h=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:bA(a.type),doc:c,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new It(Be.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bA(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ht(61501,{type:t})}}Hl._jsonSchemaVersion="firestore/querySnapshot/1.0",Hl._jsonSchema={type:lr("string",Hl._jsonSchemaVersion),bundleSource:lr("string","QuerySnapshot"),bundleName:lr("string"),bundle:lr("string")};function wA(t,e){const n=B2(t.firestore,Ng),r=sA(t),i=_A(t.converter,e);return AA(n,[pA(dA(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ho.exists(!1))]).then(()=>r)}function AA(t,e){return function(r,i){const o=new na;return r.asyncQueue.enqueueAndForget(async()=>Y6(await rA(r),i,o)),o.promise}(lA(t),e)}(function(e,n=!0){(function(i){ll=i})(b4),wc(new Ql("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ng(new O4(r.getProvider("auth-internal")),new j4(s,r.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new It(Be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tc(h.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Wa(n0,r0,e),Wa(n0,r0,"esm2017")})();const SA={apiKey:"AIzaSyBjCo9o1CSXzyoVhUYuvmItyFL4mxlmAu8",authDomain:"tlenovo-424e1.firebaseapp.com",projectId:"tlenovo-424e1",storageBucket:"tlenovo-424e1.firebasestorage.app",messagingSenderId:"650352288871",appId:"1:650352288871:web:9ae575e918a0805a9d20c2"};var ru,iu;class xA{constructor(){Bi(this,ru);Bi(this,iu);Nu(this,"isProcessing",!1);Nu(this,"isInitialized",!1);try{Ks(this,ru,I2(SA)),Ks(this,iu,aA(Gt(this,ru))),this.isInitialized=!0}catch(e){this.isInitialized=!1,console.error("Bd podczas inicjalizacji AppointmentService:",e)}}async addAppointment(e){this.isProcessing=!0;try{if(!this.isInitialized)throw new Error("AppointmentService is not initialized.");await wA(oA(Gt(this,iu),"appointments"),{name:e.name,phone:e.phone,date:e.date,time:e.time})}catch(n){console.error("Bd podczas dodawania wizyty:",n)}finally{this.isProcessing=!1}}}ru=new WeakMap,iu=new WeakMap;const TA=new xA;var kA={},Xa;class EA{constructor(){Bi(this,Xa);Nu(this,"isInitialized",!1);Ks(this,Xa,kA.NOTIFICATION_CHANNEL||"public-42d1e8f7c2b94a5e8cdd0c51"),this.isInitialized=!0}async sendReservationNotification(e){await fetch(`https://ntfy.sh/${Gt(this,Xa)}`,{method:"POST",body:e,headers:{Title:"Umowienie rezerwacji (Tlenovo)",Priority:"urgent",Tags:"health_worker"}})}async sendQuestionNotification(e){await fetch(`https://ntfy.sh/${Gt(this,Xa)}`,{method:"PUT",body:e,headers:{Title:"Zapytanie (Tlenovo)",Priority:"default",Tags:"question"}})}}Xa=new WeakMap;const IA=new EA,CA={class:"TlenovoCTASection"},NA={class:"TlenovoCTASection__container"},LA={class:"TlenovoCTASection__card"},PA={class:"TlenovoCTASection__features"},RA={class:"TlenovoCTASection__featureIcon"},DA={class:"TlenovoCTASection__featureContent"},MA={class:"TlenovoCTASection__featureTitle"},OA={class:"TlenovoCTASection__featureDesc"},FA={class:"TlenovoCTASection__stats"},VA={class:"TlenovoCTASection__statNumber"},jA={class:"TlenovoCTASection__statLabel"},BA={__name:"TlenovoCTASection",setup(t){const e=et([{icon:"",title:"Profesjonalna opieka",description:"Wykwalifikowany personel podczas kadej sesji"},{icon:"",title:"Nowoczesna komora",description:"Najnowsza technologia, jedyna taka w okolicy"},{icon:"",title:"Indywidualne podejcie",description:"Kady pacjent otrzymuje spersonalizowan opiek"}]),n=et([{number:"2.0",label:"ATA"},{number:"100%",label:"Tlen"},{number:"60",label:"minut"}]);return(r,i)=>(wt(),Dn("section",CA,[se("div",NA,[i[2]||(i[2]=se("div",{class:"TlenovoCTASection__decorBg"},[se("div",{class:"TlenovoCTASection__decorCircle TlenovoCTASection__decorCircle--1"}),se("div",{class:"TlenovoCTASection__decorCircle TlenovoCTASection__decorCircle--2"}),se("div",{class:"TlenovoCTASection__decorCircle TlenovoCTASection__decorCircle--3"})],-1)),se("div",LA,[i[0]||(i[0]=af('<div class="TlenovoCTASection__cardHeader" data-v-ae0cbdc9><div class="TlenovoCTASection__badge" data-v-ae0cbdc9><span class="TlenovoCTASection__badgeIcon" data-v-ae0cbdc9></span><span class="TlenovoCTASection__badgeText" data-v-ae0cbdc9>Profesjonalna Opieka</span></div><h3 class="TlenovoCTASection__title" data-v-ae0cbdc9> Jedyna taka komora<br data-v-ae0cbdc9><span class="TlenovoCTASection__titleHighlight" data-v-ae0cbdc9>w Wabrzychu</span></h3><p class="TlenovoCTASection__subtitle" data-v-ae0cbdc9> Nowoczesna komora z <strong data-v-ae0cbdc9>zakresem 1.6 ATA - 2.0 ATA</strong> z pen obsug </p></div>',1)),se("div",PA,[(wt(!0),Dn(xs,null,Ts(e.value,(o,s)=>(wt(),Dn("div",{class:"TlenovoCTASection__feature",key:s,style:Xv({animationDelay:`${s*150}ms`})},[se("div",RA,[se("span",null,Wr(o.icon),1)]),se("div",DA,[se("h4",MA,Wr(o.title),1),se("p",OA,Wr(o.description),1)])],4))),128))]),se("div",FA,[(wt(!0),Dn(xs,null,Ts(n.value,(o,s)=>(wt(),Dn("div",{class:"TlenovoCTASection__stat",key:s},[se("div",VA,Wr(o.number),1),se("div",jA,Wr(o.label),1)]))),128))]),i[1]||(i[1]=af('<div class="TlenovoCTASection__action" data-v-ae0cbdc9><a href="tel:+48733096056" class="TlenovoCTASection__contact" data-v-ae0cbdc9><div class="TlenovoCTASection__contactIcon" data-v-ae0cbdc9></div><div class="TlenovoCTASection__contactInfo" data-v-ae0cbdc9><span class="TlenovoCTASection__contactLabel" data-v-ae0cbdc9>Zadzwo ju dzi</span><span class="TlenovoCTASection__contactNumber" data-v-ae0cbdc9>+48 733 096 056</span></div></a></div>',1))])])]))}},qA=Rr(BA,[["__scopeId","data-v-ae0cbdc9"]]),zA={class:"TlenovoFireflies"},UA={__name:"TlenovoFireflies",props:{isMobile:Boolean},setup(t){const e=et(5);return(n,r)=>(wt(),Dn("div",zA,[(wt(!0),Dn(xs,null,Ts(e.value,i=>(wt(),Dn("span",{key:i,class:Ss(["firefly",{"firefly--mobile":t.isMobile}])},null,2))),128))]))}},$A=Rr(UA,[["__scopeId","data-v-d0a65f58"]]),HA={class:"TlenovoFooter"},WA={class:"TlenovoFooter__content"},GA={class:"TlenovoFooter__topSection"},YA={class:"TlenovoFooter__card TlenovoFooter__card--location"},KA={class:"TlenovoFooter__cardIcon"},QA={href:"#",class:"TlenovoFooter__cardLink"},XA={class:"TlenovoFooter__card TlenovoFooter__card--social"},JA={class:"TlenovoFooter__socialLinks"},ZA=["href"],eS=["href"],tS={class:"TlenovoFooter__bottomSection"},nS={class:"TlenovoFooter__links"},rS={class:"TlenovoFooter__copyright"},iS={__name:"TlenovoFooter",emits:["onLocationClick","onRegulationsClick","onContraindicationsClick"],setup(t,{emit:e}){const n=e,r=ye(()=>new Date().getFullYear()),i={instagram:"https://instagram.com/",facebook:"https://facebook.com/"};function o(){n("onLocationClick")}function s(){n("onRegulationsClick")}function a(){n("onContraindicationsClick")}return(c,h)=>(wt(),Dn("footer",HA,[h[10]||(h[10]=se("div",{class:"TlenovoFooter__background"},[se("div",{class:"TlenovoFooter__shape TlenovoFooter__shape--1"}),se("div",{class:"TlenovoFooter__shape TlenovoFooter__shape--2"})],-1)),se("div",WA,[se("div",GA,[se("div",YA,[se("div",KA,[xt(mr,{name:"place",size:"28px"})]),se("div",{class:"TlenovoFooter__cardContent",onClick:Jv(o,["prevent"])},[h[1]||(h[1]=se("h3",{class:"TlenovoFooter__cardTitle"},"Lokalizacja",-1)),h[2]||(h[2]=se("p",{class:"TlenovoFooter__cardText"},[wr(" ul. Ratuszowa 6"),se("br"),wr(" 58-304 Wabrzych ")],-1)),se("p",QA,[h[0]||(h[0]=se("span",null,"Zobacz na mapie",-1)),xt(mr,{name:"arrow_forward",size:"16px"})])])]),se("div",XA,[h[5]||(h[5]=se("h3",{class:"TlenovoFooter__cardTitle"},"Obserwuj nas",-1)),se("div",JA,[se("a",{href:i.instagram,target:"_blank",rel:"noopener noreferrer",class:"TlenovoFooter__socialLink TlenovoFooter__socialLink--instagram","aria-label":"Instagram"},h[3]||(h[3]=[se("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[se("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})],-1),se("span",null,"Instagram",-1)]),8,ZA),se("a",{href:i.facebook,target:"_blank",rel:"noopener noreferrer",class:"TlenovoFooter__socialLink TlenovoFooter__socialLink--facebook","aria-label":"Facebook"},h[4]||(h[4]=[se("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[se("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})],-1),se("span",null,"Facebook",-1)]),8,eS)])])]),h[9]||(h[9]=se("div",{class:"TlenovoFooter__divider"},null,-1)),se("div",tS,[se("div",nS,[se("div",{class:"TlenovoFooter__link",onClick:s},[xt(mr,{name:"description",size:"18px"}),h[6]||(h[6]=se("span",null,"Regulamin",-1))]),se("div",{class:"TlenovoFooter__link",onClick:a},[xt(mr,{name:"warning_amber",size:"18px"}),h[7]||(h[7]=se("span",null,"Przeciwwskazania",-1))])]),se("div",rS,[se("p",null," "+Wr(r.value)+" Tlenujemy. Wszelkie prawa zastrzeone.",1),h[8]||(h[8]=se("p",{class:"TlenovoFooter__copyrightSub"}," Terapia tlenem hiperbarycznym ",-1))])])])]))}},oS=Rr(iS,[["__scopeId","data-v-f2ca71d7"]]),Ed={name:String};function Bg(t){return ye(()=>({type:"hidden",name:t.name,value:t.modelValue}))}function qg(t={}){return(e,n,r)=>{e[n](_e("input",{class:"hidden"+(r||""),...t.value}))}}function sS(t){return ye(()=>t.name||t.for)}const As=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function aS(t,e,n){return Object.prototype.toString.call(t)==="[object Date]"&&(n=t.getDate(),e=t.getMonth()+1,t=t.getFullYear()),hS(Id(t,e,n))}function $0(t,e,n){return Ug(cS(t,e,n))}function lS(t){return uS(t)===0}function cc(t,e){return e<=6?31:e<=11||lS(t)?30:29}function uS(t){const e=As.length;let n=As[0],r,i,o,s,a;if(t<n||t>=As[e-1])throw new Error("Invalid Jalaali year "+t);for(a=1;a<e&&(r=As[a],i=r-n,!(t<r));a+=1)n=r;return s=t-n,i-s<6&&(s=s-i+En(i+4,33)*33),o=Ti(Ti(s+1,33)-1,4),o===-1&&(o=4),o}function zg(t,e){const n=As.length,r=t+621;let i=-14,o=As[0],s,a,c,h,d;if(t<o||t>=As[n-1])throw new Error("Invalid Jalaali year "+t);for(d=1;d<n&&(s=As[d],a=s-o,!(t<s));d+=1)i=i+En(a,33)*8+En(Ti(a,33),4),o=s;h=t-o,i=i+En(h,33)*8+En(Ti(h,33)+3,4),Ti(a,33)===4&&a-h===4&&(i+=1);const y=En(r,4)-En((En(r,100)+1)*3,4)-150,S=20+i-y;return e||(a-h<6&&(h=h-a+En(a+4,33)*33),c=Ti(Ti(h+1,33)-1,4),c===-1&&(c=4)),{leap:c,gy:r,march:S}}function cS(t,e,n){const r=zg(t,!0);return Id(r.gy,3,r.march)+(e-1)*31-En(e,7)*(e-7)+n-1}function hS(t){const e=Ug(t).gy;let n=e-621,r,i,o;const s=zg(n,!1),a=Id(e,3,s.march);if(o=t-a,o>=0){if(o<=185)return i=1+En(o,31),r=Ti(o,31)+1,{jy:n,jm:i,jd:r};o-=186}else n-=1,o+=179,s.leap===1&&(o+=1);return i=7+En(o,30),r=Ti(o,30)+1,{jy:n,jm:i,jd:r}}function Id(t,e,n){let r=En((t+En(e-8,6)+100100)*1461,4)+En(153*Ti(e+9,12)+2,5)+n-34840408;return r=r-En(En(t+100100+En(e-8,6),100)*3,4)+752,r}function Ug(t){let e=4*t+139361631;e=e+En(En(4*t+183187720,146097)*3,4)*4-3908;const n=En(Ti(e,1461),4)*5+308,r=En(Ti(n,153),5)+1,i=Ti(En(n,153),12)+1;return{gy:En(e,1461)-100100+En(8-i,6),gm:i,gd:r}}function En(t,e){return~~(t/e)}function Ti(t,e){return t-~~(t/e)*e}function an(t,e=2,n="0"){if(t==null)return t;const r=""+t;return r.length>=e?r:new Array(e-r.length+1).join(n)+r}const fS=["gregorian","persian"],Dc={mask:{type:String},locale:Object,calendar:{type:String,validator:t=>fS.includes(t),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},$g=["update:modelValue"];function zo(t){return t.year+"/"+an(t.month)+"/"+an(t.day)}function Hg(t,e){const n=ye(()=>t.disable!==!0&&t.readonly!==!0),r=ye(()=>n.value===!0?0:-1),i=ye(()=>{const a=[];return t.color!==void 0&&a.push(`bg-${t.color}`),t.textColor!==void 0&&a.push(`text-${t.textColor}`),a.join(" ")});function o(){return t.locale!==void 0?{...e.lang.date,...t.locale}:e.lang.date}function s(a){const c=new Date,h=a===!0?null:0;if(t.calendar==="persian"){const d=aS(c);return{year:d.jy,month:d.jm,day:d.jd}}return{year:c.getFullYear(),month:c.getMonth()+1,day:c.getDate(),hour:h,minute:h,second:h,millisecond:h}}return{editable:n,tabindex:r,headerClass:i,getLocale:o,getCurrentDate:s}}const Wg=864e5,dS=36e5,zf=6e4,Gg="YYYY-MM-DDTHH:mm:ss.SSSZ",pS=/\[((?:[^\]\\]|\\]|\\)*)\]|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,mS=/(\[[^\]]*\])|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Kh={};function gS(t,e){const n="("+e.days.join("|")+")",r=t+n;if(Kh[r]!==void 0)return Kh[r];const i="("+e.daysShort.join("|")+")",o="("+e.months.join("|")+")",s="("+e.monthsShort.join("|")+")",a={};let c=0;const h=t.replace(mS,y=>{switch(c++,y){case"YY":return a.YY=c,"(-?\\d{1,2})";case"YYYY":return a.YYYY=c,"(-?\\d{1,4})";case"M":return a.M=c,"(\\d{1,2})";case"Mo":return a.M=c++,"(\\d{1,2}(st|nd|rd|th))";case"MM":return a.M=c,"(\\d{2})";case"MMM":return a.MMM=c,s;case"MMMM":return a.MMMM=c,o;case"D":return a.D=c,"(\\d{1,2})";case"Do":return a.D=c++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return a.D=c,"(\\d{2})";case"H":return a.H=c,"(\\d{1,2})";case"HH":return a.H=c,"(\\d{2})";case"h":return a.h=c,"(\\d{1,2})";case"hh":return a.h=c,"(\\d{2})";case"m":return a.m=c,"(\\d{1,2})";case"mm":return a.m=c,"(\\d{2})";case"s":return a.s=c,"(\\d{1,2})";case"ss":return a.s=c,"(\\d{2})";case"S":return a.S=c,"(\\d{1})";case"SS":return a.S=c,"(\\d{2})";case"SSS":return a.S=c,"(\\d{3})";case"A":return a.A=c,"(AM|PM)";case"a":return a.a=c,"(am|pm)";case"aa":return a.aa=c,"(a\\.m\\.|p\\.m\\.)";case"ddd":return i;case"dddd":return n;case"Q":case"d":case"E":return"(\\d{1})";case"do":return c++,"(\\d{1}(st|nd|rd|th))";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"DDDo":return c++,"(\\d{1,3}(st|nd|rd|th))";case"w":return"(\\d{1,2})";case"wo":return c++,"(\\d{1,2}(st|nd|rd|th))";case"ww":return"(\\d{2})";case"Z":return a.Z=c,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return a.ZZ=c,"(Z|[+-]\\d{2}\\d{2})";case"X":return a.X=c,"(-?\\d+)";case"x":return a.x=c,"(-?\\d{4,})";default:return c--,y[0]==="["&&(y=y.substring(1,y.length-1)),y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),d={map:a,regex:new RegExp("^"+h)};return Kh[r]=d,d}function Yg(t,e){return t!==void 0?t:e!==void 0?e.date:Zv.date}function H0(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=r%60;return n+an(i)+e+an(o)}function Ol(t,e,n,r,i){const o={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(i!==void 0&&Object.assign(o,i),t==null||t===""||typeof t!="string")return o;e===void 0&&(e=Gg);const s=Yg(n,fm.props),a=s.months,c=s.monthsShort,{regex:h,map:d}=gS(e,s),y=t.match(h);if(y===null)return o;let S="";if(d.X!==void 0||d.x!==void 0){const p=parseInt(y[d.X!==void 0?d.X:d.x],10);if(isNaN(p)===!0||p<0)return o;const N=new Date(p*(d.X!==void 0?1e3:1));o.year=N.getFullYear(),o.month=N.getMonth()+1,o.day=N.getDate(),o.hour=N.getHours(),o.minute=N.getMinutes(),o.second=N.getSeconds(),o.millisecond=N.getMilliseconds()}else{if(d.YYYY!==void 0)o.year=parseInt(y[d.YYYY],10);else if(d.YY!==void 0){const p=parseInt(y[d.YY],10);o.year=p<0?p:2e3+p}if(d.M!==void 0){if(o.month=parseInt(y[d.M],10),o.month<1||o.month>12)return o}else d.MMM!==void 0?o.month=c.indexOf(y[d.MMM])+1:d.MMMM!==void 0&&(o.month=a.indexOf(y[d.MMMM])+1);if(d.D!==void 0){if(o.day=parseInt(y[d.D],10),o.year===null||o.month===null||o.day<1)return o;const p=r!=="persian"?new Date(o.year,o.month,0).getDate():cc(o.year,o.month);if(o.day>p)return o}d.H!==void 0?o.hour=parseInt(y[d.H],10)%24:d.h!==void 0&&(o.hour=parseInt(y[d.h],10)%12,(d.A&&y[d.A]==="PM"||d.a&&y[d.a]==="pm"||d.aa&&y[d.aa]==="p.m.")&&(o.hour+=12),o.hour=o.hour%24),d.m!==void 0&&(o.minute=parseInt(y[d.m],10)%60),d.s!==void 0&&(o.second=parseInt(y[d.s],10)%60),d.S!==void 0&&(o.millisecond=parseInt(y[d.S],10)*10**(3-y[d.S].length)),(d.Z!==void 0||d.ZZ!==void 0)&&(S=d.Z!==void 0?y[d.Z].replace(":",""):y[d.ZZ],o.timezoneOffset=(S[0]==="+"?-1:1)*(60*S.slice(1,3)+1*S.slice(3,5)))}return o.dateHash=an(o.year,6)+"/"+an(o.month)+"/"+an(o.day),o.timeHash=an(o.hour)+":"+an(o.minute)+":"+an(o.second)+S,o}function Qh(t){const e=new Date(t.getFullYear(),t.getMonth(),t.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);const n=new Date(e.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);const r=e.getTimezoneOffset()-n.getTimezoneOffset();e.setHours(e.getHours()-r);const i=(e-n)/(Wg*7);return 1+Math.floor(i)}function Uo(t,e,n){const r=new Date(t),i=`set${n===!0?"UTC":""}`;switch(e){case"year":case"years":r[`${i}Month`](0);case"month":case"months":r[`${i}Date`](1);case"day":case"days":case"date":r[`${i}Hours`](0);case"hour":case"hours":r[`${i}Minutes`](0);case"minute":case"minutes":r[`${i}Seconds`](0);case"second":case"seconds":r[`${i}Milliseconds`](0)}return r}function Yu(t,e,n){return(t.getTime()-t.getTimezoneOffset()*zf-(e.getTime()-e.getTimezoneOffset()*zf))/n}function Kg(t,e,n="days"){const r=new Date(t),i=new Date(e);switch(n){case"years":case"year":return r.getFullYear()-i.getFullYear();case"months":case"month":return(r.getFullYear()-i.getFullYear())*12+r.getMonth()-i.getMonth();case"days":case"day":case"date":return Yu(Uo(r,"day"),Uo(i,"day"),Wg);case"hours":case"hour":return Yu(Uo(r,"hour"),Uo(i,"hour"),dS);case"minutes":case"minute":return Yu(Uo(r,"minute"),Uo(i,"minute"),zf);case"seconds":case"second":return Yu(Uo(r,"second"),Uo(i,"second"),1e3)}}function Xh(t){return Kg(t,Uo(t,"year"),"days")+1}function La(t){if(t>=11&&t<=13)return`${t}th`;switch(t%10){case 1:return`${t}st`;case 2:return`${t}nd`;case 3:return`${t}rd`}return`${t}th`}const W0={YY(t,e,n){const r=this.YYYY(t,e,n)%100;return r>=0?an(r):"-"+an(Math.abs(r))},YYYY(t,e,n){return n??t.getFullYear()},M(t){return t.getMonth()+1},Mo(t){return La(t.getMonth()+1)},MM(t){return an(t.getMonth()+1)},MMM(t,e){return e.monthsShort[t.getMonth()]},MMMM(t,e){return e.months[t.getMonth()]},Q(t){return Math.ceil((t.getMonth()+1)/3)},Qo(t){return La(this.Q(t))},D(t){return t.getDate()},Do(t){return La(t.getDate())},DD(t){return an(t.getDate())},DDD(t){return Xh(t)},DDDo(t){return La(Xh(t))},DDDD(t){return an(Xh(t),3)},d(t){return t.getDay()},do(t){return La(t.getDay())},dd(t,e){return e.days[t.getDay()].slice(0,2)},ddd(t,e){return e.daysShort[t.getDay()]},dddd(t,e){return e.days[t.getDay()]},E(t){return t.getDay()||7},w(t){return Qh(t)},wo(t){return La(Qh(t))},ww(t){return an(Qh(t))},H(t){return t.getHours()},HH(t){return an(t.getHours())},h(t){const e=t.getHours();return e===0?12:e>12?e%12:e},hh(t){return an(this.h(t))},m(t){return t.getMinutes()},mm(t){return an(t.getMinutes())},s(t){return t.getSeconds()},ss(t){return an(t.getSeconds())},S(t){return Math.floor(t.getMilliseconds()/100)},SS(t){return an(Math.floor(t.getMilliseconds()/10))},SSS(t){return an(t.getMilliseconds(),3)},A(t){return t.getHours()<12?"AM":"PM"},a(t){return t.getHours()<12?"am":"pm"},aa(t){return t.getHours()<12?"a.m.":"p.m."},Z(t,e,n,r){const i=r??t.getTimezoneOffset();return H0(i,":")},ZZ(t,e,n,r){const i=r??t.getTimezoneOffset();return H0(i)},X(t){return Math.floor(t.getTime()/1e3)},x(t){return t.getTime()}};function Qg(t,e,n,r,i){if(t!==0&&!t||t===1/0||t===-1/0)return;const o=new Date(t);if(isNaN(o))return;e===void 0&&(e=Gg);const s=Yg(n,fm.props);return e.replace(pS,(a,c)=>a in W0?W0[a](o,s,r,i):c===void 0?a:c.split("\\]").join("]"))}const qo=20,vS=["Calendar","Years","Months"],G0=t=>vS.includes(t),Jh=t=>/^-?[\d]+\/[0-1]\d$/.test(t),Pa="  ";function ys(t){return t.year+"/"+an(t.month)}const yS=Mn({name:"QDate",props:{...Dc,...Ed,...ca,modelValue:{required:!0,validator:t=>typeof t=="string"||Array.isArray(t)===!0||Object(t)===t||t===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...Dc.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Jh},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Jh},navigationMaxYearMonth:{type:String,validator:Jh},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:G0}},emits:[...$g,"rangeStart","rangeEnd","navigation"],setup(t,{slots:e,emit:n}){const{proxy:r}=Cn(),{$q:i}=r,o=ha(t,i),{getCache:s}=Kf(),{tabindex:a,headerClass:c,getLocale:h,getCurrentDate:d}=Hg(t,i);let y;const S=Bg(t),p=qg(S),N=et(null),R=et(Je()),L=et(h()),C=ye(()=>Je()),F=ye(()=>h()),B=ye(()=>d()),M=et(pe(R.value,L.value)),Z=et(t.defaultView),ue=ye(()=>i.lang.rtl===!0?"right":"left"),V=et(ue.value),E=et(ue.value),b=M.value.year,I=et(b-b%qo-(b<0?qo:0)),_=et(null),w=ye(()=>{const Q=t.landscape===!0?"landscape":"portrait";return`q-date q-date--${Q} q-date--${Q}-${t.minimal===!0?"minimal":"standard"}`+(o.value===!0?" q-date--dark q-dark":"")+(t.bordered===!0?" q-date--bordered":"")+(t.square===!0?" q-date--square no-border-radius":"")+(t.flat===!0?" q-date--flat no-shadow":"")+(t.disable===!0?" disabled":t.readonly===!0?" q-date--readonly":"")}),x=ye(()=>t.color||"primary"),U=ye(()=>t.textColor||"white"),re=ye(()=>t.emitImmediately===!0&&t.multiple!==!0&&t.range!==!0),le=ye(()=>Array.isArray(t.modelValue)===!0?t.modelValue:t.modelValue!==null&&t.modelValue!==void 0?[t.modelValue]:[]),ae=ye(()=>le.value.filter(Q=>typeof Q=="string").map(Q=>gt(Q,R.value,L.value)).filter(Q=>Q.dateHash!==null&&Q.day!==null&&Q.month!==null&&Q.year!==null)),J=ye(()=>{const Q=oe=>gt(oe,R.value,L.value);return le.value.filter(oe=>e5(oe)===!0&&oe.from!==void 0&&oe.to!==void 0).map(oe=>({from:Q(oe.from),to:Q(oe.to)})).filter(oe=>oe.from.dateHash!==null&&oe.to.dateHash!==null&&oe.from.dateHash<oe.to.dateHash)}),fe=ye(()=>t.calendar!=="persian"?Q=>new Date(Q.year,Q.month-1,Q.day):Q=>{const oe=$0(Q.year,Q.month,Q.day);return new Date(oe.gy,oe.gm-1,oe.gd)}),be=ye(()=>t.calendar==="persian"?zo:(Q,oe,xe)=>Qg(new Date(Q.year,Q.month-1,Q.day,Q.hour,Q.minute,Q.second,Q.millisecond),oe===void 0?R.value:oe,xe===void 0?L.value:xe,Q.year,Q.timezoneOffset)),ge=ye(()=>ae.value.length+J.value.reduce((Q,oe)=>Q+1+Kg(fe.value(oe.to),fe.value(oe.from)),0)),T=ye(()=>{if(t.title!==void 0&&t.title!==null&&t.title.length!==0)return t.title;if(_.value!==null){const xe=_.value.init,Ue=fe.value(xe);return L.value.daysShort[Ue.getDay()]+", "+L.value.monthsShort[xe.month-1]+" "+xe.day+Pa+"?"}if(ge.value===0)return Pa;if(ge.value>1)return`${ge.value} ${L.value.pluralDay}`;const Q=ae.value[0],oe=fe.value(Q);return isNaN(oe.valueOf())===!0?Pa:L.value.headerTitle!==void 0?L.value.headerTitle(oe,Q):L.value.daysShort[oe.getDay()]+", "+L.value.monthsShort[Q.month-1]+" "+Q.day}),H=ye(()=>ae.value.concat(J.value.map(oe=>oe.from)).sort((oe,xe)=>oe.year-xe.year||oe.month-xe.month)[0]),X=ye(()=>ae.value.concat(J.value.map(oe=>oe.to)).sort((oe,xe)=>xe.year-oe.year||xe.month-oe.month)[0]),ee=ye(()=>{if(t.subtitle!==void 0&&t.subtitle!==null&&t.subtitle.length!==0)return t.subtitle;if(ge.value===0)return Pa;if(ge.value>1){const Q=H.value,oe=X.value,xe=L.value.monthsShort;return xe[Q.month-1]+(Q.year!==oe.year?" "+Q.year+Pa+xe[oe.month-1]+" ":Q.month!==oe.month?Pa+xe[oe.month-1]:"")+" "+oe.year}return ae.value[0].year}),ne=ye(()=>{const Q=[i.iconSet.datetime.arrowLeft,i.iconSet.datetime.arrowRight];return i.lang.rtl===!0?Q.reverse():Q}),he=ye(()=>t.firstDayOfWeek!==void 0?Number(t.firstDayOfWeek):L.value.firstDayOfWeek),ke=ye(()=>{const Q=L.value.daysShort,oe=he.value;return oe>0?Q.slice(oe,7).concat(Q.slice(0,oe)):Q}),Te=ye(()=>{const Q=M.value;return t.calendar!=="persian"?new Date(Q.year,Q.month,0).getDate():cc(Q.year,Q.month)}),Ie=ye(()=>typeof t.eventColor=="function"?t.eventColor:()=>t.eventColor),Pe=ye(()=>{if(t.navigationMinYearMonth===void 0)return null;const Q=t.navigationMinYearMonth.split("/");return{year:parseInt(Q[0],10),month:parseInt(Q[1],10)}}),qe=ye(()=>{if(t.navigationMaxYearMonth===void 0)return null;const Q=t.navigationMaxYearMonth.split("/");return{year:parseInt(Q[0],10),month:parseInt(Q[1],10)}}),Xe=ye(()=>{const Q={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return Pe.value!==null&&Pe.value.year>=M.value.year&&(Q.year.prev=!1,Pe.value.year===M.value.year&&Pe.value.month>=M.value.month&&(Q.month.prev=!1)),qe.value!==null&&qe.value.year<=M.value.year&&(Q.year.next=!1,qe.value.year===M.value.year&&qe.value.month<=M.value.month&&(Q.month.next=!1)),Q}),st=ye(()=>{const Q={};return ae.value.forEach(oe=>{const xe=ys(oe);Q[xe]===void 0&&(Q[xe]=[]),Q[xe].push(oe.day)}),Q}),W=ye(()=>{const Q={};return J.value.forEach(oe=>{const xe=ys(oe.from),Ue=ys(oe.to);if(Q[xe]===void 0&&(Q[xe]=[]),Q[xe].push({from:oe.from.day,to:xe===Ue?oe.to.day:void 0,range:oe}),xe<Ue){let $e;const{year:Rt,month:at}=oe.from,kt=at<12?{year:Rt,month:at+1}:{year:Rt+1,month:1};for(;($e=ys(kt))<=Ue;)Q[$e]===void 0&&(Q[$e]=[]),Q[$e].push({from:void 0,to:$e===Ue?oe.to.day:void 0,range:oe}),kt.month++,kt.month>12&&(kt.year++,kt.month=1)}}),Q}),Qe=ye(()=>{if(_.value===null)return;const{init:Q,initHash:oe,final:xe,finalHash:Ue}=_.value,[$e,Rt]=oe<=Ue?[Q,xe]:[xe,Q],at=ys($e),kt=ys(Rt);if(at!==At.value&&kt!==At.value)return;const $t={};return at===At.value?($t.from=$e.day,$t.includeFrom=!0):$t.from=1,kt===At.value?($t.to=Rt.day,$t.includeTo=!0):$t.to=Te.value,$t}),At=ye(()=>ys(M.value)),bt=ye(()=>{const Q={};if(t.options===void 0){for(let xe=1;xe<=Te.value;xe++)Q[xe]=!0;return Q}const oe=typeof t.options=="function"?t.options:xe=>t.options.includes(xe);for(let xe=1;xe<=Te.value;xe++){const Ue=At.value+"/"+an(xe);Q[xe]=oe(Ue)}return Q}),Oe=ye(()=>{const Q={};if(t.events===void 0)for(let oe=1;oe<=Te.value;oe++)Q[oe]=!1;else{const oe=typeof t.events=="function"?t.events:xe=>t.events.includes(xe);for(let xe=1;xe<=Te.value;xe++){const Ue=At.value+"/"+an(xe);Q[xe]=oe(Ue)===!0&&Ie.value(Ue)}}return Q}),ht=ye(()=>{let Q,oe;const{year:xe,month:Ue}=M.value;if(t.calendar!=="persian")Q=new Date(xe,Ue-1,1),oe=new Date(xe,Ue-1,0).getDate();else{const $e=$0(xe,Ue,1);Q=new Date($e.gy,$e.gm-1,$e.gd);let Rt=Ue-1,at=xe;Rt===0&&(Rt=12,at--),oe=cc(at,Rt)}return{days:Q.getDay()-he.value-1,endDay:oe}}),tt=ye(()=>{const Q=[],{days:oe,endDay:xe}=ht.value,Ue=oe<0?oe+7:oe;if(Ue<6)for(let at=xe-Ue;at<=xe;at++)Q.push({i:at,fill:!0});const $e=Q.length;for(let at=1;at<=Te.value;at++){const kt={i:at,event:Oe.value[at],classes:[]};bt.value[at]===!0&&(kt.in=!0,kt.flat=!0),Q.push(kt)}if(st.value[At.value]!==void 0&&st.value[At.value].forEach(at=>{const kt=$e+at-1;Object.assign(Q[kt],{selected:!0,unelevated:!0,flat:!1,color:x.value,textColor:U.value})}),W.value[At.value]!==void 0&&W.value[At.value].forEach(at=>{if(at.from!==void 0){const kt=$e+at.from-1,$t=$e+(at.to||Te.value)-1;for(let Qn=kt;Qn<=$t;Qn++)Object.assign(Q[Qn],{range:at.range,unelevated:!0,color:x.value,textColor:U.value});Object.assign(Q[kt],{rangeFrom:!0,flat:!1}),at.to!==void 0&&Object.assign(Q[$t],{rangeTo:!0,flat:!1})}else if(at.to!==void 0){const kt=$e+at.to-1;for(let $t=$e;$t<=kt;$t++)Object.assign(Q[$t],{range:at.range,unelevated:!0,color:x.value,textColor:U.value});Object.assign(Q[kt],{flat:!1,rangeTo:!0})}else{const kt=$e+Te.value-1;for(let $t=$e;$t<=kt;$t++)Object.assign(Q[$t],{range:at.range,unelevated:!0,color:x.value,textColor:U.value})}}),Qe.value!==void 0){const at=$e+Qe.value.from-1,kt=$e+Qe.value.to-1;for(let $t=at;$t<=kt;$t++)Q[$t].color=x.value,Q[$t].editRange=!0;Qe.value.includeFrom===!0&&(Q[at].editRangeFrom=!0),Qe.value.includeTo===!0&&(Q[kt].editRangeTo=!0)}M.value.year===B.value.year&&M.value.month===B.value.month&&(Q[$e+B.value.day-1].today=!0);const Rt=Q.length%7;if(Rt>0){const at=7-Rt;for(let kt=1;kt<=at;kt++)Q.push({i:kt,fill:!0})}return Q.forEach(at=>{let kt="q-date__calendar-item ";at.fill===!0?kt+="q-date__calendar-item--fill":(kt+=`q-date__calendar-item--${at.in===!0?"in":"out"}`,at.range!==void 0&&(kt+=` q-date__range${at.rangeTo===!0?"-to":at.rangeFrom===!0?"-from":""}`),at.editRange===!0&&(kt+=` q-date__edit-range${at.editRangeFrom===!0?"-from":""}${at.editRangeTo===!0?"-to":""}`),(at.range!==void 0||at.editRange===!0)&&(kt+=` text-${at.color}`)),at.classes=kt}),Q}),Ee=ye(()=>t.disable===!0?{"aria-disabled":"true"}:{});Jt(()=>t.modelValue,Q=>{if(y===JSON.stringify(Q))y=0;else{const oe=pe(R.value,L.value);lt(oe.year,oe.month,oe)}}),Jt(Z,()=>{N.value!==null&&r.$el.contains(document.activeElement)===!0&&N.value.focus()}),Jt(()=>M.value.year+"|"+M.value.month,()=>{n("navigation",{year:M.value.year,month:M.value.month})}),Jt(C,Q=>{Nn(Q,L.value,"mask"),R.value=Q}),Jt(F,Q=>{Nn(R.value,Q,"locale"),L.value=Q});function De(Q){y=JSON.stringify(Q)}function rt(){const{year:Q,month:oe,day:xe}=B.value,Ue={...M.value,year:Q,month:oe,day:xe},$e=st.value[ys(Ue)];($e===void 0||$e.includes(Ue.day)===!1)&&jt(Ue),We(Ue.year,Ue.month)}function ct(Q){G0(Q)===!0&&(Z.value=Q)}function Ye(Q,oe){["month","year"].includes(Q)&&(Q==="month"?Ke:Ze)(oe===!0?-1:1)}function We(Q,oe){Z.value="Calendar",lt(Q,oe)}function it(Q,oe){if(t.range===!1||!Q){_.value=null;return}const xe=Object.assign({...M.value},Q),Ue=oe!==void 0?Object.assign({...M.value},oe):xe;_.value={init:xe,initHash:zo(xe),final:Ue,finalHash:zo(Ue)},We(xe.year,xe.month)}function Je(){return t.calendar==="persian"?"YYYY/MM/DD":t.mask}function gt(Q,oe,xe){return Ol(Q,oe,xe,t.calendar,{hour:0,minute:0,second:0,millisecond:0})}function pe(Q,oe){const xe=Array.isArray(t.modelValue)===!0?t.modelValue:t.modelValue?[t.modelValue]:[];if(xe.length===0)return Me();const Ue=xe[xe.length-1],$e=gt(Ue.from!==void 0?Ue.from:Ue,Q,oe);return $e.dateHash===null?Me():$e}function Me(){let Q,oe;if(t.defaultYearMonth!==void 0){const xe=t.defaultYearMonth.split("/");Q=parseInt(xe[0],10),oe=parseInt(xe[1],10)}else{const xe=B.value!==void 0?B.value:d();Q=xe.year,oe=xe.month}return{year:Q,month:oe,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:Q+"/"+an(oe)+"/01"}}function Ke(Q){let oe=M.value.year,xe=Number(M.value.month)+Q;xe===13?(xe=1,oe++):xe===0&&(xe=12,oe--),lt(oe,xe),re.value===!0&&Yt("month")}function Ze(Q){const oe=Number(M.value.year)+Q;lt(oe,M.value.month),re.value===!0&&Yt("year")}function ot(Q){lt(Q,M.value.month),Z.value=t.defaultView==="Years"?"Months":"Calendar",re.value===!0&&Yt("year")}function Ut(Q){lt(M.value.year,Q),Z.value="Calendar",re.value===!0&&Yt("month")}function He(Q,oe){(st.value[oe]?.includes(Q.day)===!0?ei:jt)(Q)}function Ct(Q){return{year:Q.year,month:Q.month,day:Q.day}}function lt(Q,oe,xe){if(Pe.value!==null&&Q<=Pe.value.year&&((oe<Pe.value.month||Q<Pe.value.year)&&(oe=Pe.value.month),Q=Pe.value.year),qe.value!==null&&Q>=qe.value.year&&((oe>qe.value.month||Q>qe.value.year)&&(oe=qe.value.month),Q=qe.value.year),xe!==void 0){const{hour:$e,minute:Rt,second:at,millisecond:kt,timezoneOffset:$t,timeHash:Qn}=xe;Object.assign(M.value,{hour:$e,minute:Rt,second:at,millisecond:kt,timezoneOffset:$t,timeHash:Qn})}const Ue=Q+"/"+an(oe)+"/01";Ue!==M.value.dateHash&&(V.value=M.value.dateHash<Ue==(i.lang.rtl!==!0)?"left":"right",Q!==M.value.year&&(E.value=V.value),xi(()=>{I.value=Q-Q%qo-(Q<0?qo:0),Object.assign(M.value,{year:Q,month:oe,day:1,dateHash:Ue})}))}function Lt(Q,oe,xe){const Ue=Q!==null&&Q.length===1&&t.multiple===!1?Q[0]:Q,{reason:$e,details:Rt}=Mt(oe,xe);De(Ue),n("update:modelValue",Ue,$e,Rt)}function Yt(Q){const oe=ae.value[0]!==void 0&&ae.value[0].dateHash!==null?{...ae.value[0]}:{...M.value};xi(()=>{oe.year=M.value.year,oe.month=M.value.month;const xe=t.calendar!=="persian"?new Date(oe.year,oe.month,0).getDate():cc(oe.year,oe.month);oe.day=Math.min(Math.max(1,oe.day),xe);const Ue=vt(oe),{details:$e}=Mt("",oe);De(Ue),n("update:modelValue",Ue,Q,$e)})}function Mt(Q,oe){return oe.from!==void 0?{reason:`${Q}-range`,details:{...Ct(oe.target),from:Ct(oe.from),to:Ct(oe.to)}}:{reason:`${Q}-day`,details:Ct(oe)}}function vt(Q,oe,xe){return Q.from!==void 0?{from:be.value(Q.from,oe,xe),to:be.value(Q.to,oe,xe)}:be.value(Q,oe,xe)}function jt(Q){let oe;if(t.multiple===!0)if(Q.from!==void 0){const xe=zo(Q.from),Ue=zo(Q.to),$e=ae.value.filter(at=>at.dateHash<xe||at.dateHash>Ue),Rt=J.value.filter(({from:at,to:kt})=>kt.dateHash<xe||at.dateHash>Ue);oe=$e.concat(Rt).concat(Q).map(at=>vt(at))}else{const xe=le.value.slice();xe.push(vt(Q)),oe=xe}else oe=vt(Q);Lt(oe,"add",Q)}function ei(Q){if(t.noUnset===!0)return;let oe=null;if(t.multiple===!0&&Array.isArray(t.modelValue)===!0){const xe=vt(Q);Q.from!==void 0?oe=t.modelValue.filter(Ue=>Ue.from!==void 0?Ue.from!==xe.from&&Ue.to!==xe.to:!0):oe=t.modelValue.filter(Ue=>Ue!==xe),oe.length===0&&(oe=null)}Lt(oe,"remove",Q)}function Nn(Q,oe,xe){const Ue=ae.value.concat(J.value).map(Rt=>vt(Rt,Q,oe)).filter(Rt=>Rt.from!==void 0?Rt.from.dateHash!==null&&Rt.to.dateHash!==null:Rt.dateHash!==null),$e=(t.multiple===!0?Ue:Ue[0])||null;De($e),n("update:modelValue",$e,xe)}function ti(){if(t.minimal!==!0)return _e("div",{class:"q-date__header "+c.value},[_e("div",{class:"relative-position"},[_e(Hr,{name:"q-transition--fade"},()=>_e("div",{key:"h-yr-"+ee.value,class:"q-date__header-subtitle q-date__header-link "+(Z.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:a.value,...s("vY",{onClick(){Z.value="Years"},onKeyup(Q){Q.keyCode===13&&(Z.value="Years")}})},[ee.value]))]),_e("div",{class:"q-date__header-title relative-position flex no-wrap"},[_e("div",{class:"relative-position col"},[_e(Hr,{name:"q-transition--fade"},()=>_e("div",{key:"h-sub"+T.value,class:"q-date__header-title-label q-date__header-link "+(Z.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:a.value,...s("vC",{onClick(){Z.value="Calendar"},onKeyup(Q){Q.keyCode===13&&(Z.value="Calendar")}})},[T.value]))]),t.todayBtn===!0?_e(Yn,{class:"q-date__header-today self-start",icon:i.iconSet.datetime.today,ariaLabel:i.lang.date.today,flat:!0,size:"sm",round:!0,tabindex:a.value,onClick:rt}):null])])}function or({label:Q,type:oe,key:xe,dir:Ue,goTo:$e,boundaries:Rt,cls:at}){return[_e("div",{class:"row items-center q-date__arrow"},[_e(Yn,{round:!0,dense:!0,size:"sm",flat:!0,icon:ne.value[0],ariaLabel:oe==="Years"?i.lang.date.prevYear:i.lang.date.prevMonth,tabindex:a.value,disable:Rt.prev===!1,...s("go-#"+oe,{onClick(){$e(-1)}})})]),_e("div",{class:"relative-position overflow-hidden flex flex-center"+at},[_e(Hr,{name:"q-transition--jump-"+Ue},()=>_e("div",{key:xe},[_e(Yn,{flat:!0,dense:!0,noCaps:!0,label:Q,tabindex:a.value,...s("view#"+oe,{onClick:()=>{Z.value=oe}})})]))]),_e("div",{class:"row items-center q-date__arrow"},[_e(Yn,{round:!0,dense:!0,size:"sm",flat:!0,icon:ne.value[1],ariaLabel:oe==="Years"?i.lang.date.nextYear:i.lang.date.nextMonth,tabindex:a.value,disable:Rt.next===!1,...s("go+#"+oe,{onClick(){$e(1)}})})])]}const Et={Calendar:()=>[_e("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[_e("div",{class:"q-date__navigation row items-center no-wrap"},or({label:L.value.months[M.value.month-1],type:"Months",key:M.value.month,dir:V.value,goTo:Ke,boundaries:Xe.value.month,cls:" col"}).concat(or({label:M.value.year,type:"Years",key:M.value.year,dir:E.value,goTo:Ze,boundaries:Xe.value.year,cls:""}))),_e("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},ke.value.map(Q=>_e("div",{class:"q-date__calendar-item"},[_e("div",Q)]))),_e("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[_e(Hr,{name:"q-transition--slide-"+V.value},()=>_e("div",{key:At.value,class:"q-date__calendar-days fit"},tt.value.map(Q=>_e("div",{class:Q.classes},[Q.in===!0?_e(Yn,{class:Q.today===!0?"q-date__today":"",dense:!0,flat:Q.flat,unelevated:Q.unelevated,color:Q.color,textColor:Q.textColor,label:Q.i,tabindex:a.value,...s("day#"+Q.i,{onClick:()=>{yn(Q.i)},onMouseover:()=>{ni(Q.i)}})},Q.event!==!1?()=>_e("div",{class:"q-date__event bg-"+Q.event}):null):_e("div",""+Q.i)]))))])])],Months(){const Q=M.value.year===B.value.year,oe=Ue=>Pe.value!==null&&M.value.year===Pe.value.year&&Pe.value.month>Ue||qe.value!==null&&M.value.year===qe.value.year&&qe.value.month<Ue,xe=L.value.monthsShort.map((Ue,$e)=>{const Rt=M.value.month===$e+1;return _e("div",{class:"q-date__months-item flex flex-center"},[_e(Yn,{class:Q===!0&&B.value.month===$e+1?"q-date__today":null,flat:Rt!==!0,label:Ue,unelevated:Rt,color:Rt===!0?x.value:null,textColor:Rt===!0?U.value:null,tabindex:a.value,disable:oe($e+1),...s("month#"+$e,{onClick:()=>{Ut($e+1)}})})])});return t.yearsInMonthView===!0&&xe.unshift(_e("div",{class:"row no-wrap full-width"},[or({label:M.value.year,type:"Years",key:M.value.year,dir:E.value,goTo:Ze,boundaries:Xe.value.year,cls:" col"})])),_e("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},xe)},Years(){const Q=I.value,oe=Q+qo,xe=[],Ue=$e=>Pe.value!==null&&Pe.value.year>$e||qe.value!==null&&qe.value.year<$e;for(let $e=Q;$e<=oe;$e++){const Rt=M.value.year===$e;xe.push(_e("div",{class:"q-date__years-item flex flex-center"},[_e(Yn,{key:"yr"+$e,class:B.value.year===$e?"q-date__today":null,flat:!Rt,label:$e,dense:!0,unelevated:Rt,color:Rt===!0?x.value:null,textColor:Rt===!0?U.value:null,tabindex:a.value,disable:Ue($e),...s("yr#"+$e,{onClick:()=>{ot($e)}})})]))}return _e("div",{class:"q-date__view q-date__years flex flex-center"},[_e("div",{class:"col-auto"},[_e(Yn,{round:!0,dense:!0,flat:!0,icon:ne.value[0],ariaLabel:i.lang.date.prevRangeYears(qo),tabindex:a.value,disable:Ue(Q),...s("y-",{onClick:()=>{I.value-=qo}})})]),_e("div",{class:"q-date__years-content col self-stretch row items-center"},xe),_e("div",{class:"col-auto"},[_e(Yn,{round:!0,dense:!0,flat:!0,icon:ne.value[1],ariaLabel:i.lang.date.nextRangeYears(qo),tabindex:a.value,disable:Ue(oe),...s("y+",{onClick:()=>{I.value+=qo}})})])])}};function yn(Q){const oe={...M.value,day:Q};if(t.range===!1){He(oe,At.value);return}if(_.value===null){const xe=tt.value.find($e=>$e.fill!==!0&&$e.i===Q);if(t.noUnset!==!0&&xe.range!==void 0){ei({target:oe,from:xe.range.from,to:xe.range.to});return}if(xe.selected===!0){ei(oe);return}const Ue=zo(oe);_.value={init:oe,initHash:Ue,final:oe,finalHash:Ue},n("rangeStart",Ct(oe))}else{const xe=_.value.initHash,Ue=zo(oe),$e=xe<=Ue?{from:_.value.init,to:oe}:{from:oe,to:_.value.init};_.value=null,jt(xe===Ue?oe:{target:oe,...$e}),n("rangeEnd",{from:Ct($e.from),to:Ct($e.to)})}}function ni(Q){if(_.value!==null){const oe={...M.value,day:Q};Object.assign(_.value,{final:oe,finalHash:zo(oe)})}}return Object.assign(r,{setToday:rt,setView:ct,offsetCalendar:Ye,setCalendarTo:We,setEditingRange:it}),()=>{const Q=[_e("div",{class:"q-date__content col relative-position"},[_e(Hr,{name:"q-transition--fade"},Et[Z.value])])],oe=gr(e.default);return oe!==void 0&&Q.push(_e("div",{class:"q-date__actions"},oe)),t.name!==void 0&&t.disable!==!0&&p(Q,"push"),_e("div",{class:w.value,...Ee.value},[ti(),_e("div",{ref:N,class:"q-date__main col column",tabindex:-1},Q)])}}});function Zh(t,e,n){const r=Ja(t);let i,o=r.left-e.event.x,s=r.top-e.event.y,a=Math.abs(o),c=Math.abs(s);const h=e.direction;h.horizontal===!0&&h.vertical!==!0?i=o<0?"left":"right":h.horizontal!==!0&&h.vertical===!0?i=s<0?"up":"down":h.up===!0&&s<0?(i="up",a>c&&(h.left===!0&&o<0?i="left":h.right===!0&&o>0&&(i="right"))):h.down===!0&&s>0?(i="down",a>c&&(h.left===!0&&o<0?i="left":h.right===!0&&o>0&&(i="right"))):h.left===!0&&o<0?(i="left",a<c&&(h.up===!0&&s<0?i="up":h.down===!0&&s>0&&(i="down"))):h.right===!0&&o>0&&(i="right",a<c&&(h.up===!0&&s<0?i="up":h.down===!0&&s>0&&(i="down")));let d=!1;if(i===void 0&&n===!1){if(e.event.isFirst===!0||e.event.lastDir===void 0)return{};i=e.event.lastDir,d=!0,i==="left"||i==="right"?(r.left-=o,a=0,o=0):(r.top-=s,c=0,s=0)}return{synthetic:d,payload:{evt:t,touch:e.event.mouse!==!0,mouse:e.event.mouse===!0,position:r,direction:i,isFirst:e.event.isFirst,isFinal:n===!0,duration:Date.now()-e.event.time,distance:{x:a,y:c},offset:{x:o,y:s},delta:{x:r.left-e.event.lastX,y:r.top-e.event.lastY}}}}let _S=0;const bS=om({name:"touch-pan",beforeMount(t,{value:e,modifiers:n}){if(n.mouse!==!0&&Zi.has.touch!==!0)return;function r(o,s){n.mouse===!0&&s===!0?qa(o):(n.stop===!0&&Fl(o),n.prevent===!0&&Js(o))}const i={uid:"qvtp_"+_S++,handler:e,modifiers:n,direction:fc(n),noop:Vc,mouseStart(o){dc(o,i)&&sm(o)&&(bs(i,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),i.start(o,!0))},touchStart(o){if(dc(o,i)){const s=o.target;bs(i,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","passiveCapture"],[s,"touchend","end","passiveCapture"]]),i.start(o)}},start(o,s){if(Zi.is.firefox===!0&&Ba(t,!0),i.lastEvt=o,s===!0||n.stop===!0){if(i.direction.all!==!0&&(s!==!0||i.modifiers.mouseAllDir!==!0&&i.modifiers.mousealldir!==!0)){const h=o.type.indexOf("mouse")!==-1?new MouseEvent(o.type,o):new TouchEvent(o.type,o);o.defaultPrevented===!0&&Js(h),o.cancelBubble===!0&&Fl(h),Object.assign(h,{qKeyEvent:o.qKeyEvent,qClickOutside:o.qClickOutside,qAnchorHandled:o.qAnchorHandled,qClonedBy:o.qClonedBy===void 0?[i.uid]:o.qClonedBy.concat(i.uid)}),i.initialEvent={target:o.target,event:h}}Fl(o)}const{left:a,top:c}=Ja(o);i.event={x:a,y:c,time:Date.now(),mouse:s===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:a,lastY:c}},move(o){if(i.event===void 0)return;const s=Ja(o),a=s.left-i.event.x,c=s.top-i.event.y;if(a===0&&c===0)return;i.lastEvt=o;const h=i.event.mouse===!0,d=()=>{r(o,h);let p;n.preserveCursor!==!0&&n.preservecursor!==!0&&(p=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),h===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),vm(),i.styleCleanup=N=>{if(i.styleCleanup=void 0,p!==void 0&&(document.documentElement.style.cursor=p),document.body.classList.remove("non-selectable"),h===!0){const R=()=>{document.body.classList.remove("no-pointer-events--children")};N!==void 0?setTimeout(()=>{R(),N()},50):R()}else N!==void 0&&N()}};if(i.event.detected===!0){i.event.isFirst!==!0&&r(o,i.event.mouse);const{payload:p,synthetic:N}=Zh(o,i,!1);p!==void 0&&(i.handler(p)===!1?i.end(o):(i.styleCleanup===void 0&&i.event.isFirst===!0&&d(),i.event.lastX=p.position.left,i.event.lastY=p.position.top,i.event.lastDir=N===!0?void 0:p.direction,i.event.isFirst=!1));return}if(i.direction.all===!0||h===!0&&(i.modifiers.mouseAllDir===!0||i.modifiers.mousealldir===!0)){d(),i.event.detected=!0,i.move(o);return}const y=Math.abs(a),S=Math.abs(c);y!==S&&(i.direction.horizontal===!0&&y>S||i.direction.vertical===!0&&y<S||i.direction.up===!0&&y<S&&c<0||i.direction.down===!0&&y<S&&c>0||i.direction.left===!0&&y>S&&a<0||i.direction.right===!0&&y>S&&a>0?(i.event.detected=!0,i.move(o)):i.end(o,!0))},end(o,s){if(i.event!==void 0){if(ja(i,"temp"),Zi.is.firefox===!0&&Ba(t,!1),s===!0)i.styleCleanup?.(),i.event.detected!==!0&&i.initialEvent!==void 0&&i.initialEvent.target.dispatchEvent(i.initialEvent.event);else if(i.event.detected===!0){i.event.isFirst===!0&&i.handler(Zh(o===void 0?i.lastEvt:o,i).payload);const{payload:a}=Zh(o===void 0?i.lastEvt:o,i,!0),c=()=>{i.handler(a)};i.styleCleanup!==void 0?i.styleCleanup(c):c()}i.event=void 0,i.initialEvent=void 0,i.lastEvt=void 0}}};if(t.__qtouchpan=i,n.mouse===!0){const o=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";bs(i,"main",[[t,"mousedown","mouseStart",`passive${o}`]])}Zi.has.touch===!0&&bs(i,"main",[[t,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,e){const n=t.__qtouchpan;n!==void 0&&(e.oldValue!==e.value&&(typeof value!="function"&&n.end(),n.handler=e.value),n.direction=fc(e.modifiers))},beforeUnmount(t){const e=t.__qtouchpan;e!==void 0&&(e.event!==void 0&&e.end(),ja(e,"main"),ja(e,"temp"),Zi.is.firefox===!0&&Ba(t,!1),e.styleCleanup?.(),delete t.__qtouchpan)}});function wS(t,e){return t.hour!==null&&t.minute===null?"minute":"hour"}function AS(){const t=new Date;return{hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),millisecond:t.getMilliseconds()}}const SS=Mn({name:"QTime",props:{...ca,...Ed,...Dc,modelValue:{required:!0,validator:t=>typeof t=="string"||t===null},mask:{...Dc.mask,default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:t=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(t)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:$g,setup(t,{slots:e,emit:n}){const r=Cn(),{$q:i}=r.proxy,o=ha(t,i),{tabindex:s,headerClass:a,getLocale:c,getCurrentDate:h}=Hg(t,i),d=Bg(t),y=qg(d);let S,p;const N=et(null),R=ye(()=>ee()),L=ye(()=>c()),C=ye(()=>ne()),F=Ol(t.modelValue,R.value,L.value,t.calendar,C.value),B=et(wS(F)),M=et(F),Z=et(F.hour===null||F.hour<12),ue=ye(()=>`q-time q-time--${t.landscape===!0?"landscape":"portrait"}`+(o.value===!0?" q-time--dark q-dark":"")+(t.disable===!0?" disabled":t.readonly===!0?" q-time--readonly":"")+(t.bordered===!0?" q-time--bordered":"")+(t.square===!0?" q-time--square no-border-radius":"")+(t.flat===!0?" q-time--flat no-shadow":"")),V=ye(()=>{const pe=M.value;return{hour:pe.hour===null?"--":E.value===!0?an(pe.hour):String(Z.value===!0?pe.hour===0?12:pe.hour:pe.hour>12?pe.hour-12:pe.hour),minute:pe.minute===null?"--":an(pe.minute),second:pe.second===null?"--":an(pe.second)}}),E=ye(()=>t.format24h!==null?t.format24h:i.lang.date.format24h),b=ye(()=>{const pe=B.value==="hour",Me=pe===!0?12:60,Ke=M.value[B.value];let ot=`rotate(${Math.round(Ke*(360/Me))-180}deg) translateX(-50%)`;return pe===!0&&E.value===!0&&M.value.hour>=12&&(ot+=" scale(.7)"),{transform:ot}}),I=ye(()=>M.value.hour!==null),_=ye(()=>I.value===!0&&M.value.minute!==null),w=ye(()=>t.hourOptions!==void 0?pe=>t.hourOptions.includes(pe):t.options!==void 0?pe=>t.options(pe,null,null):null),x=ye(()=>t.minuteOptions!==void 0?pe=>t.minuteOptions.includes(pe):t.options!==void 0?pe=>t.options(M.value.hour,pe,null):null),U=ye(()=>t.secondOptions!==void 0?pe=>t.secondOptions.includes(pe):t.options!==void 0?pe=>t.options(M.value.hour,M.value.minute,pe):null),re=ye(()=>{if(w.value===null)return null;const pe=T(0,11,w.value),Me=T(12,11,w.value);return{am:pe,pm:Me,values:pe.values.concat(Me.values)}}),le=ye(()=>x.value!==null?T(0,59,x.value):null),ae=ye(()=>U.value!==null?T(0,59,U.value):null),J=ye(()=>{switch(B.value){case"hour":return re.value;case"minute":return le.value;case"second":return ae.value}}),fe=ye(()=>{let pe,Me,Ke=0,Ze=1;const ot=J.value!==null?J.value.values:void 0;B.value==="hour"?E.value===!0?(pe=0,Me=23):(pe=0,Me=11,Z.value===!1&&(Ke=12)):(pe=0,Me=55,Ze=5);const Ut=[];for(let He=pe,Ct=pe;He<=Me;He+=Ze,Ct++){const lt=He+Ke,Lt=ot?.includes(lt)===!1,Yt=B.value==="hour"&&He===0?E.value===!0?"00":"12":He;Ut.push({val:lt,index:Ct,disable:Lt,label:Yt})}return Ut}),be=ye(()=>[[bS,Te,void 0,{stop:!0,prevent:!0,mouse:!0}]]);Jt(()=>t.modelValue,pe=>{const Me=Ol(pe,R.value,L.value,t.calendar,C.value);(Me.dateHash!==M.value.dateHash||Me.timeHash!==M.value.timeHash)&&(M.value=Me,Me.hour===null?B.value="hour":Z.value=Me.hour<12)}),Jt([R,L],()=>{xi(()=>{it()})});function ge(){const pe={...h(),...AS()};it(pe),Object.assign(M.value,pe),B.value="hour"}function T(pe,Me,Ke){const Ze=Array.apply(null,{length:Me+1}).map((ot,Ut)=>{const He=Ut+pe;return{index:He,val:Ke(He)===!0}}).filter(ot=>ot.val===!0).map(ot=>ot.index);return{min:Ze[0],max:Ze[Ze.length-1],values:Ze,threshold:Me+1}}function H(pe,Me,Ke){const Ze=Math.abs(pe-Me);return Math.min(Ze,Ke-Ze)}function X(pe,{min:Me,max:Ke,values:Ze,threshold:ot}){if(pe===Me)return Me;if(pe<Me||pe>Ke)return H(pe,Me,ot)<=H(pe,Ke,ot)?Me:Ke;const Ut=Ze.findIndex(lt=>pe<=lt),He=Ze[Ut-1],Ct=Ze[Ut];return pe-He<=Ct-pe?He:Ct}function ee(){return t.calendar!=="persian"&&t.mask!==null?t.mask:`HH:mm${t.withSeconds===!0?":ss":""}`}function ne(){if(typeof t.defaultDate!="string"){const pe=h(!0);return pe.dateHash=zo(pe),pe}return Ol(t.defaultDate,"YYYY/MM/DD",void 0,t.calendar)}function he(){return Va(r)===!0||J.value!==null&&(J.value.values.length===0||B.value==="hour"&&E.value!==!0&&re.value[Z.value===!0?"am":"pm"].values.length===0)}function ke(){const pe=N.value,{top:Me,left:Ke,width:Ze}=pe.getBoundingClientRect(),ot=Ze/2;return{top:Me+ot,left:Ke+ot,dist:ot*.7}}function Te(pe){if(he()!==!0){if(pe.isFirst===!0){S=ke(),p=Pe(pe.evt,S);return}p=Pe(pe.evt,S,p),pe.isFinal===!0&&(S=!1,p=null,Ie())}}function Ie(){B.value==="hour"?B.value="minute":t.withSeconds&&B.value==="minute"&&(B.value="second")}function Pe(pe,Me,Ke){const Ze=Ja(pe),ot=Math.abs(Ze.top-Me.top),Ut=Math.sqrt(Math.pow(Math.abs(Ze.top-Me.top),2)+Math.pow(Math.abs(Ze.left-Me.left),2));let He,Ct=Math.asin(ot/Ut)*(180/Math.PI);if(Ze.top<Me.top?Ct=Me.left<Ze.left?90-Ct:270+Ct:Ct=Me.left<Ze.left?Ct+90:270-Ct,B.value==="hour"){if(He=Ct/30,re.value!==null){const lt=E.value!==!0?Z.value===!0:re.value.am.values.length!==0&&re.value.pm.values.length!==0?Ut>=Me.dist:re.value.am.values.length!==0;He=X(He+(lt===!0?0:12),re.value[lt===!0?"am":"pm"])}else He=Math.round(He),E.value===!0?Ut<Me.dist?He<12&&(He+=12):He===12&&(He=0):Z.value===!0&&He===12?He=0:Z.value===!1&&He!==12&&(He+=12);E.value===!0&&(Z.value=He<12)}else He=Math.round(Ct/6)%60,B.value==="minute"&&le.value!==null?He=X(He,le.value):B.value==="second"&&ae.value!==null&&(He=X(He,ae.value));return Ke!==He&&De[B.value](He),He}const qe={hour(){B.value="hour"},minute(){B.value="minute"},second(){B.value="second"}};function Xe(pe){pe.keyCode===13&&rt()}function st(pe){pe.keyCode===13&&ct()}function W(pe){he()!==!0&&(i.platform.is.desktop!==!0&&Pe(pe,ke()),Ie())}function Qe(pe){he()!==!0&&Pe(pe,ke())}function At(pe){if(pe.keyCode===13)B.value="hour";else if([37,39].includes(pe.keyCode)){const Me=pe.keyCode===37?-1:1;if(re.value!==null){const Ke=E.value===!0?re.value.values:re.value[Z.value===!0?"am":"pm"].values;if(Ke.length===0)return;if(M.value.hour===null)ht(Ke[0]);else{const Ze=(Ke.length+Ke.indexOf(M.value.hour)+Me)%Ke.length;ht(Ke[Ze])}}else{const Ke=E.value===!0?24:12,Ze=E.value!==!0&&Z.value===!1?12:0,ot=M.value.hour===null?-Me:M.value.hour;ht(Ze+(24+ot+Me)%Ke)}}}function bt(pe){if(pe.keyCode===13)B.value="minute";else if([37,39].includes(pe.keyCode)){const Me=pe.keyCode===37?-1:1;if(le.value!==null){const Ke=le.value.values;if(Ke.length===0)return;if(M.value.minute===null)tt(Ke[0]);else{const Ze=(Ke.length+Ke.indexOf(M.value.minute)+Me)%Ke.length;tt(Ke[Ze])}}else{const Ke=M.value.minute===null?-Me:M.value.minute;tt((60+Ke+Me)%60)}}}function Oe(pe){if(pe.keyCode===13)B.value="second";else if([37,39].includes(pe.keyCode)){const Me=pe.keyCode===37?-1:1;if(ae.value!==null){const Ke=ae.value.values;if(Ke.length===0)return;if(M.value.seconds===null)Ee(Ke[0]);else{const Ze=(Ke.length+Ke.indexOf(M.value.second)+Me)%Ke.length;Ee(Ke[Ze])}}else{const Ke=M.value.second===null?-Me:M.value.second;Ee((60+Ke+Me)%60)}}}function ht(pe){M.value.hour!==pe&&(M.value.hour=pe,We())}function tt(pe){M.value.minute!==pe&&(M.value.minute=pe,We())}function Ee(pe){M.value.second!==pe&&(M.value.second=pe,We())}const De={hour:ht,minute:tt,second:Ee};function rt(){Z.value===!1&&(Z.value=!0,M.value.hour!==null&&(M.value.hour-=12,We()))}function ct(){Z.value===!0&&(Z.value=!1,M.value.hour!==null&&(M.value.hour+=12,We()))}function Ye(pe){const Me=t.modelValue;B.value!==pe&&Me!==void 0&&Me!==null&&Me!==""&&typeof Me!="string"&&(B.value=pe)}function We(){if(w.value!==null&&w.value(M.value.hour)!==!0){M.value=Ol(),Ye("hour");return}if(x.value!==null&&x.value(M.value.minute)!==!0){M.value.minute=null,M.value.second=null,Ye("minute");return}if(t.withSeconds===!0&&U.value!==null&&U.value(M.value.second)!==!0){M.value.second=null,Ye("second");return}M.value.hour===null||M.value.minute===null||t.withSeconds===!0&&M.value.second===null||it()}function it(pe){const Me=Object.assign({...M.value},pe),Ke=t.calendar==="persian"?an(Me.hour)+":"+an(Me.minute)+(t.withSeconds===!0?":"+an(Me.second):""):Qg(new Date(Me.year,Me.month===null?null:Me.month-1,Me.day,Me.hour,Me.minute,Me.second,Me.millisecond),R.value,L.value,Me.year,Me.timezoneOffset);Me.changed=Ke!==t.modelValue,n("update:modelValue",Ke,Me)}function Je(){const pe=[_e("div",{class:"q-time__link "+(B.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:s.value,onClick:qe.hour,onKeyup:At},V.value.hour),_e("div",":"),_e("div",I.value===!0?{class:"q-time__link "+(B.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:s.value,onKeyup:bt,onClick:qe.minute}:{class:"q-time__link"},V.value.minute)];t.withSeconds===!0&&pe.push(_e("div",":"),_e("div",_.value===!0?{class:"q-time__link "+(B.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:s.value,onKeyup:Oe,onClick:qe.second}:{class:"q-time__link"},V.value.second));const Me=[_e("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},pe)];return E.value===!1&&Me.push(_e("div",{class:"q-time__header-ampm column items-between no-wrap"},[_e("div",{class:"q-time__link "+(Z.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:s.value,onClick:rt,onKeyup:Xe},"AM"),_e("div",{class:"q-time__link "+(Z.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:s.value,onClick:ct,onKeyup:st},"PM")])),_e("div",{class:"q-time__header flex flex-center no-wrap "+a.value},Me)}function gt(){const pe=M.value[B.value];return _e("div",{class:"q-time__content col relative-position"},[_e(Hr,{name:"q-transition--scale"},()=>_e("div",{key:"clock"+B.value,class:"q-time__container-parent absolute-full"},[_e("div",{ref:N,class:"q-time__container-child fit overflow-hidden"},[Wf(_e("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:W,onMousedown:Qe},[_e("div",{class:"q-time__clock-circle fit"},[_e("div",{class:"q-time__clock-pointer"+(M.value[B.value]===null?" hidden":t.color!==void 0?` text-${t.color}`:""),style:b.value}),fe.value.map(Me=>_e("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${Me.index}`+(Me.val===pe?" q-time__clock-position--active "+a.value:Me.disable===!0?" q-time__clock-position--disable":"")},[_e("span",Me.label)]))])]),be.value)])])),t.nowBtn===!0?_e(Yn,{class:"q-time__now-button absolute",icon:i.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:t.color,textColor:t.textColor,tabindex:s.value,onClick:ge}):null])}return r.proxy.setNow=ge,()=>{const pe=[gt()],Me=gr(e.default);return Me!==void 0&&pe.push(_e("div",{class:"q-time__actions"},Me)),t.name!==void 0&&t.disable!==!0&&y(pe,"push"),_e("div",{class:ue.value,tabindex:-1},[Je(),_e("div",{class:"q-time__main col overflow-auto"},pe)])}}}),ef=Mn({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(t,{slots:e}){const n=ye(()=>`q-card__section q-card__section--${t.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>_e(t.tag,{class:n.value},gr(e.default))}});function xS(t){return t??null}function Y0(t,e){return t??(e===!0?`f_${uf()}`:null)}function TS({getValue:t,required:e=!0}={}){if(Fc.value===!0){const n=t!==void 0?et(xS(t())):et(null);return e===!0&&n.value===null&&Yr(()=>{n.value=`f_${uf()}`}),t!==void 0&&Jt(t,r=>{n.value=Y0(r,e)}),n}return t!==void 0?ye(()=>Y0(t(),e)):et(`f_${uf()}`)}const K0=/^on[A-Z]/;function kS(){const{attrs:t,vnode:e}=Cn(),n={listeners:et({}),attributes:et({})};function r(){const i={},o={};for(const s in t)s!=="class"&&s!=="style"&&K0.test(s)===!1&&(i[s]=t[s]);for(const s in e.props)K0.test(s)===!0&&(o[s]=e.props[s]);n.attributes.value=i,n.listeners.value=o}return t5(r),r(),n}function ES({validate:t,resetValidation:e,requiresQForm:n}){const r=ol(n5,!1);if(r!==!1){const{props:i,proxy:o}=Cn();Object.assign(o,{validate:t,resetValidation:e}),Jt(()=>i.disable,s=>{s===!0?(typeof e=="function"&&e(),r.unbindComponent(o)):r.bindComponent(o)}),Yr(()=>{i.disable!==!0&&r.bindComponent(o)}),Ei(()=>{i.disable!==!0&&r.unbindComponent(o)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const Q0=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,X0=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,J0=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Ku=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Qu=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,tf={date:t=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(t),time:t=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(t),fulltime:t=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(t),timeOrFulltime:t=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(t),email:t=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t),hexColor:t=>Q0.test(t),hexaColor:t=>X0.test(t),hexOrHexaColor:t=>J0.test(t),rgbColor:t=>Ku.test(t),rgbaColor:t=>Qu.test(t),rgbOrRgbaColor:t=>Ku.test(t)||Qu.test(t),hexOrRgbColor:t=>Q0.test(t)||Ku.test(t),hexaOrRgbaColor:t=>X0.test(t)||Qu.test(t),anyColor:t=>J0.test(t)||Ku.test(t)||Qu.test(t)},IS=[!0,!1,"ondemand"],CS={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:t=>IS.includes(t)}};function NS(t,e){const{props:n,proxy:r}=Cn(),i=et(!1),o=et(null),s=et(!1);ES({validate:R,resetValidation:N});let a=0,c;const h=ye(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),d=ye(()=>n.disable!==!0&&h.value===!0&&e.value===!1),y=ye(()=>n.error===!0||i.value===!0),S=ye(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:o.value);Jt(()=>n.modelValue,()=>{s.value=!0,d.value===!0&&n.lazyRules===!1&&L()});function p(){n.lazyRules!=="ondemand"&&d.value===!0&&s.value===!0&&L()}Jt(()=>n.reactiveRules,C=>{C===!0?c===void 0&&(c=Jt(()=>n.rules,p,{immediate:!0,deep:!0})):c!==void 0&&(c(),c=void 0)},{immediate:!0}),Jt(()=>n.lazyRules,p),Jt(t,C=>{C===!0?s.value=!0:d.value===!0&&n.lazyRules!=="ondemand"&&L()});function N(){a++,e.value=!1,s.value=!1,i.value=!1,o.value=null,L.cancel()}function R(C=n.modelValue){if(n.disable===!0||h.value===!1)return!0;const F=++a,B=e.value!==!0?()=>{s.value=!0}:()=>{},M=(ue,V)=>{ue===!0&&B(),i.value=ue,o.value=V||null,e.value=!1},Z=[];for(let ue=0;ue<n.rules.length;ue++){const V=n.rules[ue];let E;if(typeof V=="function"?E=V(C,tf):typeof V=="string"&&tf[V]!==void 0&&(E=tf[V](C)),E===!1||typeof E=="string")return M(!0,E),!1;E!==!0&&E!==void 0&&Z.push(E)}return Z.length===0?(M(!1),!0):(e.value=!0,Promise.all(Z).then(ue=>{if(ue===void 0||Array.isArray(ue)===!1||ue.length===0)return F===a&&M(!1),!0;const V=ue.find(E=>E===!1||typeof E=="string");return F===a&&M(V!==void 0,V),V===void 0},ue=>(F===a&&(console.error(ue),M(!0)),!1)))}const L=r5(R,0);return Ei(()=>{c?.(),L.cancel()}),Object.assign(r,{resetValidation:N,validate:R}),dm(r,"hasError",()=>y.value),{isDirtyModel:s,hasRules:h,hasError:y,errorMessage:S,validate:R,resetValidation:N}}let Uf=[],LS=[];function Xg(t){LS.length===0?t():Uf.push(t)}function PS(t){Uf=Uf.filter(e=>e!==t)}function $f(t){return t!=null&&(""+t).length!==0}const RS={...ca,...CS,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},DS={...RS,maxlength:[Number,String]},MS=["update:modelValue","clear","focus","blur"];function OS({requiredForAttr:t=!0,tagProp:e,changeEvent:n=!1}={}){const{props:r,proxy:i}=Cn(),o=ha(r,i.$q),s=TS({required:t,getValue:()=>r.for});return{requiredForAttr:t,changeEvent:n,tag:e===!0?ye(()=>r.tag):{value:"label"},isDark:o,editable:ye(()=>r.disable!==!0&&r.readonly!==!0),innerLoading:et(!1),focused:et(!1),hasPopupOpen:!1,splitAttrs:kS(),targetUid:s,rootRef:et(null),targetRef:et(null),controlRef:et(null)}}function FS(t){const{props:e,emit:n,slots:r,attrs:i,proxy:o}=Cn(),{$q:s}=o;let a=null;t.hasValue===void 0&&(t.hasValue=ye(()=>$f(e.modelValue))),t.emitValue===void 0&&(t.emitValue=J=>{n("update:modelValue",J)}),t.controlEvents===void 0&&(t.controlEvents={onFocusin:b,onFocusout:I}),Object.assign(t,{clearValue:_,onControlFocusin:b,onControlFocusout:I,focus:V}),t.computedCounter===void 0&&(t.computedCounter=ye(()=>{if(e.counter!==!1){const J=typeof e.modelValue=="string"||typeof e.modelValue=="number"?(""+e.modelValue).length:Array.isArray(e.modelValue)===!0?e.modelValue.length:0,fe=e.maxlength!==void 0?e.maxlength:e.maxValues;return J+(fe!==void 0?" / "+fe:"")}}));const{isDirtyModel:c,hasRules:h,hasError:d,errorMessage:y,resetValidation:S}=NS(t.focused,t.innerLoading),p=t.floatingLabel!==void 0?ye(()=>e.stackLabel===!0||t.focused.value===!0||t.floatingLabel.value===!0):ye(()=>e.stackLabel===!0||t.focused.value===!0||t.hasValue.value===!0),N=ye(()=>e.bottomSlots===!0||e.hint!==void 0||h.value===!0||e.counter===!0||e.error!==null),R=ye(()=>e.filled===!0?"filled":e.outlined===!0?"outlined":e.borderless===!0?"borderless":e.standout?"standout":"standard"),L=ye(()=>`q-field row no-wrap items-start q-field--${R.value}`+(t.fieldClass!==void 0?` ${t.fieldClass.value}`:"")+(e.rounded===!0?" q-field--rounded":"")+(e.square===!0?" q-field--square":"")+(p.value===!0?" q-field--float":"")+(F.value===!0?" q-field--labeled":"")+(e.dense===!0?" q-field--dense":"")+(e.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(t.isDark.value===!0?" q-field--dark":"")+(t.getControl===void 0?" q-field--auto-height":"")+(t.focused.value===!0?" q-field--focused":"")+(d.value===!0?" q-field--error":"")+(d.value===!0||t.focused.value===!0?" q-field--highlighted":"")+(e.hideBottomSpace!==!0&&N.value===!0?" q-field--with-bottom":"")+(e.disable===!0?" q-field--disabled":e.readonly===!0?" q-field--readonly":"")),C=ye(()=>"q-field__control relative-position row no-wrap"+(e.bgColor!==void 0?` bg-${e.bgColor}`:"")+(d.value===!0?" text-negative":typeof e.standout=="string"&&e.standout.length!==0&&t.focused.value===!0?` ${e.standout}`:e.color!==void 0?` text-${e.color}`:"")),F=ye(()=>e.labelSlot===!0||e.label!==void 0),B=ye(()=>"q-field__label no-pointer-events absolute ellipsis"+(e.labelColor!==void 0&&d.value!==!0?` text-${e.labelColor}`:"")),M=ye(()=>({id:t.targetUid.value,editable:t.editable.value,focused:t.focused.value,floatingLabel:p.value,modelValue:e.modelValue,emitValue:t.emitValue})),Z=ye(()=>{const J={};return t.targetUid.value&&(J.for=t.targetUid.value),e.disable===!0&&(J["aria-disabled"]="true"),J});function ue(){const J=document.activeElement;let fe=t.targetRef?.value;fe&&(J===null||J.id!==t.targetUid.value)&&(fe.hasAttribute("tabindex")===!0||(fe=fe.querySelector("[tabindex]")),fe!==J&&fe?.focus({preventScroll:!0}))}function V(){Xg(ue)}function E(){PS(ue);const J=document.activeElement;J!==null&&t.rootRef.value.contains(J)&&J.blur()}function b(J){a!==null&&(clearTimeout(a),a=null),t.editable.value===!0&&t.focused.value===!1&&(t.focused.value=!0,n("focus",J))}function I(J,fe){a!==null&&clearTimeout(a),a=setTimeout(()=>{a=null,!(document.hasFocus()===!0&&(t.hasPopupOpen===!0||t.controlRef===void 0||t.controlRef.value===null||t.controlRef.value.contains(document.activeElement)!==!1))&&(t.focused.value===!0&&(t.focused.value=!1,n("blur",J)),fe?.())})}function _(J){qa(J),s.platform.is.mobile!==!0?(t.targetRef?.value||t.rootRef.value).focus():t.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),e.type==="file"&&(t.inputRef.value.value=null),n("update:modelValue",null),t.changeEvent===!0&&n("change",null),n("clear",e.modelValue),xi(()=>{const fe=c.value;S(),c.value=fe})}function w(J){[13,32].includes(J.keyCode)&&_(J)}function x(){const J=[];return r.prepend!==void 0&&J.push(_e("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Js},r.prepend())),J.push(_e("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},U())),d.value===!0&&e.noErrorIcon===!1&&J.push(le("error",[_e(mr,{name:s.iconSet.field.error,color:"negative"})])),e.loading===!0||t.innerLoading.value===!0?J.push(le("inner-loading-append",r.loading!==void 0?r.loading():[_e(hm,{color:e.color})])):e.clearable===!0&&t.hasValue.value===!0&&t.editable.value===!0&&J.push(le("inner-clearable-append",[_e(mr,{class:"q-field__focusable-action",name:e.clearIcon||s.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":s.lang.label.clear,onKeyup:w,onClick:_})])),r.append!==void 0&&J.push(_e("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Js},r.append())),t.getInnerAppend!==void 0&&J.push(le("inner-append",t.getInnerAppend())),t.getControlChild!==void 0&&J.push(t.getControlChild()),J}function U(){const J=[];return e.prefix!==void 0&&e.prefix!==null&&J.push(_e("div",{class:"q-field__prefix no-pointer-events row items-center"},e.prefix)),t.getShadowControl!==void 0&&t.hasShadow.value===!0&&J.push(t.getShadowControl()),t.getControl!==void 0?J.push(t.getControl()):r.rawControl!==void 0?J.push(r.rawControl()):r.control!==void 0&&J.push(_e("div",{ref:t.targetRef,class:"q-field__native row",tabindex:-1,...t.splitAttrs.attributes.value,"data-autofocus":e.autofocus===!0||void 0},r.control(M.value))),F.value===!0&&J.push(_e("div",{class:B.value},gr(r.label,e.label))),e.suffix!==void 0&&e.suffix!==null&&J.push(_e("div",{class:"q-field__suffix no-pointer-events row items-center"},e.suffix)),J.concat(gr(r.default))}function re(){let J,fe;d.value===!0?y.value!==null?(J=[_e("div",{role:"alert"},y.value)],fe=`q--slot-error-${y.value}`):(J=gr(r.error),fe="q--slot-error"):(e.hideHint!==!0||t.focused.value===!0)&&(e.hint!==void 0?(J=[_e("div",e.hint)],fe=`q--slot-hint-${e.hint}`):(J=gr(r.hint),fe="q--slot-hint"));const be=e.counter===!0||r.counter!==void 0;if(e.hideBottomSpace===!0&&be===!1&&J===void 0)return;const ge=_e("div",{key:fe,class:"q-field__messages col"},J);return _e("div",{class:"q-field__bottom row items-start q-field__bottom--"+(e.hideBottomSpace!==!0?"animated":"stale"),onClick:Js},[e.hideBottomSpace===!0?ge:_e(Hr,{name:"q-transition--field-message"},()=>ge),be===!0?_e("div",{class:"q-field__counter"},r.counter!==void 0?r.counter():t.computedCounter.value):null])}function le(J,fe){return fe===null?null:_e("div",{key:J,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},fe)}let ae=!1;return jc(()=>{ae=!0}),cm(()=>{ae===!0&&e.autofocus===!0&&o.focus()}),e.autofocus===!0&&Yr(()=>{o.focus()}),Ei(()=>{a!==null&&clearTimeout(a)}),Object.assign(o,{focus:V,blur:E}),function(){const fe=t.getControl===void 0&&r.control===void 0?{...t.splitAttrs.attributes.value,"data-autofocus":e.autofocus===!0||void 0,...Z.value}:Z.value;return _e(t.tag.value,{ref:t.rootRef,class:[L.value,i.class],style:i.style,...fe},[r.before!==void 0?_e("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Js},r.before()):null,_e("div",{class:"q-field__inner relative-position col self-stretch"},[_e("div",{ref:t.controlRef,class:C.value,tabindex:-1,...t.controlEvents},x()),N.value===!0?re():null]),r.after!==void 0?_e("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Js},r.after()):null])}}const Z0={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Mc={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:t=>t.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:t=>t.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:t=>t.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:t=>t.toLocaleLowerCase()}},Jg=Object.keys(Mc);Jg.forEach(t=>{Mc[t].regex=new RegExp(Mc[t].pattern)});const VS=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Jg.join("")+"])|(.)","g"),em=/[.*+?^${}()|[\]\\]/g,sr="",jS={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function BS(t,e,n,r){let i,o,s,a,c,h;const d=et(null),y=et(p());function S(){return t.autogrow===!0||["textarea","text","search","url","tel","password"].includes(t.type)}Jt(()=>t.type+t.autogrow,R),Jt(()=>t.mask,b=>{if(b!==void 0)L(y.value,!0);else{const I=V(y.value);R(),t.modelValue!==I&&e("update:modelValue",I)}}),Jt(()=>t.fillMask+t.reverseFillMask,()=>{d.value===!0&&L(y.value,!0)}),Jt(()=>t.unmaskedValue,()=>{d.value===!0&&L(y.value)});function p(){if(R(),d.value===!0){const b=Z(V(t.modelValue));return t.fillMask!==!1?E(b):b}return t.modelValue}function N(b){if(b<i.length)return i.slice(-b);let I="",_=i;const w=_.indexOf(sr);if(w!==-1){for(let x=b-_.length;x>0;x--)I+=sr;_=_.slice(0,w)+I+_.slice(w)}return _}function R(){if(d.value=t.mask!==void 0&&t.mask.length!==0&&S(),d.value===!1){a=void 0,i="",o="";return}const b=Z0[t.mask]===void 0?t.mask:Z0[t.mask],I=typeof t.fillMask=="string"&&t.fillMask.length!==0?t.fillMask.slice(0,1):"_",_=I.replace(em,"\\$&"),w=[],x=[],U=[];let re=t.reverseFillMask===!0,le="",ae="";b.replace(VS,(ge,T,H,X,ee)=>{if(X!==void 0){const ne=Mc[X];U.push(ne),ae=ne.negate,re===!0&&(x.push("(?:"+ae+"+)?("+ne.pattern+"+)?(?:"+ae+"+)?("+ne.pattern+"+)?"),re=!1),x.push("(?:"+ae+"+)?("+ne.pattern+")?")}else if(H!==void 0)le="\\"+(H==="\\"?"":H),U.push(H),w.push("([^"+le+"]+)?"+le+"?");else{const ne=T!==void 0?T:ee;le=ne==="\\"?"\\\\\\\\":ne.replace(em,"\\\\$&"),U.push(ne),w.push("([^"+le+"]+)?"+le+"?")}});const J=new RegExp("^"+w.join("")+"("+(le===""?".":"[^"+le+"]")+"+)?"+(le===""?"":"["+le+"]*")+"$"),fe=x.length-1,be=x.map((ge,T)=>T===0&&t.reverseFillMask===!0?new RegExp("^"+_+"*"+ge):T===fe?new RegExp("^"+ge+"("+(ae===""?".":ae)+"+)?"+(t.reverseFillMask===!0?"$":_+"*")):new RegExp("^"+ge));s=U,a=ge=>{const T=J.exec(t.reverseFillMask===!0?ge:ge.slice(0,U.length+1));T!==null&&(ge=T.slice(1).join(""));const H=[],X=be.length;for(let ee=0,ne=ge;ee<X;ee++){const he=be[ee].exec(ne);if(he===null)break;ne=ne.slice(he.shift().length),H.push(...he)}return H.length!==0?H.join(""):ge},i=U.map(ge=>typeof ge=="string"?ge:sr).join(""),o=i.split(sr).join(I)}function L(b,I,_){const w=r.value,x=w.selectionEnd,U=w.value.length-x,re=V(b);I===!0&&R();const le=Z(re),ae=t.fillMask!==!1?E(le):le,J=y.value!==ae;w.value!==ae&&(w.value=ae),J===!0&&(y.value=ae),document.activeElement===w&&xi(()=>{if(ae===o){const be=t.reverseFillMask===!0?o.length:0;w.setSelectionRange(be,be,"forward");return}if(_==="insertFromPaste"&&t.reverseFillMask!==!0){const be=w.selectionEnd;let ge=x-1;for(let T=c;T<=ge&&T<be;T++)i[T]!==sr&&ge++;F.right(w,ge);return}if(["deleteContentBackward","deleteContentForward"].indexOf(_)!==-1){const be=t.reverseFillMask===!0?x===0?ae.length>le.length?1:0:Math.max(0,ae.length-(ae===o?0:Math.min(le.length,U)+1))+1:x;w.setSelectionRange(be,be,"forward");return}if(t.reverseFillMask===!0)if(J===!0){const be=Math.max(0,ae.length-(ae===o?0:Math.min(le.length,U+1)));be===1&&x===1?w.setSelectionRange(be,be,"forward"):F.rightReverse(w,be)}else{const be=ae.length-U;w.setSelectionRange(be,be,"backward")}else if(J===!0){const be=Math.max(0,i.indexOf(sr),Math.min(le.length,x)-1);F.right(w,be)}else{const be=x-1;F.right(w,be)}});const fe=t.unmaskedValue===!0?V(ae):ae;String(t.modelValue)!==fe&&(t.modelValue!==null||fe!=="")&&n(fe,!0)}function C(b,I,_){const w=Z(V(b.value));I=Math.max(0,i.indexOf(sr),Math.min(w.length,I)),c=I,b.setSelectionRange(I,_,"forward")}const F={left(b,I){const _=i.slice(I-1).indexOf(sr)===-1;let w=Math.max(0,I-1);for(;w>=0;w--)if(i[w]===sr){I=w,_===!0&&I++;break}if(w<0&&i[I]!==void 0&&i[I]!==sr)return F.right(b,0);I>=0&&b.setSelectionRange(I,I,"backward")},right(b,I){const _=b.value.length;let w=Math.min(_,I+1);for(;w<=_;w++)if(i[w]===sr){I=w;break}else i[w-1]===sr&&(I=w);if(w>_&&i[I-1]!==void 0&&i[I-1]!==sr)return F.left(b,_);b.setSelectionRange(I,I,"forward")},leftReverse(b,I){const _=N(b.value.length);let w=Math.max(0,I-1);for(;w>=0;w--)if(_[w-1]===sr){I=w;break}else if(_[w]===sr&&(I=w,w===0))break;if(w<0&&_[I]!==void 0&&_[I]!==sr)return F.rightReverse(b,0);I>=0&&b.setSelectionRange(I,I,"backward")},rightReverse(b,I){const _=b.value.length,w=N(_),x=w.slice(0,I+1).indexOf(sr)===-1;let U=Math.min(_,I+1);for(;U<=_;U++)if(w[U-1]===sr){I=U,I>0&&x===!0&&I--;break}if(U>_&&w[I-1]!==void 0&&w[I-1]!==sr)return F.leftReverse(b,_);b.setSelectionRange(I,I,"forward")}};function B(b){e("click",b),h=void 0}function M(b){if(e("keydown",b),um(b)===!0||b.altKey===!0)return;const I=r.value,_=I.selectionStart,w=I.selectionEnd;if(b.shiftKey||(h=void 0),b.keyCode===37||b.keyCode===39){b.shiftKey&&h===void 0&&(h=I.selectionDirection==="forward"?_:w);const x=F[(b.keyCode===39?"right":"left")+(t.reverseFillMask===!0?"Reverse":"")];if(b.preventDefault(),x(I,h===_?w:_),b.shiftKey){const U=I.selectionStart;I.setSelectionRange(Math.min(h,U),Math.max(h,U),"forward")}}else b.keyCode===8&&t.reverseFillMask!==!0&&_===w?(F.left(I,_),I.setSelectionRange(I.selectionStart,w,"backward")):b.keyCode===46&&t.reverseFillMask===!0&&_===w&&(F.rightReverse(I,w),I.setSelectionRange(_,I.selectionEnd,"forward"))}function Z(b){if(b==null||b==="")return"";if(t.reverseFillMask===!0)return ue(b);const I=s;let _=0,w="";for(let x=0;x<I.length;x++){const U=b[_],re=I[x];if(typeof re=="string")w+=re,U===re&&_++;else if(U!==void 0&&re.regex.test(U))w+=re.transform!==void 0?re.transform(U):U,_++;else return w}return w}function ue(b){const I=s,_=i.indexOf(sr);let w=b.length-1,x="";for(let U=I.length-1;U>=0&&w!==-1;U--){const re=I[U];let le=b[w];if(typeof re=="string")x=re+x,le===re&&w--;else if(le!==void 0&&re.regex.test(le))do x=(re.transform!==void 0?re.transform(le):le)+x,w--,le=b[w];while(_===U&&le!==void 0&&re.regex.test(le));else return x}return x}function V(b){return typeof b!="string"||a===void 0?typeof b=="number"?a(""+b):b:a(b)}function E(b){return o.length-b.length<=0?b:t.reverseFillMask===!0&&b.length!==0?o.slice(0,-b.length)+b:b+o.slice(b.length)}return{innerValue:y,hasMask:d,moveCursorForPaste:C,updateMaskValue:L,onMaskedKeydown:M,onMaskedClick:B}}function qS(t,e){function n(){const r=t.modelValue;try{const i="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(r)===r&&("length"in r?Array.from(r):[r]).forEach(o=>{i.items.add(o)}),{files:i.files}}catch{return{files:void 0}}}return ye(()=>{if(t.type==="file")return n()})}const zS=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,US=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,$S=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,HS=/[a-z0-9_ -]$/i;function WS(t){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,t(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(Zi.is.firefox===!0?HS.test(n.data)===!1:zS.test(n.data)===!0||US.test(n.data)===!0||$S.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}const tm=Mn({name:"QInput",inheritAttrs:!1,props:{...DS,...jS,...Ed,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...MS,"paste","change","keydown","click","animationend"],setup(t,{emit:e,attrs:n}){const{proxy:r}=Cn(),{$q:i}=r,o={};let s=NaN,a,c,h=null,d;const y=et(null),S=sS(t),{innerValue:p,hasMask:N,moveCursorForPaste:R,updateMaskValue:L,onMaskedKeydown:C,onMaskedClick:F}=BS(t,e,le,y),B=qS(t),M=ye(()=>$f(p.value)),Z=WS(U),ue=OS({changeEvent:!0}),V=ye(()=>t.type==="textarea"||t.autogrow===!0),E=ye(()=>V.value===!0||["text","search","url","tel","password"].includes(t.type)),b=ye(()=>{const T={...ue.splitAttrs.listeners.value,onInput:U,onPaste:x,onChange:J,onBlur:fe,onFocus:Fl};return T.onCompositionstart=T.onCompositionupdate=T.onCompositionend=Z,N.value===!0&&(T.onKeydown=C,T.onClick=F),t.autogrow===!0&&(T.onAnimationend=re),T}),I=ye(()=>{const T={tabindex:0,"data-autofocus":t.autofocus===!0||void 0,rows:t.type==="textarea"?6:void 0,"aria-label":t.label,name:S.value,...ue.splitAttrs.attributes.value,id:ue.targetUid.value,maxlength:t.maxlength,disabled:t.disable===!0,readonly:t.readonly===!0};return V.value===!1&&(T.type=t.type),t.autogrow===!0&&(T.rows=1),T});Jt(()=>t.type,()=>{y.value&&(y.value.value=t.modelValue)}),Jt(()=>t.modelValue,T=>{if(N.value===!0){if(c===!0&&(c=!1,String(T)===s))return;L(T)}else p.value!==T&&(p.value=T,t.type==="number"&&o.hasOwnProperty("value")===!0&&(a===!0?a=!1:delete o.value));t.autogrow===!0&&xi(ae)}),Jt(()=>t.autogrow,T=>{T===!0?xi(ae):y.value!==null&&n.rows>0&&(y.value.style.height="auto")}),Jt(()=>t.dense,()=>{t.autogrow===!0&&xi(ae)});function _(){Xg(()=>{const T=document.activeElement;y.value!==null&&y.value!==T&&(T===null||T.id!==ue.targetUid.value)&&y.value.focus({preventScroll:!0})})}function w(){y.value?.select()}function x(T){if(N.value===!0&&t.reverseFillMask!==!0){const H=T.target;R(H,H.selectionStart,H.selectionEnd)}e("paste",T)}function U(T){if(!T||!T.target)return;if(t.type==="file"){e("update:modelValue",T.target.files);return}const H=T.target.value;if(T.target.qComposing===!0){o.value=H;return}if(N.value===!0)L(H,!1,T.inputType);else if(le(H),E.value===!0&&T.target===document.activeElement){const{selectionStart:X,selectionEnd:ee}=T.target;X!==void 0&&ee!==void 0&&xi(()=>{T.target===document.activeElement&&H.indexOf(T.target.value)===0&&T.target.setSelectionRange(X,ee)})}t.autogrow===!0&&ae()}function re(T){e("animationend",T),ae()}function le(T,H){d=()=>{h=null,t.type!=="number"&&o.hasOwnProperty("value")===!0&&delete o.value,t.modelValue!==T&&s!==T&&(s=T,H===!0&&(c=!0),e("update:modelValue",T),xi(()=>{s===T&&(s=NaN)})),d=void 0},t.type==="number"&&(a=!0,o.value=T),t.debounce!==void 0?(h!==null&&clearTimeout(h),o.value=T,h=setTimeout(d,t.debounce)):d()}function ae(){requestAnimationFrame(()=>{const T=y.value;if(T!==null){const H=T.parentNode.style,{scrollTop:X}=T,{overflowY:ee,maxHeight:ne}=i.platform.is.firefox===!0?{}:window.getComputedStyle(T),he=ee!==void 0&&ee!=="scroll";he===!0&&(T.style.overflowY="hidden"),H.marginBottom=T.scrollHeight-1+"px",T.style.height="1px",T.style.height=T.scrollHeight+"px",he===!0&&(T.style.overflowY=parseInt(ne,10)<T.scrollHeight?"auto":"hidden"),H.marginBottom="",T.scrollTop=X}})}function J(T){Z(T),h!==null&&(clearTimeout(h),h=null),d?.(),e("change",T.target.value)}function fe(T){T!==void 0&&Fl(T),h!==null&&(clearTimeout(h),h=null),d?.(),a=!1,c=!1,delete o.value,t.type!=="file"&&setTimeout(()=>{y.value!==null&&(y.value.value=p.value!==void 0?p.value:"")})}function be(){return o.hasOwnProperty("value")===!0?o.value:p.value!==void 0?p.value:""}Ei(()=>{fe()}),Yr(()=>{t.autogrow===!0&&ae()}),Object.assign(ue,{innerValue:p,fieldClass:ye(()=>`q-${V.value===!0?"textarea":"input"}`+(t.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:ye(()=>t.type!=="file"&&typeof t.shadowText=="string"&&t.shadowText.length!==0),inputRef:y,emitValue:le,hasValue:M,floatingLabel:ye(()=>M.value===!0&&(t.type!=="number"||isNaN(p.value)===!1)||$f(t.displayValue)),getControl:()=>_e(V.value===!0?"textarea":"input",{ref:y,class:["q-field__native q-placeholder",t.inputClass],style:t.inputStyle,...I.value,...b.value,...t.type!=="file"?{value:be()}:B.value}),getShadowControl:()=>_e("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(V.value===!0?"":" text-no-wrap")},[_e("span",{class:"invisible"},be()),_e("span",t.shadowText)])});const ge=FS(ue);return Object.assign(r,{focus:_,select:w,getNativeElement:()=>y.value}),dm(r,"nativeEl",()=>y.value),ge}}),GS={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},nf={xs:2,sm:4,md:8,lg:16,xl:24},YS=Mn({name:"QSeparator",props:{...ca,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(t){const e=Cn(),n=ha(t,e.proxy.$q),r=ye(()=>t.vertical===!0?"vertical":"horizontal"),i=ye(()=>` q-separator--${r.value}`),o=ye(()=>t.inset!==!1?`${i.value}-${GS[t.inset]}`:""),s=ye(()=>`q-separator${i.value}${o.value}`+(t.color!==void 0?` bg-${t.color}`:"")+(n.value===!0?" q-separator--dark":"")),a=ye(()=>{const c={};if(t.size!==void 0&&(c[t.vertical===!0?"width":"height"]=t.size),t.spaced!==!1){const h=t.spaced===!0?`${nf.md}px`:t.spaced in nf?`${nf[t.spaced]}px`:t.spaced,d=t.vertical===!0?["Left","Right"]:["Top","Bottom"];c[`margin${d[0]}`]=c[`margin${d[1]}`]=h}return c});return()=>_e("hr",{class:s.value,style:a.value,"aria-orientation":r.value})}}),KS='<g transform="translate(20 50)"><rect x="-10" y="-30" width="20" height="60" fill="currentColor" opacity="0.6"><animateTransform attributeName="transform" type="scale" from="2" to="1" begin="0s" repeatCount="indefinite" dur="1s" calcMode="spline" keySplines="0.1 0.9 0.4 1" keyTimes="0;1" values="2;1"></animateTransform></rect></g><g transform="translate(50 50)"><rect x="-10" y="-30" width="20" height="60" fill="currentColor" opacity="0.8"><animateTransform attributeName="transform" type="scale" from="2" to="1" begin="0.1s" repeatCount="indefinite" dur="1s" calcMode="spline" keySplines="0.1 0.9 0.4 1" keyTimes="0;1" values="2;1"></animateTransform></rect></g><g transform="translate(80 50)"><rect x="-10" y="-30" width="20" height="60" fill="currentColor" opacity="0.9"><animateTransform attributeName="transform" type="scale" from="2" to="1" begin="0.2s" repeatCount="indefinite" dur="1s" calcMode="spline" keySplines="0.1 0.9 0.4 1" keyTimes="0;1" values="2;1"></animateTransform></rect></g>',QS=Mn({name:"QSpinnerFacebook",props:i5,setup(t){const{cSize:e,classes:n}=o5(t);return()=>_e("svg",{class:n.value,width:e.value,height:e.value,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",innerHTML:KS})}}),rf=Mn({name:"QStepperNavigation",setup(t,{slots:e}){return()=>_e("div",{class:"q-stepper__nav"},gr(e.default))}}),XS=Mn({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(t,{slots:e,emit:n}){let r=!1,i,o,s=null,a=null,c,h;function d(){i?.(),i=null,r=!1,s!==null&&(clearTimeout(s),s=null),a!==null&&(clearTimeout(a),a=null),o?.removeEventListener("transitionend",c),c=null}function y(R,L,C){L!==void 0&&(R.style.height=`${L}px`),R.style.transition=`height ${t.duration}ms cubic-bezier(.25, .8, .50, 1)`,r=!0,i=C}function S(R,L){R.style.overflowY=null,R.style.height=null,R.style.transition=null,d(),L!==h&&n(L)}function p(R,L){let C=0;o=R,r===!0?(d(),C=R.offsetHeight===R.scrollHeight?0:void 0):(h="hide",R.style.overflowY="hidden"),y(R,C,L),s=setTimeout(()=>{s=null,R.style.height=`${R.scrollHeight}px`,c=F=>{a=null,(Object(F)!==F||F.target===R)&&S(R,"show")},R.addEventListener("transitionend",c),a=setTimeout(c,t.duration*1.1)},100)}function N(R,L){let C;o=R,r===!0?d():(h="show",R.style.overflowY="hidden",C=R.scrollHeight),y(R,C,L),s=setTimeout(()=>{s=null,R.style.height=0,c=F=>{a=null,(Object(F)!==F||F.target===R)&&S(R,"hide")},R.addEventListener("transitionend",c),a=setTimeout(c,t.duration*1.1)},100)}return Ei(()=>{r===!0&&d()}),()=>_e(Hr,{css:!1,appear:t.appear,onEnter:p,onLeave:N},e.default)}}),Zg=Mn({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(t,{attrs:e}){const{proxy:{$q:n}}=Cn(),r=et(null),i=ye(()=>t.stepper.modelValue===t.step.name),o=ye(()=>{const L=t.step.disable;return L===!0||L===""}),s=ye(()=>{const L=t.step.error;return L===!0||L===""}),a=ye(()=>{const L=t.step.done;return o.value===!1&&(L===!0||L==="")}),c=ye(()=>{const L=t.step.headerNav,C=L===!0||L===""||L===void 0;return o.value===!1&&t.stepper.headerNav&&C}),h=ye(()=>t.step.prefix&&(i.value===!1||t.stepper.activeIcon==="none")&&(s.value===!1||t.stepper.errorIcon==="none")&&(a.value===!1||t.stepper.doneIcon==="none")),d=ye(()=>{const L=t.step.icon||t.stepper.inactiveIcon;if(i.value===!0){const C=t.step.activeIcon||t.stepper.activeIcon;return C==="none"?L:C||n.iconSet.stepper.active}if(s.value===!0){const C=t.step.errorIcon||t.stepper.errorIcon;return C==="none"?L:C||n.iconSet.stepper.error}if(o.value===!1&&a.value===!0){const C=t.step.doneIcon||t.stepper.doneIcon;return C==="none"?L:C||n.iconSet.stepper.done}return L}),y=ye(()=>{const L=s.value===!0?t.step.errorColor||t.stepper.errorColor:void 0;if(i.value===!0){const C=t.step.activeColor||t.stepper.activeColor||t.step.color;return C!==void 0?C:L}return L!==void 0?L:o.value===!1&&a.value===!0?t.step.doneColor||t.stepper.doneColor||t.step.color||t.stepper.inactiveColor:t.step.color||t.stepper.inactiveColor}),S=ye(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(y.value!==void 0?` text-${y.value}`:"")+(s.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(h.value===!0?"prefix":"icon"):"")+(i.value===!0?" q-stepper__tab--active":"")+(a.value===!0?" q-stepper__tab--done":"")+(c.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(o.value===!0?" q-stepper__tab--disabled":"")),p=ye(()=>t.stepper.headerNav!==!0?!1:c.value);function N(){r.value?.focus(),i.value===!1&&t.goToPanel(t.step.name)}function R(L){L.keyCode===13&&i.value===!1&&t.goToPanel(t.step.name)}return()=>{const L={class:S.value};c.value===!0&&(L.onClick=N,L.onKeyup=R,Object.assign(L,o.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0}));const C=[_e("div",{class:"q-focus-helper",tabindex:-1,ref:r}),_e("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[_e("span",{class:"row flex-center"},[h.value===!0?t.step.prefix:_e(mr,{name:d.value})])])];if(t.step.title!==void 0&&t.step.title!==null){const F=[_e("div",{class:"q-stepper__title"},t.step.title)];t.step.caption!==void 0&&t.step.caption!==null&&F.push(_e("div",{class:"q-stepper__caption"},t.step.caption)),C.push(_e("div",{class:"q-stepper__label q-stepper__line relative-position"},F))}return Wf(_e("div",L,C),[[im,p.value]])}}});function ev(t){return _e("div",{class:"q-stepper__step-content"},[_e("div",{class:"q-stepper__step-inner"},gr(t.default))])}const nm={setup(t,{slots:e}){return()=>ev(e)}},of=Mn({name:"QStep",props:{...ym,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(t,{slots:e,emit:n}){const{proxy:{$q:r}}=Cn(),i=ol(pm,zi);if(i===zi)return console.error("QStep needs to be a child of QStepper"),zi;const{getCache:o}=Kf(),s=et(null),a=ye(()=>i.value.modelValue===t.name),c=ye(()=>r.platform.is.ios!==!0&&r.platform.is.chrome===!0||a.value!==!0||i.value.vertical!==!0?{}:{onScroll(y){const{target:S}=y;S.scrollTop>0&&(S.scrollTop=0),t.onScroll!==void 0&&n("scroll",y)}}),h=ye(()=>typeof t.name=="string"||typeof t.name=="number"?t.name:String(t.name));function d(){const y=i.value.vertical;return y===!0&&i.value.keepAlive===!0?_e(am,i.value.keepAliveProps.value,a.value===!0?[_e(i.value.needsUniqueKeepAliveWrapper.value===!0?o(h.value,()=>({...nm,name:h.value})):nm,{key:h.value},e.default)]:void 0):y!==!0||a.value===!0?ev(e):void 0}return()=>_e("div",{ref:s,class:"q-stepper__step",role:"tabpanel",...c.value},i.value.vertical===!0?[_e(Zg,{stepper:i.value,step:t,goToPanel:i.value.goToPanel}),i.value.animated===!0?_e(XS,d):d()]:[d()])}}),JS=/(-\w)/g;function ZS(t){const e={};for(const n in t){const r=n.replace(JS,i=>i[1].toUpperCase());e[r]=t[n]}return e}const ex=Mn({name:"QStepper",props:{...ca,..._m,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:bm,setup(t,{slots:e}){const n=Cn(),r=ha(t,n.proxy.$q),{updatePanelsList:i,isValidPanelName:o,updatePanelIndex:s,getPanelContent:a,getPanels:c,panelDirectives:h,goToPanel:d,keepAliveProps:y,needsUniqueKeepAliveWrapper:S}=wm();qc(pm,ye(()=>({goToPanel:d,keepAliveProps:y,needsUniqueKeepAliveWrapper:S,...t})));const p=ye(()=>`q-stepper q-stepper--${t.vertical===!0?"vertical":"horizontal"}`+(t.flat===!0?" q-stepper--flat":"")+(t.bordered===!0?" q-stepper--bordered":"")+(r.value===!0?" q-stepper--dark q-dark":"")),N=ye(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${t.alternativeLabels===!0?"alternative":"standard"}-labels`+(t.flat===!1||t.bordered===!0?" q-stepper__header--border":"")+(t.contracted===!0?" q-stepper__header--contracted":"")+(t.headerClass!==void 0?` ${t.headerClass}`:""));function R(){const L=gr(e.message,[]);if(t.vertical===!0){o(t.modelValue)&&s();const C=_e("div",{class:"q-stepper__content"},gr(e.default));return L===void 0?[C]:L.concat(C)}return[_e("div",{class:N.value},c().map(C=>{const F=ZS(C.props);return _e(Zg,{key:F.name,stepper:t,step:F,goToPanel:d})})),L,mm("div",{class:"q-stepper__content q-panel-parent"},a(),"cont",t.swipeable,()=>h.value)]}return()=>(i(e),_e("div",{class:p.value},Gf(e.navigation,R())))}}),rm={name:"pl",months:["Stycze","Luty","Marzec","Kwiecie","Maj","Czerwiec","Lipiec","Sierpie","Wrzesie","Padziernik","Listopad","Grudzie"],monthsShort:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa","Lis","Gru"],days:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"],daysShort:["Niedz","Pon","Wt","r","Czw","Pt","Sob"],firstDayOfWeek:1,weekHeader:"Tydz",dateFormat:"dd.mm.yy",timeOnlyTitle:"Wybierz godzin",timeText:"Czas",hourText:"Godzina",minuteText:"Minuta",secondText:"Sekunda",ampm:!1,pluralDay:"dni",monthYearHeader:"MMM yyyy"},tx=[8,9,10,11,12,13,14,15,16,17,18,19,20],nx=[0,5,10,15,20,25,30,35,40,45,50,55],rx={class:"TlenovoForm"},ix={key:0,class:"TlenovoForm__formHeader"},ox={class:"TlenovoForm__step"},sx={__name:"TlenovoForm",props:{},emits:["submit","cancel","redirect"],setup(t,{emit:e}){Yr(()=>{});const n=e,r=et(),i=et(),o=et(1),s=et(!1),a=et(),c=et(),h=et(),d=et(),y=ye(()=>S.value&&!c.value),S=ye(()=>o.value===1),p=ye(()=>o.value===2),R=ye(()=>o.value===3),L=ye(()=>o.value===1?!c.value:o.value===2?!a.value:o.value===3?!h.value||!d.value||d.value.length<11:!1);function C(){i.value=null,c.value=null,a.value=null,h.value=null,d.value=null,r.value=null,o.value=1}function F(){C(),n("cancel")}function B(){s.value=!0,setTimeout(()=>{n("submit",{date:c.value,time:a.value,name:h.value,phone:d.value.trim()}),C()},2e3)}function M(E){const b=E.replace(/\s/g,"");let I="";for(let _=0;_<b.length&&_<9;_++)_>0&&_%3===0&&(I+=" "),I+=b[_];d.value=I}function Z(){i.value.next()}function ue(){i.value.previous()}function V(){n("redirect")}return(E,b)=>(wt(),Dn("div",rx,[xt(Yn,{class:"TlenovoForm__closeBtn",flat:"",icon:"close",onClick:F,"aria-label":"Close",size:"lg"}),y.value?(wt(),Dn("h4",ix,"Rezerwacja terminu")):qn("",!0),b[10]||(b[10]=se("div",{class:"TlenovoForm__shape"},null,-1)),se("form",{class:"TlenovoForm__body",ref_key:"formRef",ref:r},[se("div",ox,[S.value?(wt(),Xt(yS,{key:0,modelValue:c.value,"onUpdate:modelValue":b[0]||(b[0]=I=>c.value=I),class:"TlenovoForm__datePicker",name:"Data",subtitle:"Wybierz dzie",locale:wo(rm),color:"secondary",dark:"",bordered:"",flat:""},null,8,["modelValue","locale"])):qn("",!0),p.value?(wt(),Xt(SS,{key:1,modelValue:a.value,"onUpdate:modelValue":b[1]||(b[1]=I=>a.value=I),class:"TlenovoForm__timePicker",name:"Godzina",subtitle:"Wybierz godzin",locale:wo(rm),color:"secondary",dark:"",bordered:"",format24h:"","hour-options":wo(tx),"minute-options":wo(nx)},null,8,["modelValue","locale","hour-options","minute-options"])):qn("",!0),wo(R)?(wt(),Xt(_2,{key:2,flat:"",bordered:"",dark:"",class:"TlenovoForm__successInfo"},{default:rn(()=>[xt(ef,{class:Ss({TlenovoForm__successInfoText:s.value})},{default:rn(()=>b[4]||(b[4]=[se("span",{class:"TlenovoForm__header"},"Uzupenij dane kontaktowe",-1)])),_:1},8,["class"]),xt(ef,{class:Ss({TlenovoForm__successInfoText:s.value})},{default:rn(()=>[xt(tm,{modelValue:h.value,"onUpdate:modelValue":b[2]||(b[2]=I=>h.value=I),name:"Imie",class:"TlenovoForm__input",outlined:"","label-color":"primary","bg-color":"white",label:"Imi",autofocus:"",clearable:"","clear-icon":"clear",maxlength:20},null,8,["modelValue"]),xt(tm,{"model-value":d.value,name:"Telefon",class:"TlenovoForm__input",outlined:"","label-color":"primary","bg-color":"white",label:"Numer telefonu",prefix:"(+48) ",clearable:"","clear-icon":"clear",maxlength:11,"onUpdate:modelValue":M},null,8,["model-value"]),b[5]||(b[5]=wr(' Twoja rezerwacja jest ju prawie gotowa. Wystarczy, e wypenisz powysze dane i klikniesz przycisk "Rezerwuj". '))]),_:1},8,["class"]),xt(YS,{dark:"",inset:""}),xt(ef,{class:Ss({TlenovoForm__successInfoText:s.value})},{default:rn(()=>[b[6]||(b[6]=wr(" Upewnij si, e zapoznae si z regulaminem i przeciwwskazaniami dot. hiperbarii, ktre znajdziesz ")),se("span",{onClick:V,class:"TlenovoForm__successInfoSpan"},"tutaj.")]),_:1},8,["class"]),s.value?(wt(),Xt(QS,{key:0,class:"TlenovoForm__successInfoSpinner",color:"white",size:"4em"})):qn("",!0)]),_:1})):qn("",!0)]),xt(ex,{modelValue:o.value,"onUpdate:modelValue":b[3]||(b[3]=I=>o.value=I),class:"TlenovoForm__actionsStepper",ref_key:"stepper",ref:i,color:"secondary",dark:"",flat:"",bordered:"",animated:"",contracted:""},{default:rn(()=>[xt(of,{name:1,icon:"place",title:"Wybierz dzie","active-color":"secondary","active-icon":"event","done-color":"positive",done:o.value>1},{default:rn(()=>[b[7]||(b[7]=wr(" Wybierz dogodny termin wizyty. ")),xt(rf,null,{default:rn(()=>[xt(Yn,{disable:L.value,onClick:Z,color:"secondary",label:"Dalej"},null,8,["disable"]),o.value>1?(wt(),Xt(Yn,{key:0,flat:"",color:"secondary",onClick:ue,label:"Cofnij",class:"q-ml-sm"})):qn("",!0)]),_:1})]),_:1},8,["done"]),xt(of,{name:2,icon:"access_time","active-icon":"access_time",title:"Wybierz godzin","active-color":"secondary","done-color":"positive",done:o.value>2},{default:rn(()=>[b[8]||(b[8]=wr(" Wybierz godzin zabiegu. ")),xt(rf,null,{default:rn(()=>[xt(Yn,{disable:L.value,onClick:Z,color:"secondary",label:"Zatwierd"},null,8,["disable"]),o.value>1?(wt(),Xt(Yn,{key:0,flat:"",color:"secondary",onClick:ue,label:"Cofnij",class:"q-ml-sm"})):qn("",!0)]),_:1})]),_:1},8,["done"]),xt(of,{name:3,title:"Zatwierd rezerwacj","active-color":"secondary",icon:"beenhere","active-icon":"beenhere","done-color":"positive"},{default:rn(()=>[b[9]||(b[9]=wr(" Potwierd swoj rezerwacj. ")),xt(rf,null,{default:rn(()=>[xt(Yn,{disable:L.value,onClick:B,color:"secondary",label:"Rezerwuj"},null,8,["disable"]),o.value>1?(wt(),Xt(Yn,{key:0,flat:"",color:"secondary",onClick:ue,label:"Cofnij",class:"q-ml-sm"})):qn("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])],512)]))}},ax=Rr(sx,[["__scopeId","data-v-ce862b8c"]]),lx={class:"TlenovoHowItWorks"},ux={class:"TlenovoHowItWorks__container"},cx={class:"TlenovoHowItWorks__steps"},hx={class:"TlenovoHowItWorks__stepNumber"},fx={class:"TlenovoHowItWorks__stepContentWrapper"},dx={class:"TlenovoHowItWorks__stepContent"},px={class:"TlenovoHowItWorks__stepTitle"},mx={class:"TlenovoHowItWorks__stepDescription"},gx={__name:"TlenovoHowItWorks",setup(t){const e=et([{icon:"",title:"Wejcie do komory",description:"Wchodzisz do komfortowej, szczelnej komory, gdzie stopniowo zwikszane jest cinienie. Czujesz si jak w bezpiecznym, relaksujcym kokonie  moesz czyta ksik, sucha muzyki lub po prostu odpoczywa."},{icon:"",title:"Nasycenie tlenem",description:"Pod wpywem wyszego cinienia tlen nie tylko wie si z hemoglobin we krwi, ale take rozpuszcza si bezporednio w osoczu i pynach ustrojowych. To oznacza, e nawet do 20 razy wicej tlenu dociera do tkanek, ktre normalnie maj ograniczony dostp  na przykad do obszarw z sabym kreniem."},{icon:"",title:"Regeneracja na poziomie komrkowym",description:"Dodatkowy tlen stymuluje naturalne procesy naprawcze. Pomaga w walce z infekcjami, redukuje stany zapalne, przyspiesza gojenie ran i wspiera tworzenie nowych naczy krwiononych. Efekt? Twj organizm regeneruje si szybciej, a Ty czujesz przypyw energii!"}]);return(n,r)=>(wt(),Dn("section",lx,[se("div",ux,[r[0]||(r[0]=se("div",{class:"TlenovoHowItWorks__header"},[se("h2",{class:"TlenovoHowItWorks__title"}," Jak Dziaa Zabieg? Krok po Kroku "),se("p",{class:"TlenovoHowItWorks__subtitle"},[wr(" Zabieg jest prosty, relaksujcy i trwa zwykle "),se("strong",null,"od 60 do 90 minut"),wr(". Oto, co dzieje si w Twoim ciele podczas sesji: ")])],-1)),se("div",cx,[(wt(!0),Dn(xs,null,Ts(e.value,(i,o)=>(wt(),Dn("div",{class:"TlenovoHowItWorks__step",key:o},[se("div",hx,Wr(o+1),1),se("div",fx,[se("div",dx,[se("h3",px,Wr(i.title),1),se("p",mx,Wr(i.description),1)])])]))),128))]),r[1]||(r[1]=se("div",{class:"TlenovoHowItWorks__conclusion"},[se("div",{class:"TlenovoHowItWorks__conclusionIcon"},""),se("p",null,[wr(" Wyobra sobie, jak tlen "),se("span",{class:"TlenovoHowItWorks__highlight"},'"budzi" Twoje komrki do ycia'),wr(", pomagajc w walce z codziennymi dolegliwociami, takimi jak zmczenie, powolne gojenie po urazach czy problemy z koncentracj. ")])],-1))])]))}},vx=Rr(gx,[["__scopeId","data-v-45c673e0"]]),yx={class:"TlenovoWhatIs"},_x={class:"TlenovoWhatIs__container"},bx={class:"TlenovoWhatIs__content"},wx={class:"TlenovoWhatIs__benefits"},Ax={__name:"TlenovoWhatIs",emits:["benefitClick"],setup(t,{emit:e}){const n=e;function r(i){n("benefitClick",i)}return(i,o)=>(wt(),Dn("section",yx,[se("div",_x,[o[10]||(o[10]=se("div",{class:"TlenovoWhatIs__header"},[se("h2",{class:"TlenovoWhatIs__title"}," Czym Jest Tlenoterapia Hiperbaryczna? ")],-1)),se("div",bx,[o[9]||(o[9]=af('<div class="TlenovoWhatIs__description" data-v-da3e2428><p data-v-da3e2428> HBOT to <strong data-v-da3e2428>bezpieczna i nieinwazyjna</strong> metoda, w ktrej oddychasz tlenem w komorze pod podwyszonym cinieniem. Dziki temu <strong data-v-da3e2428>wicej tlenu rozpuszcza si w osoczu</strong>, dociera gbiej do tkanek i <strong data-v-da3e2428>wspiera naturalne procesy naprawcze</strong>, rwnowag stanw zapalnych oraz komfort po wysiku i urazach. </p><p data-v-da3e2428> Podczas HBOT organizm dostaje wicej tlenu ni na co dzie. W czci bada zauwaono, e taki tlenowy bodziec <strong data-v-da3e2428>pobudza uwalnianie wasnych komrek naprawczych</strong><i data-v-da3e2428> (tzw. komrek macierzytycznych)</i> ze szpiku do krwi. To wanie te komrki pomagaj <strong data-v-da3e2428>odnawia i goi</strong> rne tkanki. Najlepiej opisano ten efekt przy<strong data-v-da3e2428> wyszym cinieniu, ok. 1.8 ATA</strong>. W dowiadczeniach na zwierztach obserwowano te `` <strong data-v-da3e2428>wiksz aktywno i podziay</strong> tych komrek w niektrych narzdach. To nie jest <i data-v-da3e2428>magiczny wcznik</i>, ale <strong data-v-da3e2428>naturalne wsparcie</strong> procesw, ktre ciao i tak ma wbudowane. </p></div>',1)),se("div",wx,[se("div",{class:"TlenovoWhatIs__benefit",onClick:o[0]||(o[0]=s=>r("proces-terapii"))},[o[3]||(o[3]=se("div",{class:"TlenovoWhatIs__benefitIcon"},"",-1)),o[4]||(o[4]=se("span",null,"Sprawno po kontuzji",-1)),xt(mr,{name:"chevron_right",class:"TlenovoWhatIs__benefitArrow"})]),se("div",{class:"TlenovoWhatIs__benefit",onClick:o[1]||(o[1]=s=>r("wzrost-odpornosci"))},[o[5]||(o[5]=se("div",{class:"TlenovoWhatIs__benefitIcon"},"",-1)),o[6]||(o[6]=se("span",null,"Rewelacyjna odporno",-1)),xt(mr,{name:"chevron_right",class:"TlenovoWhatIs__benefitArrow"})]),se("div",{class:"TlenovoWhatIs__benefit",onClick:o[2]||(o[2]=s=>r("wzrost-vo2max"))},[o[7]||(o[7]=se("div",{class:"TlenovoWhatIs__benefitIcon"},"",-1)),o[8]||(o[8]=se("span",null,"Wzrost VO Max",-1)),xt(mr,{name:"chevron_right",class:"TlenovoWhatIs__benefitArrow"})])])])])]))}},Sx=Rr(Ax,[["__scopeId","data-v-da3e2428"]]),xx={class:"TlenovoWhyChoose"},Tx={class:"TlenovoWhyChoose__container"},kx={class:"TlenovoWhyChoose__content"},Ex={class:"TlenovoWhyChoose__benefits"},Ix={class:"TlenovoWhyChoose__benefitIcon"},Cx={class:"TlenovoWhyChoose__benefitContent"},Nx={class:"TlenovoWhyChoose__benefitTitle"},Lx={class:"TlenovoWhyChoose__benefitDescription"},Px={__name:"TlenovoWhyChoose",setup(t){const e=et([{icon:"",title:"Wspomaganie leczenia cukrzycy",description:"Badania pokazuj skuteczno w wspieraniu terapii cukrzycy i poprawie gojenia si ran."},{icon:"",title:"Regeneracja po urazach sportowych",description:"Przyspiesza proces gojenia i regeneracji tkanek po kontuzjach sportowych."},{icon:"",title:"Poprawa koncentracji",description:"Zwiksza dotlenienie mzgu, co prowadzi do lepszej koncentracji i jasnoci mylenia."},{icon:"",title:"Wzmocnienie odpornoci",description:"Regularne sesje mog przyczyni si do wzmocnienia naturalnej odpornoci organizmu."}]);return(n,r)=>(wt(),Dn("section",xx,[se("div",Tx,[r[1]||(r[1]=se("div",{class:"TlenovoWhyChoose__header"},[se("h2",{class:"TlenovoWhyChoose__title"}," Dlaczego Warto Skorzysta? ")],-1)),se("div",kx,[r[0]||(r[0]=se("div",{class:"TlenovoWhyChoose__mainText"},[se("p",{class:"TlenovoWhyChoose__intro"},[wr(" Tlenoterapia hiperbaryczna to nie tylko odwieenie  to "),se("span",{class:"TlenovoWhyChoose__highlight"},"inwestycja w Twoje zdrowie i pomoc w walce z codziennymi dolegliwociami"),wr(". ")])],-1)),se("div",Ex,[(wt(!0),Dn(xs,null,Ts(e.value,(i,o)=>(wt(),Dn("div",{class:"TlenovoWhyChoose__benefit",key:o},[se("div",Ix,Wr(i.icon),1),se("div",Cx,[se("h4",Nx,Wr(i.title),1),se("p",Lx,Wr(i.description),1)])]))),128))])])])]))}},Rx=Rr(Px,[["__scopeId","data-v-190c2af0"]]),Dx={class:"MainView__heroContent"},Mx={class:"MainView__headerBenefits"},Ox={__name:"TlenovoMainView",props:{isFormVisible:Boolean},emits:["redirect","formToggle","benefitClick","locationClick"],setup(t,{emit:e}){const n=e,r=Sm(),i=b2(),o=ye(()=>r.screen.lt.md),s=et(!1);Yr(()=>{const C=new Image;C.onload=()=>{s.value=!0,document.querySelector(".MainView__sectionInitial")?.classList.add("loaded")},C.src="https://aha-hyperbarics.com/wp-content/uploads/2023/05/AHA-Hyperbarics-Breath-1920x782.png"});function a(){n("locationClick")}function c(){n("regulationsClick")}function h(){n("contraindicationsClick")}async function d(C){await y(C),await S(C),R()}async function y(C){try{await TA.addAppointment(C),i.showSnackbar("Wizyta zostaa pomylnie umwiona. Zadzwonimy aby potwierdzi.",{color:"positive",timeout:4500})}catch{i.showSnackbar("Wystpi bd podczas umawiania wizyty. Sprbuj ponownie.",{color:"negative",timeout:6e3})}}async function S(C){const F=p(C);await IA.sendReservationNotification(F)}function p(C){return`
        Imi: ${C.name}
        Telefon: ${C.phone}
        Data wizyty: ${C.date}
        Godzina wizyty: ${C.time}
    `}function N(){n("redirect")}function R(){n("formToggle",!1)}function L(C){o.value&&n("benefitClick",C)}return(C,F)=>(wt(),Xt($c,{class:"MainView"},{default:rn(()=>[xt(Hr,{name:"FormTransition"},{default:rn(()=>[t.isFormVisible?(wt(),Xt(ax,{key:0,class:"MainView__form",onCancel:R,onSubmit:d,onRedirect:N})):qn("",!0)]),_:1}),se("section",{class:Ss({MainView__sectionInitial:!0,"MainView__sectionInitial--blur":t.isFormVisible})},[se("div",Dx,[F[9]||(F[9]=se("h2",{class:"MainView__heroTitle"},[wr(" Odkryj Moc"),se("br"),se("span",{class:"MainView__heroHighlight"},"Czystego Tlenu")],-1)),se("div",Mx,[se("div",{class:"MainView__benefitItem",onClick:F[0]||(F[0]=B=>L("naturalna-regeneracja"))},[F[3]||(F[3]=se("span",{class:"MainView__benefitIcon"},"",-1)),F[4]||(F[4]=se("span",null,"Naturalna regeneracja",-1)),xt(mr,{name:"chevron_right",class:"MainView__benefitArrow"})]),se("div",{class:"MainView__benefitItem",onClick:F[1]||(F[1]=B=>L("najlepsza-koncentracja"))},[F[5]||(F[5]=se("span",{class:"MainView__benefitIcon"},"",-1)),F[6]||(F[6]=se("span",null,"Lepsza koncentracja",-1)),xt(mr,{name:"chevron_right",class:"MainView__benefitArrow"})]),se("div",{class:"MainView__benefitItem",onClick:F[2]||(F[2]=B=>L("wzrost-energii"))},[F[7]||(F[7]=se("span",{class:"MainView__benefitIcon"},"",-1)),F[8]||(F[8]=se("span",null,"Wzrost energii",-1)),xt(mr,{name:"chevron_right",class:"MainView__benefitArrow"})])])]),xt($A,{isMobile:o.value},null,8,["isMobile"])],2),F[10]||(F[10]=se("header",{class:"MainView__header"},[se("h1",null,"Komora Hiperbaryczna"),se("p",{class:"MainView__headerTagline"}," Poczuj rnic ju po pierwszej sesji ")],-1)),se("section",{class:Ss(["MainView__sectionMain",{"MainView__sectionMain--blur":t.isFormVisible}])},[xt(Sx,{onBenefitClick:L}),xt(vx),xt(Rx),xt(qA),xt(oS,{class:"MainView__footer",onOnLocationClick:a,onOnRegulationsClick:c,onOnContraindicationsClick:h})],2)]),_:1}))}},Fx=Rr(Ox,[["__scopeId","data-v-2eadcea2"]]),Vx={};function jx(t,e){return wt(),Xt($c,{class:"TlenovoOfferView"},{default:rn(()=>e[0]||(e[0]=[se("div",{class:"TlenovoOfferView__background"},[se("div",{class:"TlenovoOfferView__shape TlenovoOfferView__shape--1"}),se("div",{class:"TlenovoOfferView__shape TlenovoOfferView__shape--2"}),se("div",{class:"TlenovoOfferView__shape TlenovoOfferView__shape--3"}),se("div",{class:"TlenovoOfferView__shape TlenovoOfferView__shape--footer"})],-1),se("header",{class:"TlenovoOfferView__header"},[se("h1",null,"Gdzie nas znajdziesz"),se("p",{class:"TlenovoOfferView__headerTagline"},[wr(" Nasza siedziba znajduje si w: "),se("br"),wr(),se("br"),wr(" Wabrzychu, ul. Ratuszowa 6 "),se("br"),wr(" 58-304 Wabrzych "),se("br")])],-1),se("section",{class:"TlenovoOfferView__content"},[se("div",{class:"TlenovoOfferView__mapContainer"},[se("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2522.533882477003!2d16.249017677116132!3d50.78421367165772!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x470e5691a8945371%3A0x4d0245478485a0bd!2sAqua%20Zdr%C3%B3j!5e0!3m2!1spl!2spl!4v1764858276464!5m2!1spl!2spl",width:"100%",height:"400",style:{border:"0"},referrerpolicy:"no-referrer-when-downgrade",class:"TlenovoOfferView__map"})]),se("div",{class:"TlenovoOfferView__contentItem"},[se("h2",{class:"TlenovoOfferView__contentItemTitle"},"Informacje dodatkowe"),se("p",{class:"TlenovoOfferView__contentItemText"}," Nasz gabinet znajduje si w budynku gwnym Aqua Zdrj w Wabrzychu na poziomie 0. Na wprost od gwnego wejcia na basen. ")])],-1)])),_:1})}const Bx=Rr(Vx,[["render",jx],["__scopeId","data-v-709d5640"]]),qx=500,zx=2100,Ux=50,$x={__name:"MainLayout",setup(t){const e=Sm(),{openRegulaminInNewTab:n}=hb(),r=ye(()=>e.screen.lt.md),i=et(0),o=et(!1),s=et("tab1"),a=et(null),c=et(null),h=et(null),d={tab1:5850,tab2:3200,tab3:750,tab4:1/0},y=ye(()=>!o.value&&r.value&&s.value==="tab1"&&i.value<=qx),S=ye(()=>!o.value&&r.value&&s.value==="tab1"&&i.value<=zx),p=ye(()=>!o.value&&s.value==="tab1"&&i.value<=d[s.value]);function N(){const be=fe.map(H=>H.name),ge=be.indexOf(s.value),T=ge+1>=be.length?0:ge+1;s.value=be[T]}function R(){const be=fe.map(H=>H.name),ge=be.indexOf(s.value),T=ge-1<0?be.length-1:ge-1;s.value=be[T]}let L=0,C=0,F=0,B=0;function M(be){L=be.changedTouches[0].screenX,C=be.changedTouches[0].screenY}function Z(be){F=be.changedTouches[0].screenX,B=be.changedTouches[0].screenY,ue()}function ue(){const be=F-L,ge=B-C;Math.abs(be)>Math.abs(ge)&&Math.abs(be)>Ux&&(be<0?N():R())}function V(){const be=c.value?.$el,ge=h.value?.$el;be&&(be.addEventListener("touchstart",M,{passive:!0}),be.addEventListener("touchend",Z,{passive:!0})),ge&&(ge.addEventListener("touchstart",M,{passive:!0}),ge.addEventListener("touchend",Z,{passive:!0}))}function E(){const be=c.value?.$el,ge=h.value?.$el;be&&(be.removeEventListener("touchstart",M),be.removeEventListener("touchend",Z)),ge&&(ge.removeEventListener("touchstart",M),ge.removeEventListener("touchend",Z))}Yr(()=>{V()}),Bc(()=>{E()});async function b(){await n()}function I(){s.value="tab2"}function _(be){switch(s.value="tab2",be){case"wzrost-energii":a.value="wzrost-energii";break;case"najlepsza-koncentracja":a.value="najlepsza-koncentracja";break;case"naturalna-regeneracja":a.value="naturalna-regeneracja";break;case"proces-terapii":a.value="proces-terapii";break;case"wzrost-odpornosci":a.value="wzrost-odpornosci";break;case"wzrost-vo2max":a.value="wzrost-vo2max";break}setTimeout(()=>{},2e3)}function w(){s.value="tab4"}function x(){s.value="tab3"}function U(){s.value="tab1"}function re(be){o.value=be}function le(){o.value=!0}function ae(be){const{position:{top:ge}}=be;i.value=ge}function J(be){console.log(" Tab updated:",be)}const fe=Dl([{name:"tab1",label:"Strona gwna",component:Fx,props:{get isFormVisible(){return o.value}},events:{redirect:I,formToggle:re,benefitClick:_,locationClick:w,regulationsClick:b,contraindicationsClick:x}},{name:"tab2",label:"Zastosowania",component:Yb,props:{get targetBenefit(){return a.value}},events:{}},{name:"tab3",label:"Przeciwwskazania",component:Nb,props:{},events:{}},{name:"tab4",label:"Kontakt",component:Bx,props:{},events:{}}]);return(be,ge)=>r.value?(wt(),Xt(xp,{key:1,view:"hHr lpR fFf",class:"MainLayout"},{default:rn(()=>[xt(_p,{class:"MainLayout__header",elevated:""},{default:rn(()=>[xt(vp,{class:"MainLayout__toolbar"},{default:rn(()=>[r.value&&s.value!=="tab1"?(wt(),Xt(Yn,{key:0,class:"MainLayout__headerBtnPrev",fab:"",dense:"",round:"",icon:"chevron_left",size:"xl",padding:"12px",onClick:R})):qn("",!0),r.value&&s.value!=="tab1"?(wt(),Xt(Lu,{key:1})):qn("",!0),xt(q1,{class:"MainLayout__toolbarLogo",isMobile:r.value},null,8,["isMobile"]),r.value&&s.value!=="tab4"||!r.value?(wt(),Xt(Lu,{key:2})):qn("",!0),r.value&&s.value!=="tab4"?(wt(),Xt(Yn,{key:3,class:"MainLayout__headerBtnNext",fab:"",dense:"",round:"",icon:"chevron_right",size:"xl",padding:"12px",onClick:N})):qn("",!0),r.value?qn("",!0):(wt(),Xt(w5,{key:4,class:"MainLayout__toolbarTabs",modelValue:s.value,"onUpdate:modelValue":ge[1]||(ge[1]=T=>s.value=T)},{default:rn(()=>[(wt(!0),Dn(xs,null,Ts(fe,T=>(wt(),Xt(y5,{key:T.name,class:"MainLayout__toolbarTab",name:T.name,label:T.label},null,8,["name","label"]))),128))]),_:1},8,["modelValue"]))]),_:1})]),_:1}),xt(Sp,{ref_key:"tabPanelsMobile",ref:h,class:"MainLayout__pageContainer",modelValue:s.value,"onUpdate:modelValue":ge[2]||(ge[2]=T=>s.value=T),animated:""},{default:rn(()=>[(wt(!0),Dn(xs,null,Ts(fe,T=>(wt(),Xt(Ap,{key:T.name,class:"MainLayout__pageSection",name:T.name},{default:rn(()=>[xt(lf,{onScroll:ae}),(wt(),Xt(pp(T.component),mp({ref_for:!0},T.props,gp(T.events)),null,16))]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]),xt(Hr,{name:"bookBtnTransition",appear:""},{default:rn(()=>[y.value?(wt(),Xt(B1,{key:0,onBook:le})):qn("",!0)]),_:1}),xt(Hr,{name:"telephoneBtnTransition",appear:""},{default:rn(()=>[S.value?(wt(),Xt(z1,{key:0})):qn("",!0)]),_:1}),xt(U1)]),_:1})):(wt(),Xt(gb,{key:0},{default:rn(()=>[xt(xp,{view:"hHr lpR fFf",class:"MainLayout MainLayout--desktop-emulated"},{default:rn(()=>[xt(_p,{class:"MainLayout__header",elevated:""},{default:rn(()=>[xt(vp,{class:"MainLayout__toolbar"},{default:rn(()=>[s.value!=="tab1"?(wt(),Xt(Yn,{key:0,class:"MainLayout__headerBtnPrev",fab:"",dense:"",round:"",icon:"chevron_left",size:"xl",padding:"12px",onClick:R})):qn("",!0),s.value!=="tab1"?(wt(),Xt(Lu,{key:1})):qn("",!0),xt(q1,{onClick:U,class:"MainLayout__toolbarLogo",isMobile:!0}),s.value!=="tab4"?(wt(),Xt(Lu,{key:2})):qn("",!0),s.value!=="tab4"?(wt(),Xt(Yn,{key:3,class:"MainLayout__headerBtnNext",fab:"",dense:"",round:"",icon:"chevron_right",size:"xl",padding:"12px",onClick:N})):qn("",!0)]),_:1})]),_:1}),xt(Sp,{ref_key:"tabPanelsDesktop",ref:c,class:"MainLayout__pageContainer MainLayout__pageContainer--desktop",modelValue:s.value,"onUpdate:modelValue":[ge[0]||(ge[0]=T=>s.value=T),J],animated:""},{default:rn(()=>[(wt(!0),Dn(xs,null,Ts(fe,T=>(wt(),Xt(Ap,{key:T.name,class:"MainLayout__pageSection",name:T.name},{default:rn(()=>[xt(lf,{onScroll:ae}),(wt(),Xt(pp(T.component),mp({ref_for:!0},T.props,gp(T.events)),null,16))]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]),xt(Hr,{name:"bookBtnTransition",appear:""},{default:rn(()=>[p.value?(wt(),Xt(B1,{key:0,onBook:le})):qn("",!0)]),_:1}),xt(Hr,{name:"telephoneBtnTransition",appear:""},{default:rn(()=>[p.value?(wt(),Xt(z1,{key:0})):qn("",!0)]),_:1}),xt(U1)]),_:1})]),_:1}))}},Xx=Object.freeze(Object.defineProperty({__proto__:null,default:$x},Symbol.toStringTag,{value:"Module"}));export{Xx as M,gn as _};
